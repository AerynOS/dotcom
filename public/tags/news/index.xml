<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>AerynOS – News</title>
    <link>http://localhost:1313/tags/news/</link>
    <description>Recent content in News on AerynOS</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 09 Dec 2025 12:00:00 +0000</lastBuildDate>
    
	  <atom:link href="http://localhost:1313/tags/news/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>2025 in retrospect</title>
      <link>http://localhost:1313/blog/blog/2026/01/2025-in-retrospect/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2026/01/2025-in-retrospect/</guid>
      <description>
        
        
        &lt;p&gt;2025 has been a year of significant change for the AerynOS project, not just in terms of development itself but also in name and in the staff working on the project.&lt;/p&gt;
&lt;p&gt;We know many people will be following along, waiting for our beta and/or stable releases but for now we want to take a look back at 2025 and summarize what we have delivered and how that is positioning us strongly for 2026.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;Camp-Fire.jpg&#34; alt=&#34;Camp Fire&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The TL;DR summary:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;We changed our name from Serpent OS to AerynOS. Aeryn is a different form of Erin, which means Ireland in Irish Gaelic.&lt;/li&gt;
&lt;li&gt;The project founder, Ikey, stepped away from the project in mid April. A few weeks later, he sent an invitation to project co-founder and co-architect, Rune Morling (ermo), to be his Github account successor.&lt;/li&gt;
&lt;li&gt;After these events, ermo asked the team if they would be interested in carrying on working on the project under his stewardship while waiting for Ikey to potentially make contact, and the team voted unanimously in favour of doing so.&lt;/li&gt;
&lt;li&gt;Since then, the team has continued to deliver per the project roadmap:
&lt;ul&gt;
&lt;li&gt;We completed the transition of all core tooling to Rust.
&lt;ul&gt;
&lt;li&gt;The new Rust-based infra has now delivered thousands of package builds while proving to be much more stable and robust than the previous implementation.&lt;/li&gt;
&lt;li&gt;Leveraging Rust has enabled us to confidently deliver new tooling solutions like versioned repositories and a system-model approach to declaratively describe system installs.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;We improved upon the Cosmic DE offering whilst delivering new KDE Plasma and Console-based install options&lt;/li&gt;
&lt;li&gt;We onboarded several new staff members onto the project over the course of the year with differing strengths and interests&lt;/li&gt;
&lt;li&gt;We reworked our cloud hosting setup to deliver more build capabilities at lower cost base&lt;/li&gt;
&lt;li&gt;We renewed our media strategy through increased blog posts and engagement across social media platforms&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;What&amp;rsquo;s in a name&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;whats-in-a-name&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#whats-in-a-name&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The first and biggest change we made this year was changing our name &lt;a href=&#34;https://aerynos.com/blog/2025/02/14/evolve-this-os/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;from Serpent OS to AerynOS&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. We are aware that, to some, this move was somewhat controversial. Our stance has been simple: A name takes on the meaning you give it.&lt;/p&gt;
&lt;p&gt;Over time, we have continued to work to deliver on our goals for AerynOS. In return, people have become less focused on the name and more focused on what we are setting out to do, and what we are continuously delivering.&lt;/p&gt;
&lt;p&gt;As an aside, we originally utilised AI tooling to create our logo, but this is not something we are overly comfortable with for the long run. We are looking at our options around either iterating on or creating a new &amp;ldquo;human made&amp;rdquo; logo where we can feel a lot more confident around licensing and ownership of the artwork itself.&lt;/p&gt;
&lt;h2&gt;The project founder steps away&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;the-project-founder-steps-away&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#the-project-founder-steps-away&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In mid April of this year, Ikey went offline as part of a move, and subsequently never returned.&lt;/p&gt;
&lt;p&gt;At the time, the team tried to reach out in multiple ways, however there has sadly been no reciprocation, other than ermo receiving a Github request sent from Ikey&amp;rsquo;s Github account to become Ikey&amp;rsquo;s &lt;a href=&#34;https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/repository-access-and-collaboration/maintaining-ownership-continuity-of-your-personal-accounts-repositories&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;account successor&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; towards the end of the first week of May.&lt;/p&gt;
&lt;p&gt;Taking into account Ikey&amp;rsquo;s experiences up until his move, we have made the assumption that his stepping back from the project was related to ongoing personal health problems for him and his family, which were compounded by significant financial strain as we understand it.&lt;/p&gt;
&lt;p&gt;Note that, out of respect to Ikey and his family, we will not be elaborating any further on this. Needless to say, we wish him and his family the best and hope that they will have found a way through their travails.&lt;/p&gt;
&lt;p&gt;As Ikey has left us with no way to contact him, we cannot share with you how to directly support him financially. All we can say is that you &lt;em&gt;may&lt;/em&gt; be able to do so via his personal GH sponsors account, &lt;a href=&#34;https://github.com/sponsors/ikeycode&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;@ikeycode&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;, though we stress that we have no way of knowing whether he will actually be receiving any money you decide to send that way.&lt;/p&gt;
&lt;h2&gt;Team regroup and reset&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;team-regroup-and-reset&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#team-regroup-and-reset&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;To ensure the project would be able to continue in the short and medium term, and on the basis that he felt that the promise of the tech and the underpinnings of AerynOS were too good to be left to languish and wither away, ermo asked the team whether they would like to continue working under his stewardship while we awaited news from Ikey. The team voted unanimously in favour of doing so.&lt;/p&gt;
&lt;p&gt;Hence, for the initial couple of months, our focus was to continue delivering as a project, while allowing Ikey the space and the time to return once he&amp;rsquo;d had a chance to regroup and recover. This included letting all project sponsorship (including Ko-fi sponsorship) flow directly to Ikey.&lt;/p&gt;
&lt;p&gt;As time progressed and the likelihood of Ikey getting in contact and returning grew dim, we needed to be in a position to actually have control of project assets and went about gaining said control in order to be able to keep the proverbial lights on.&lt;/p&gt;
&lt;p&gt;With the exception of the original AerynOS X account, we have regained access to all relevant accounts, and have continued delivering on the project goals in the meantime.&lt;/p&gt;
&lt;p&gt;We have done our best to not let any of this negatively impact our early alpha testers&amp;rsquo; experience of the project, and feel that we have largely succeeded in doing so. The only real hiccup was a few months of reduced package delivery from mid April to late May, where we worked flat out to restore our ability to deliver package updates via the then under-development Rust infra port, after the old Proof-of-Concept DLang infra broke down completely.&lt;/p&gt;
&lt;p&gt;We are now 9 months on from Ikey stepping back, and taking into account that we have not heard from him and that he explicitly designated ermo as his GH account successor, we are in the final stages of offboarding him into an inactive project alumni role.&lt;/p&gt;
&lt;p&gt;We would like to stress that, as a project, we hold no ill will towards Ikey, and that we simply wish him the best. There is no hiding that his work was foundational to AerynOS with respect to both the tooling, the distribution itself, and the vision &amp;amp; ethos he promulgated for the project. We simply would not be where we are now as a project without his years of forward-looking engineering efforts.&lt;/p&gt;
&lt;p&gt;At the same time, we think the present blog post will serve to outline why, based on our ability to deliver up until now, we are confident in our ability to continue developing AerynOS and its tooling into the future.&lt;/p&gt;
&lt;h2&gt;Infrastructure &amp;amp; Tooling development&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;infrastructure--tooling-development&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#infrastructure--tooling-development&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Late March and April also saw the start of the porting effort of our infrastructure from DLang to Rust. The approach for this porting effort was to develop a so-called &amp;ldquo;Minimum Viable Product&amp;rdquo; (MVP) code base that could iteratively be improved.&lt;/p&gt;
&lt;p&gt;After several months of development, in late May we started delivering packages to users again, which had all been built from the new Rust based infrastructure code base. This effort included a full rebuild of the whole recipe repo at the time to ensure ABI sanity of the newly built packages.&lt;/p&gt;
&lt;p&gt;The development of our infrastructure didn&amp;rsquo;t stop there. Throughout the year, the code has been continually developed and expanded upon to land new features. In the last three months, the team has successfully delivered an MVP of the Versioned Repositories feature and an accompanying system-model feature as two very important examples of this.&lt;/p&gt;
&lt;h3&gt;Versioned Repositories&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;versioned-repositories&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#versioned-repositories&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;When fully fleshed out, Versioned Repositories will allow the team to seamlessly deliver improvements to our os-tooling (&lt;code&gt;moss&lt;/code&gt; and &lt;code&gt;boulder&lt;/code&gt;) in a controlled fashion. This is important as AerynOS is a rolling release distribution, meaning we need to be able to deliver improvements to users&amp;rsquo; systems without breaking them or requiring complex manual upgrade procedures.&lt;/p&gt;
&lt;p&gt;From a user perspective, it will open up the ability to decide which version or &amp;ldquo;update stream&amp;rdquo; of our repositories they want to use, for example opening up the capability to &amp;ldquo;lock&amp;rdquo; their system to a specific release or point in time, or eventually opening up the capability to use release-candidate or in-testing package builds that wouldn&amp;rsquo;t otherwise make their way into the &amp;ldquo;standard&amp;rdquo; AerynOS Repository.&lt;/p&gt;
&lt;p&gt;In short, users will be able to use Versioned Repositories to easily choose a more stable and cautious repository or conversely to choose a more bleeding edge repository based on their needs and desires for their systems.&lt;/p&gt;
&lt;p&gt;More broadly speaking, Versioned Repositories will also eventually allow for layered repositories for x86_64-v3 and -v4 packages to sit above our baseline x86_64-v2 repository where we see worthwhile improvements in building -v3 and -v4 packages. AerynOS&amp;rsquo;s approach here will not be to rebuild full repositories of -v3 and -v4 packages, but instead to overlay these packages on top of the x86_64-v2 repository only where there are verifiable gains to be found by doing so.&lt;/p&gt;
&lt;p&gt;In a similar vein, this development workstream will eventually enable us to build repositories targeting ARM and RISC-V instruction sets. This will be a ways down the road and the team would need to acquire ARM and RISC-V builders at the appropriate time, but we want to foreshadow this to highlight that our current up front planning of our infrastructure development roadmap will enable very flexible use cases down the road.&lt;/p&gt;
&lt;h3&gt;system-model&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;system-model&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#system-model&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The system-model approach we are currently developing, is at its heart a declarative definition of the packages comprising a system and where they come from. The team has just landed the first iteration of this to users, and this &amp;ndash; along with Versioned Repositories &amp;ndash; will continue being a development focus into 2026. The system-model approach declares the repositories &amp;amp; packages a user wants to sync their system against. This is currently an opt-in solution with &lt;code&gt;moss&lt;/code&gt; now automagically generating a system-model.kdl file each time a moss transaction successfully completes.&lt;/p&gt;
&lt;p&gt;The team has multiple future ideas of how this system-model can be used with a few examples including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Sharing your system-model.kdl file for reproducing your system state for issue tracking and resolution&lt;/li&gt;
&lt;li&gt;Using your system-model.kdl file as part of your install to get your system exactly how you want it at first boot&lt;/li&gt;
&lt;li&gt;Changing your system by updating packages and then reverting back to your desired system-model on next sync&lt;/li&gt;
&lt;li&gt;Being able to pin to older Versioned Repositories (for stability&amp;rsquo;s sake) or if issues occur on the latest rolling Versioned Repository until it&amp;rsquo;s fixed&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All of these features, particularly where users could potentially face issues with their installs, are complemented by our offline rollback feature, which gives the ability to manually go back to either of 5 earlier states from the bootloader. This will ensure that users have both offline and online protections to help them recover from a misbehaving system.&lt;/p&gt;
&lt;iframe title=&#34;System-Model Demo&#34; width=&#34;1024&#34; height=&#34;580&#34; src=&#34;https://exquisite.tube/videos/embed/pQhJ4MkzZFovnYJVWyebiL&#34; style=&#34;border: 0px;&#34; allow=&#34;fullscreen&#34; sandbox=&#34;allow-same-origin allow-scripts allow-popups allow-forms&#34;&gt;&lt;/iframe&gt;
&lt;h2&gt;Team organisation&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;team-organisation&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#team-organisation&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We kicked off the year with looking for support in 4 key areas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Community management&lt;/li&gt;
&lt;li&gt;Documentation&lt;/li&gt;
&lt;li&gt;Translation&lt;/li&gt;
&lt;li&gt;Web development&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As the year has gone on, NomadicCore, Jplatte, bhh32 and CookieSource have joined the team bringing with them a vast amount of experience and enthusiasm.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s fair to say that community management and documentation development have taken significant steps forward. Web development is a work in progress area with plans being formulated for an eventual re-write of our main website, which frankly needs a lot of work. Translation efforts have been paused (or more accurately never started). The team is prioritising building out the core infrastructure and tooling first, with distro polish taking a back step until the tooling is ready for it.&lt;/p&gt;
&lt;h3&gt;Website development&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;website-development&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#website-development&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The current state of our website leaves a lot to be desired. We are aware that it needs a full refresh, not only for presentation, but also to include important information as a bare minimum.&lt;/p&gt;
&lt;p&gt;The team are looking at options such as Zola and Hugo as alternative Static Site Generators however this is a low priority workstream for now. We are open if anyone has experience in website design and would like to work with the team to develop our website into something to be proud of.&lt;/p&gt;
&lt;h2&gt;Distro updates&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;distro-updates&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#distro-updates&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;DE and WM updates&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;de-and-wm-updates&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#de-and-wm-updates&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Over the course of 2025, the team have continued to keep Gnome packaging updated whilst improving upon Cosmic through to its latest stable release. In addition, Reilly Brogan was able to get KDE Plasma packaged up, which expanded our recipe repo size by almost 50%.&lt;/p&gt;
&lt;p&gt;All three desktop environments have proved to be stable, though it needs to be said that Cosmic overall has a way to go for true maturity.&lt;/p&gt;
&lt;p&gt;We also decided to include a terminal-only option in our installer, which can be used to install and tweak e.g. Sway, Niri (and soon MangoWC) based custom Wayland environments almost from scratch.&lt;/p&gt;
&lt;p&gt;For now, we don&amp;rsquo;t have any concrete plans to package up additional DEs or WMs for AerynOS. There are &amp;ldquo;enough&amp;rdquo; options for early alpha testers and our core team to work from, and any additional options would simply add an extra maintenance burden on the team that would in turn detract from necessary tooling, infra and overall feature and integration work.&lt;/p&gt;
&lt;p&gt;In terms of future potential, it&amp;rsquo;s worth mentioning that AerynOS is first and foremost a forward-looking, Wayland-aligned project, which means that Wayland session support is a minimum requirement for any future DE or WM additions to the repository.&lt;/p&gt;
&lt;h3&gt;Installer&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;installer&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#installer&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;At the start of this year, Ikey shared initial screenshots of a GUI based installer that would eventually replace our text based installer as the primary installation method. With Ikey stepping back from the project, the development of this GUI installer took a back seat to allow the team to focus on higher-priority items such as delivering working infra.&lt;/p&gt;
&lt;p&gt;Recently, one of our new staff members, Bryan Hyland, began working in the background on a new GUI based installer to eventually fill this role.&lt;/p&gt;
&lt;p&gt;To put it simply, the idea is to eventually use the newly developed system-model approach to define the packages that would be installed per DE / WM and also allow users to use their own custom system-model.kdl files as the basis of an installation.&lt;/p&gt;
&lt;h2&gt;Sponsorship&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;sponsorship&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sponsorship&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;With Ikey stepping away earlier this year, for a period of time, it was unclear whether he would be returning or not. As the months passed by, the prospect of his return grew less and less likely. Therefore, as covered earlier in this blog post, we are now in the latter stages of formally retiring Ikey from the project.&lt;/p&gt;
&lt;p&gt;As mentioned previously, at the start of this year, the sponsorship was set up in such a way that all funds were sent directly to Ikey in order to enable him to afford to spend time working on the project and its underpinnings.&lt;/p&gt;
&lt;p&gt;However, in light of Ikey&amp;rsquo;s continued absence, the team has taken control of the AerynOS Ko-fi account and redirected the funds from it so they can be used to cover ongoing project running costs.&lt;/p&gt;
&lt;p&gt;All other references to sponsorship routes have been removed, leaving Ko-fi as our only official sponsorship medium.&lt;/p&gt;
&lt;p&gt;Due to the way Ko-fi sponsorships work, at the point of transition, we had to cancel all existing sponsorships. We are not yet at the point where we are at parity in sponsorship income compared to before they were cancelled, however, we are fully covering direct project costs.&lt;/p&gt;
&lt;p&gt;Part of this ability to cover direct project costs can be attributed to how we are spending our money and how we are utilizing as much of our own internal resources (such as ermo&amp;rsquo;s machines) for build capacity. We have also been developing our infrastructure code base to make it as flexible as possible in terms of adding new builders and scheduling builds efficiently based on individual builder resources.&lt;/p&gt;
&lt;p&gt;Our sponsorship goals in 2026 will be to continue growing our recurring sponsorships to help cover the backlog of historic project costs, and also to build up towards future hardware investments such as an x86_64-v4 capable builder.&lt;/p&gt;
&lt;p&gt;If any hardware vendors are interested in sponsoring the project either financially or through hardware sponsorship, this would be warmly received.&lt;/p&gt;
&lt;p&gt;Similarly, we are interested in and open to CDN sponsorship as a way of strengthening our package delivery and ISO download capabilities. If you are in a position to help make this happen, we would love to hear from you.&lt;/p&gt;
&lt;p&gt;If you wish to discuss sponsorship details, please reach out to us at &lt;a href=&#34;mailto:contact@aerynos.com&#34;&gt;contact@aerynos.com&lt;/a&gt;.&lt;/p&gt;
&lt;a
  href=&#34;https://ko-fi.com/aerynos&#34;
  class=&#34;not-prose hx:font-medium hx:cursor-pointer hx:px-6 hx:py-3 hx:rounded-full hx:text-center hx:text-white hx:inline-block hx:bg-primary-600 hx:hover:bg-primary-700 hx:focus:outline-hidden hx:focus:ring-4 hx:focus:ring-primary-300 hx:dark:bg-primary-600 hx:dark:hover:bg-primary-700 hx:dark:focus:ring-primary-800 hx:transition-all hx:ease-in hx:duration-200&#34;
  
  target=&#34;_blank&#34; rel=&#34;noreferrer&#34;&gt;Donate to AerynOS&lt;/a&gt;

&lt;h2&gt;Going into 2026&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;going-into-2026&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#going-into-2026&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;For now, there is a deliberate, continued focus on our os-tooling and infrastructure code bases, somewhat at the expense of delivering a fully featured Linux distribution for end users.&lt;/p&gt;
&lt;p&gt;As time goes on, the goal is for this balance to naturally shift as our code bases become more capable and featureful.&lt;/p&gt;
&lt;p&gt;Over time, and as logical consequence of this shift, we hope to be able to onboard more contributors to help us scale out the recipe repo, once the tooling is in a state where it conveniently allows for this.&lt;/p&gt;
&lt;p&gt;If any of this has piqued your interest and made you want to contribute, we invite you to join us over at our &lt;a href=&#34;https://aerynos.zulipchat.com&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Zulip chat platform&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Hope to see you there!&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>November &#43; early December 2025 project update</title>
      <link>http://localhost:1313/blog/blog/2025/12/09/november-and-early-december-blog-post/</link>
      <pubDate>Tue, 09 Dec 2025 12:00:00 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2025/12/09/november-and-early-december-blog-post/</guid>
      <description>
        
        
        &lt;p&gt;import Kofi from &amp;ldquo;@/components/ui/Kofi.astro&amp;rdquo;;
import { Aside } from &amp;ldquo;@astrojs/starlight/components&amp;rdquo;;&lt;/p&gt;
&lt;h1&gt;AerynOS: November + early December 2025 project update&lt;/h1&gt;&lt;p&gt;As we near the end of the year, the team has been reflecting on how best to position itself going into 2026. Over the course of November and early December, the team has made a number of changes, some of which have been public facing which you may have already seen if you&amp;rsquo;ve been following our socials.&lt;/p&gt;
&lt;p&gt;On the public side, the two most visible changes has been our transition away from Matrix to Zulip for our instant messaging chat platform, and our transition to netcup for our server requirements. In the background, the team has also changed email hosting providers, however no one would really have noticed any difference there.&lt;/p&gt;
&lt;p&gt;Packaging updates are progressing nicely with a nice rhythm for Cosmic and KDE stack updates, which along with fixes to reported issues is all helping to improve the overall experience for the people testing and checking out AerynOS.&lt;/p&gt;
&lt;p&gt;On the infrastructure side of things, we have landed simple auto-pruning logic into our Vessel repository manager. This sort of automation ensures that we keep our repository lean and mean.&lt;/p&gt;
&lt;p&gt;Things are progressing nicely in terms of getting &lt;a href=&#34;https://github.com/orgs/AerynOS/discussions/117&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;phase 1 of our Versioned Repositories infra feature&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; ready for production use. It was designed to from the outset to mesh nicely with our Moss system-model feature. Internal testing on a private infra instance has been running smoothly with these new features so far.&lt;/p&gt;
&lt;h2&gt;What’s new in the distro&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;whats-new-in-the-distro&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#whats-new-in-the-distro&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Package / stack updates for this iteration include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;COSMIC Beta9&lt;/li&gt;
&lt;li&gt;GNOME 49.2&lt;/li&gt;
&lt;li&gt;KDE Frameworks 6.20.0&lt;/li&gt;
&lt;li&gt;KDE Gear 25.08.2&lt;/li&gt;
&lt;li&gt;KDE Plasma 6.5.4&lt;/li&gt;
&lt;li&gt;bash 5.3.8&lt;/li&gt;
&lt;li&gt;buildah: Add at v1.42.2&lt;/li&gt;
&lt;li&gt;docker 29.0.4&lt;/li&gt;
&lt;li&gt;ffmpeg 8.0.1&lt;/li&gt;
&lt;li&gt;firefox 146.0&lt;/li&gt;
&lt;li&gt;gamemode: Add at 1.8.2&lt;/li&gt;
&lt;li&gt;linux 6.17.10&lt;/li&gt;
&lt;li&gt;llvm 21.1.7&lt;/li&gt;
&lt;li&gt;mesa 25.3.1 (with Vulkan anti-lag support enabled)&lt;/li&gt;
&lt;li&gt;openvpn 2.6.17&lt;/li&gt;
&lt;li&gt;prism-launcher 9.4&lt;/li&gt;
&lt;li&gt;scx-scheds 1.0.17&lt;/li&gt;
&lt;li&gt;sudo-rs 0.2.10&lt;/li&gt;
&lt;li&gt;uutils-coreutils 0.4.0&lt;/li&gt;
&lt;li&gt;vim 9.1.1896&lt;/li&gt;
&lt;li&gt;vscodium v1.106.37943&lt;/li&gt;
&lt;li&gt;wine 10.19&lt;/li&gt;
&lt;li&gt;xwayland-satellite 0.8&lt;/li&gt;
&lt;li&gt;zed 0.210.4&lt;/li&gt;
&lt;li&gt;zlib-ng: 2.3.2&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;hellip; along with sundry additions and updates.&lt;/p&gt;
&lt;h2&gt;Desktop Updates&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;desktop-updates&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#desktop-updates&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;Cosmic&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;cosmic&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#cosmic&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;Cosmic_Screenshot.png&#34; alt=&#34;Cosmic Install&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Our Cosmic packaging team have automated much of the update process based around the more frequent git tags that the System76 team are now publishing for the Cosmic Beta phase. As such, we are more quickly able to push updates out to our volatile repository for eventual availability in our unstable repository.&lt;/p&gt;
&lt;p&gt;As an aside, we believe we have fixed the issue for Cosmic DE sessions where USB devices were not automatically showing up, by adding gvfs as part of the Cosmic pkgset. This is a fairly important usability feature so great to have it fixed.&lt;/p&gt;
&lt;p&gt;We have also fixed the issue we reported in our October Project Update blog post about sudo-rs not functioning correctly on Cosmic Terminal and Ptyxis in our Cosmic session.&lt;/p&gt;
&lt;p&gt;Overall, Cosmic is progressing nicely in general and we are polishing the experience on AerynOS in lockstep with Cosmic Beta9 having landed in our repositories.&lt;/p&gt;
&lt;p&gt;Additional details about Cosmic can be found on System76&amp;rsquo;s &lt;a href=&#34;https://system76.com/cosmic&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;website&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Gnome&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;gnome&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#gnome&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;Gnome_Screenshot.png&#34; alt=&#34;Gnome Install&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;As usual, there isn&amp;rsquo;t really much to say wrt. GNOME. The team has updated it to 49.2 and it is running nicely as expected.&lt;/p&gt;
&lt;h3&gt;KDE Plasma&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;kde-plasma&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#kde-plasma&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;KDE_Screenshot.png&#34; alt=&#34;KDE Install&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;KDE Plasma has been updated to 6.5.4, KDE Frameworks to 6.20.0.&lt;/p&gt;
&lt;p&gt;As part of these updates, Reilly added a few custom patches to better support monitors with high refresh rates.&lt;/p&gt;
&lt;h2&gt;Infrastructure Updates&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;infrastructure-updates&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#infrastructure-updates&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;Auto-pruning in vessel&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;auto-pruning-in-vessel&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#auto-pruning-in-vessel&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The new auto-pruning feature in our Vessel repository manager service means that our infra will periodically (currently daily) review what packages are present on our server storage versus which packages are reachable via a repository index.&lt;/p&gt;
&lt;p&gt;If packages are no longer reachable via a repository index, they are considered surplus to requirements and pruned.&lt;/p&gt;
&lt;p&gt;Automating this workload ensures that our storage doesn&amp;rsquo;t fill up and that our repository looks after itself over time, freeing the team from encountering unpleasant surprises in the form of having to take corrective action as storage fills up.&lt;/p&gt;
&lt;h2&gt;Wider Project Updates&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;wider-project-updates&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#wider-project-updates&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;Transition to netcup for our server requirements&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;transition-to-netcup-for-our-server-requirements&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#transition-to-netcup-for-our-server-requirements&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;As part of a wider review of our requirements, the team looked at how we were using our server and whether it was &amp;ldquo;right-sized&amp;rdquo; for where we are as a project. The project has shifted over the last 7 months to more heavily using ermo&amp;rsquo;s four private servers, meaning the &amp;ldquo;main&amp;rdquo; AerynOS build server hasn&amp;rsquo;t been utilised as effectively. Therefore, the team took the decision to sunset this server and look for a server better specified for repo hosting and infra coordination. To this end, we settled on a netcup &amp;ldquo;root server&amp;rdquo; based in Germany (where the old server was based in Finland). The netcup server has a 2.5Gbit NIC and has &amp;ndash; for European users at least &amp;ndash; yielded significantly faster download speeds.&lt;/p&gt;
&lt;p&gt;It is still early days, however we are very pleased with our transition to netcup. Their support offering during our initial set up phase was both responsive and very helpful.&lt;/p&gt;
&lt;h3&gt;Transition from Matrix to Zulip&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;transition-from-matrix-to-zulip&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#transition-from-matrix-to-zulip&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We want to preface this by saying we love what Matrix is doing by providing a federated open source instant messaging chat solution for users.&lt;/p&gt;
&lt;p&gt;However, for AerynOS specifically, we have been having a few issues with our matrix space, partially in administration and partially around federation and delays in messaging (or in some cases, some users not able to see messages from other users in one room but they could in others).&lt;/p&gt;
&lt;p&gt;As a team, we looked at what other options were available, and considered what our requirements were before eventually deciding to try Zulip on for size.&lt;/p&gt;
&lt;p&gt;After trying it internally for some time, it quickly became clear that it offers great instant messaging capabilities like Matrix whilst also offering many other features such as asynchronous conversations (threads/topics) that allow users, contributors and staff to better focus on the various project conversations that fall in their sphere of interest or responsibility.&lt;/p&gt;
&lt;p&gt;Like Matrix, Zulip is an Open Source Project and it also has hundreds of integrations that help elevate the overall User and Moderator experience.&lt;/p&gt;
&lt;p&gt;Initial feedback from our wider user base has been overwhelmingly positive and we are excited to continue on this journey!&lt;/p&gt;
&lt;p&gt;For transparency, Zulip has a policy of supporting Open Source Projects, and has generously sponsored the AerynOS project with a standard cloud server instance at no cost.&lt;/p&gt;
&lt;p&gt;Please feel free to join our &lt;a href=&#34;https://aerynos.zulipchat.com&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Zulip&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; server and get to know the community that is building up around AerynOS.&lt;/p&gt;
&lt;h3&gt;Transition to Migadu for emails&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;transition-to-migadu-for-emails&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#transition-to-migadu-for-emails&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The team had a look at the options available in the market for emails and decided to make a transition to Migadu&amp;rsquo;s offering, after Migadu offered us an OSS project discount.&lt;/p&gt;
&lt;p&gt;While it does require a little more set up than other providers out there, it has the substantial benefit that you can set up as many email addresses on your account as you want or need, without this impacting the cost base.&lt;/p&gt;
&lt;p&gt;This will undoubtedly prove helpful for the project going forward.&lt;/p&gt;
&lt;h3&gt;Logo / Branding / Website progress&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;logo--branding--website-progress&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#logo--branding--website-progress&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The team has been looking at our branding and reviewing our requirements. It&amp;rsquo;s safe to say that if we didn&amp;rsquo;t have to update these, we would keep them as is as there are other higher priority activities.&lt;/p&gt;
&lt;p&gt;However, if we take the logo itself, it was created using AI tools, so doesn&amp;rsquo;t really line up with our project ethos and does leave questions over licensing and ownership.&lt;/p&gt;
&lt;p&gt;As such, we have been looking at what we might want from a logo and how it can best represent AerynOS. In keeping with this, we have also been looking at our wider branding including the colour schemes that we use.&lt;/p&gt;
&lt;p&gt;Given that the naming conventions for AerynOS&amp;rsquo;s infrastructure and tooling projects all link to nature, we are leaning towards a nature oriented colour scheme going forward.&lt;/p&gt;
&lt;p&gt;Lastly, we have been looking at our website which is in dire need of work. We currently use Astro for the website, however we have found that to be a complex solution. This is especially true as none of the current team / wider contributor base has much experience with Astro. We have been looking at the field of Static Site Generators (SSGs) and have shortlisted it down to Zola and Hugo, both of which are meant to be much easier to work with than Astro.&lt;/p&gt;
&lt;p&gt;Zola is the preferred option with it being Rust based, however it&amp;rsquo;s fair to say that it is a much smaller project so doesn&amp;rsquo;t have anywhere near as extensive a theme library to choose from. Hugo is a larger / more mature project with greater theming, but is tied to Go which would create an additional maintenance burden outside of the team&amp;rsquo;s core focus.&lt;/p&gt;
&lt;p&gt;Outside of existing themes, one option is to create (and subsequently maintain) a brand new theme, but this requires expertise and would place a burden on the team to ensure compatibility and that everything is updated within the template as time progresses.&lt;/p&gt;
&lt;p&gt;If you have experience in website design and would like to help create / shape a redesign for our main website, then please join us on our &lt;a href=&#34;https://aerynos.zulipchat.com/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Zulip&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; server so that we can discuss how to move things forward.&lt;/p&gt;
&lt;h3&gt;Documentation website progress&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;documentation-website-progress&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#documentation-website-progress&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;With new contributors coming on board, our documentation website has seen significant updates in both content and in presentation. Whilst still a work-in-progress project, it is becoming more usable with less gaps. The team and wider contributor base continues to push updates, the big outstanding one being how to create new package recipes from scratch.&lt;/p&gt;
&lt;p&gt;Once these gaps are filled in, it will become an iterative exercise to make sure our documentation stays updated and potentially go down into further detail where feedback suggests this is necessary.&lt;/p&gt;
&lt;h3&gt;Download choices and BitTorrent&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;download-choices-and-bittorrent&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#download-choices-and-bittorrent&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Another area we have been reviewing is how we serve ISO downloads to our users. We currently only offer a direct download via our package server behind a CDN. As a small operation, this has suited us well enough, however users in certain locations don&amp;rsquo;t necessarily benefit from this solution.&lt;/p&gt;
&lt;p&gt;We have had the BitTorrent option on the board for a long while now, and over the last couple of weeks, we silently added a torrent link for the AerynOS 2025.10 ISO. With the 2025.12 ISO we are taking this approach forward. This will have a secondary benefit of reducing the load on our server / CDN at the point of ISO releases, as bandwidth is naturally distributed due to the torrenting approach. We will continue to offer direct downloads for anyone who prefers this option.&lt;/p&gt;
&lt;h2&gt;ISO refresh&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;iso-refresh&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#iso-refresh&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We are releasing our newest Alpha ISO, AerynOS 2025.12, which includes the updates we&amp;rsquo;ve worked on during the month of November and the first week of December, and which features the 6.17.10 kernel at the time of upload.&lt;/p&gt;
&lt;p&gt;As usual, this is a Live GNOME ISO that contains our Alpha/PoC &lt;code&gt;lichen&lt;/code&gt; installer. Hence, installing AerynOS requires a network connection over which the latest pkgsets can be downloaded and subsequently installed onto a dedicated AerynOS target hard drive.&lt;/p&gt;
&lt;p&gt;The link for our 2025.12 ISO can be found at our &lt;a href=&#34;http://localhost:1313/download/&#34;&gt;download&lt;/a&gt; page.&lt;/p&gt;
&lt;h2&gt;Next Steps&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;next-steps&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#next-steps&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The rest of december is dedicated to bringing phase 1 of the Versioned Repositories feature &lt;a href=&#34;https://github.com/AerynOS/infra/pull/142&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;PR here&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; and its associated Moss system-model companion feature &lt;a href=&#34;https://github.com/AerynOS/os-tools/pull/596&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;PR here&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; up to snuff and landed for the general public.&lt;/p&gt;
&lt;p&gt;As mentioned in the introduction, these PRs are already in testing, and merely need some final bits and bobs wrapped up before they can be landed and put in production.&lt;/p&gt;
&lt;Aside title=&#34;What are Versioned Repositories?&#34;&gt;
&lt;pre&gt;&lt;code&gt;The fully realised Versioned Repositories feature will enable us to deploy new Boulder and Moss features in a seamless fashion. It will allow us to introduce breaking code and on-disk format changes, that would otherwise cause installed systems to require manual intervention for them to continue to receive updates.

Once Versioned Repositories are in place, the goal is that users will be able to simply update and sync their system as normal via the `sudo moss sync -u` command.

With this:

    - Users will be upgraded to the new versions of Moss that uses a new repository format, without having to pay special attention.
    - It will enable AerynOS to iteratively expand the capability of Moss and Boulder on existing systems without breaking user systems in the process.

Going further, we consider Versioned Repositories a pre-requisite for what we call &amp;quot;try-builds&amp;quot; and eventually for multi-arch support.

    - Automated try-builds denotes the process whereby the infrastructure discovers an update to the upstream source repository of a package, attempts to auto-update the recipe and then attempts to build the updated package recipe in question.
    - We think this will be a useful tool for contributors as it will automate some of the packaging tedium related to simple package version updates. It will also help enable automated regression testing and build flag optimisation in a future workstream.
    - Included under the multi-arch umbrella is our ability to target ARM, RISC-V, and different x86 architecture levels such as x86-64-v3 and v4.
&lt;/code&gt;&lt;/pre&gt;
&lt;/Aside&gt;
&lt;h2&gt;Supporting the project&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;supporting-the-project&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#supporting-the-project&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Following the October blog post, we had a flurry of new donors whom we want to thank for supporting our project. Their support is greatly appreciated, especially given the global cost of living crisis leaving less money in peoples pockets each month. Your support means a lot to everyone on the project as it shows the faith you have in the work we are doing!&lt;/p&gt;
&lt;p&gt;2025 has been a significant year for the project, with the team having landed our new Rust based infrastructure, repository-wide rebuilds along with landing KDE and significantly improving our Cosmic offering whilst also landed new features into our tooling. We see our Versioned Repository work continuing into 2026, and this will eventually help lift AerynOS into becoming a serious offering in the Linux distribution space. Onwards and upwards!&lt;/p&gt;
&lt;p&gt;If you are following along with our project and are in a position to support us, please consider donating via our Ko-fi page.&lt;/p&gt;
&lt;Kofi /&gt;

      </description>
    </item>
    
    <item>
      <title>October 2025 project update</title>
      <link>http://localhost:1313/blog/blog/2025/10/31/</link>
      <pubDate>Fri, 31 Oct 2025 09:00:00 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2025/10/31/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2025/10/31/Featured_hu_ff405aa80a68dd79.png" width="640" height="427"/>]]>
        
        &lt;p&gt;import Kofi from &amp;ldquo;@/components/ui/Kofi.astro&amp;rdquo;;&lt;/p&gt;
&lt;p&gt;We are firmly in the final quarter of 2025 and what a year it&amp;rsquo;s been so far. In our last blog post at the end of September, we mentioned that we were delaying the release of our next ISO into October to give our Gnome 49 stack (and the wider extensions ecosystem) more time to mature.&lt;/p&gt;
&lt;p&gt;Coming into the final week of October, the team made the decision to transition from clang&amp;rsquo;s libc++ to GNU libstdc++ and work through the associated rebuild requirements across our repository.&lt;/p&gt;
&lt;p&gt;We also mentioned in our September blog post that we had reached the point of having stable build infrastructure. However, over the course of October, we had an old problem re-appear, which proved somewhat vexing to solve initially.&lt;/p&gt;
&lt;p&gt;After the issue was debugged, and a fixed version of boulder was deployed to the build infrastructure, we used the transition back to libstdc++, which included hundreds and hundreds of rebuilds, and the landing of the KDE Plasma 6.5 stack to verify that that we have put this particular issue behind us.&lt;/p&gt;
&lt;p&gt;In addition to the build infrastructure related boulder fixes, the team has also found the time to hash out a design for, and prepare an early prototype PR of, the moss declarative &lt;code&gt;system-model&lt;/code&gt; feature, as well as landing a few small user experience improvements and correctness fixes to both moss and boulder.&lt;/p&gt;
&lt;p&gt;With that all said and done, we are ready with our 2025.10 GNOME Live ISO refresh for you to enjoy along with this blog post.&lt;/p&gt;
&lt;h2&gt;Whats new in the distro&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;whats-new-in-the-distro&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#whats-new-in-the-distro&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Package / stack updates for this month include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;KDE Plasma 6.5.1&lt;/li&gt;
&lt;li&gt;Cosmic Beta3&lt;/li&gt;
&lt;li&gt;Gnome 49.1&lt;/li&gt;
&lt;li&gt;Linux 6.16.12&lt;/li&gt;
&lt;li&gt;Mesa 25.2.5&lt;/li&gt;
&lt;li&gt;KDE Frameworks 6.19&lt;/li&gt;
&lt;li&gt;KDE Gear 25.08.2&lt;/li&gt;
&lt;li&gt;llvm 21.1.4&lt;/li&gt;
&lt;li&gt;uutils-coreutils 0.3.0&lt;/li&gt;
&lt;li&gt;sudo-rs 0.2.9&lt;/li&gt;
&lt;li&gt;ffmpeg 8.0&lt;/li&gt;
&lt;li&gt;pipewire 1.4.9&lt;/li&gt;
&lt;li&gt;Wine 10.17&lt;/li&gt;
&lt;li&gt;nodejs 22.21.0&lt;/li&gt;
&lt;li&gt;zed 0.206.6&lt;/li&gt;
&lt;li&gt;virt-manager 5.1.0&lt;/li&gt;
&lt;li&gt;bash 5.3.3&lt;/li&gt;
&lt;li&gt;scx-scheds 1.0.16&lt;/li&gt;
&lt;li&gt;vim 9.1.1829&lt;/li&gt;
&lt;li&gt;systemd 257.10&lt;/li&gt;
&lt;li&gt;uv 0.9.5&lt;/li&gt;
&lt;li&gt;perl-module-build: Add at v0.4234&lt;/li&gt;
&lt;li&gt;libdovi: Add at v3.3.2&lt;/li&gt;
&lt;li&gt;openconnect: Add a v9.12&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;hellip; along with sundry additions and updates.&lt;/p&gt;
&lt;h2&gt;Desktop Updates&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;desktop-updates&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#desktop-updates&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;Cosmic&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;cosmic&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#cosmic&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Our Cosmic environment has seen additional testers and contributors coming on-board to support Bryan who we highlighted in the previous blog post. Our Cosmic packaging team&amp;rsquo;s approach is to use System76’s repo-release &lt;a href=&#34;https://github.com/pop-os/repo-release&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;repository&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; rather than waiting for git tags. The team are running roughly on a bi-weekly update cycle keeping us up to date with Cosmic&amp;rsquo;s development where we had previously fallen behind. At the time of this blog post, our versions are tagged at Cosmic Beta3, however the code is somewhere between Cosmic Beta3 and Beta4, and Beta4 is being worked on as we write this.&lt;/p&gt;
&lt;h4&gt;Known issues&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;known-issues&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#known-issues&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;We are currently experiencing an issue with sudo-rs in Cosmic Terminal and the GNOME Ptyxis terminal emulator in our Cosmic session, however the issue doesn&amp;rsquo;t present with e.g. the Kitty terminal emulator, which can therefore be used as a workaround for the issue. We are tracking this issue in our bug tracker.&lt;/p&gt;
&lt;p&gt;Additional details about Cosmic can be found on System76&amp;rsquo;s &lt;a href=&#34;https://system76.com/cosmic&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;website&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Gnome&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;gnome&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#gnome&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The Gnome packaging team has updated our Gnome environment to 49.1. The team has also expanded the number of available Gnome packages in our repository, and we now include Showtime and Gnome-contacts in our gnome pkgsets accordingly. For clarity, these were added in September but were not mentioned in our previous blog post.&lt;/p&gt;
&lt;p&gt;Gnome continues to work very well on AerynOS and remains as our default live installation environment.&lt;/p&gt;
&lt;h3&gt;KDE Plasma&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;kde-plasma&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#kde-plasma&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Reilly Brogan has done a fantastic job landing KDE Plasma 6.5, KDE Gear 25.08.2 and KDE Frameworks 6.19.0 into our repository over the last month. The overall KDE Plasma experience continues to improve with users providing largely very positive feedback on its performance and fluidity on AerynOS.&lt;/p&gt;
&lt;p&gt;Over the last couple of months, KDE Plasma has now also been promoted as a recommended installation option alongside Gnome.&lt;/p&gt;
&lt;h2&gt;Distribution Updates&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;distribution-updates&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#distribution-updates&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;Switching back to GNU libstdc++ from LLVM libcxx&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;switching-back-to-gnu-libstdc-from-llvm-libcxx&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#switching-back-to-gnu-libstdc-from-llvm-libcxx&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The team decided to switch back to the GNU libstdc++ library from the LLVM libcxx C++ library as a defensive measure. This has resulted in us having to carry fewer patches across the stack, and has resolved a few bugs as a bonus. In particular, this has squashed an annoying bug related to the Firefox Widevine DRM plugin that in turn previously made certain video conferencing tools crash.&lt;/p&gt;
&lt;h3&gt;Packaging License Matching&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;packaging-license-matching&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#packaging-license-matching&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;New this month, when packagers use the &lt;code&gt;boulder recipe new&lt;/code&gt; invocation to create a new recipe from an upstream source archive, boulder will attempt to identify the applicable license of the package, and add it to the autogenerated skeleton stone.yaml recipe file.&lt;/p&gt;
&lt;p&gt;This is a nice quality of life and user experience feature for our packagers. The AerynOS ethos is to try to help lessen the burden on packagers by automating things that are simple in nature, yet time-consuming. This in turn, we hope, will enable packagers to spend more of their time on the parts of the packaging process that genuinely benefit from a human touch in terms of building a distro that they and users enjoy.&lt;/p&gt;
&lt;h3&gt;Parallelize the &lt;code&gt;moss state verify&lt;/code&gt; command&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;parallelize-the-moss-state-verify-command&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#parallelize-the-moss-state-verify-command&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Until recently, when employing the &lt;code&gt;moss state verify&lt;/code&gt; command to ensure the integrity of all moss states, boulder was limited to running on a single thread. The team updated the &lt;code&gt;moss state verify&lt;/code&gt; command to run certain tasks in parallel (using &lt;code&gt;rayon&lt;/code&gt;) which has significantly reduced the time to complete the verification process.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;moss state verify&lt;/code&gt; command currently does not have any indication of progress such as a progress bar. As such, a user may be unsure if their system is frozen. Whilst parallelizing performance-sensitive aspects of this task significantly reduces the time to completion, we have an issue raised to add a progress bar to the command for an improved user experience.&lt;/p&gt;
&lt;h3&gt;Infrastructure Stabilization&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;infrastructure-stabilization&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#infrastructure-stabilization&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;As it turned out, the issue we kept seeing (and have kept seeing since May) where build tasks would hang for no apparent reason, was actually related to the boulder threading code leaving threads running at the point where we called the &lt;code&gt;clone2&lt;/code&gt; syscall to enter a user-namespace container for build isolation purposes &amp;ndash; fearless concurrency indeed&amp;hellip;&lt;/p&gt;
&lt;p&gt;However, as these issues only manifested for us when boulder was invoked by the build infrastructure, and even then only rarely, it was not a problem we could trigger on demand.&lt;/p&gt;
&lt;p&gt;After some head-scratching and debugging sessions where we attached debuggers to live builds that had happened to hang, we finally found the root cause, and in turn were able to simplify our threading code significantly by always using a dedicated, explicit runtime that gets automatically shut down once the parallel (rayon) or threaded (tokio) work unit goes out of scope.&lt;/p&gt;
&lt;p&gt;This in turn now ensures that all threads have been shut down as required, before entering the cloned user-namespace container.&lt;/p&gt;
&lt;p&gt;Massive thanks to Cory Forsstrom for the work he put into solving this problem very elegantly over a couple of Pull Requests.&lt;/p&gt;
&lt;h3&gt;moss &lt;code&gt;system-model&lt;/code&gt; prototype feature&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;moss-system-model-prototype-feature&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#moss-system-model-prototype-feature&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The system-model feature is inspired by the feature of the same name from the Conary system and package manager. However, in practice, it will likely end up more like a hybrid of the Conary feature and e.g. the simpler and more limited Gentoo (and FreeBSD) &amp;lsquo;world&amp;rsquo; set.&lt;/p&gt;
&lt;p&gt;We are still hoping to be able to, when the time comes, offer versioned system-models that match our planned versioned repository work.&lt;/p&gt;
&lt;p&gt;The goal of the moss system-model feature is that it will eventually enable us to define, and switch between, system installs declaratively and seamlessly. This feature is slated to be suitable for use on both live systems, recovery initramfs environments, and for installing new systems.&lt;/p&gt;
&lt;p&gt;It is important to note that the system-model feature will be an opt-in feature, and that it will continue to be possible to use moss in an imperative fashion, where the system state is defined by the sum total of historical moss operations executed on the command line.&lt;/p&gt;
&lt;p&gt;The design we have settled on makes it possible in the future to import (&amp;ldquo;resolve&amp;rdquo;) a declarative system-model to an imperatively defined system, just as it will be possible in the future to export (&amp;ldquo;derive&amp;rdquo;) a declarative system-model of any given imperatively created moss system state.&lt;/p&gt;
&lt;p&gt;We hope that, as we evolve and flesh out the system-model feature work, this will give both users and system integrators the flexibility they need to define their systems in ways that matches their requirements and preferences.&lt;/p&gt;
&lt;h2&gt;Wider Project updates&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;wider-project-updates&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#wider-project-updates&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;Donations&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;donations&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#donations&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;During October, we have made changes to our donation accounts and updated our site accordingly. Most importantly, the primary way to now provide donations to AerynOS is via our Ko-fi &lt;a href=&#34;https://ko-fi.com/aerynos&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;page&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Due to the way Ko-Fi works, we have had to cancel all existing recurring donations as the money would not automatically flow to our new accounts. We have sent messages out to our donors and are hoping that they will want to sign-up again to provide continued donations towards the project.&lt;/p&gt;
&lt;p&gt;All donations received by AerynOS are going towards paying our running costs, reimbursing ermo for his project hardware investments, and building a buffer for acquiring new hardware once the current hardware reaches its End of Life.&lt;/p&gt;
&lt;p&gt;Taken together, these three budget items result in a target income of around €500 per month, with a third of that projected to go to each of the outlined items.&lt;/p&gt;
&lt;p&gt;Due to the cancellations mentioned above, we are currently down to €25 of new/committed monthly recurring donations.&lt;/p&gt;
&lt;p&gt;Rest assured however, that this will not impact the project&amp;rsquo;s long term viability as we have the ability as a team to cover these costs. However, if you are able to provide any sort of donation, it would be greatly appreciated.&lt;/p&gt;
&lt;Kofi /&gt;
&lt;p&gt;As a side note, we have also moved away from taking donations in USD by default and switched to EUR as this is the currency we are primarily spending in for our project costs. This does not preclude us from accepting USD based donations however.&lt;/p&gt;
&lt;h3&gt;Presenting the 2025.10 ISO refresh&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;presenting-the-202510-iso-refresh&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#presenting-the-202510-iso-refresh&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Whilst we provide a bootable ISO image with a live GNOME environment, its main purpose is to serve as a vehicle for our &amp;rsquo;lichen&amp;rsquo; installer which is able to install all of our &amp;lsquo;GNOME&amp;rsquo;, &amp;lsquo;KDE Plasma&amp;rsquo;, &amp;lsquo;Cosmic&amp;rsquo; and &amp;lsquo;Terminal Only&amp;rsquo; versions of AerynOS. Given that &amp;rsquo;lichen&amp;rsquo; is a net installer, it will always pull the latest packages from our repository at the time of installation and as such, it requires an active internet connection. This means there is less of a need for regular ISO updates, as we have carefully designed our installation routine and our pkgsets to not be tightly coupled to the packages that happened to be available at the time of the live ISO creation.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;Featured.png&#34; alt=&#34;Installer preview&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;That said, with the addition of some significant updates in the Gnome stack, we felt it was a good opportunity to land a new live ISO for you all to try out. The link for our 2025.10 ISO can be found at our &lt;a href=&#34;https://aerynos.com/download/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;download&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; page.&lt;/p&gt;
&lt;h2&gt;Next steps&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;next-steps&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#next-steps&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Going into November, the team will continue to execute on our development plans related to improving our infrastructure in terms of both capability and user experience, just as we will be continuing to work on improving our moss and boulder tools via their planned workstreams, particularly the moss &lt;code&gt;system-model&lt;/code&gt; related workstream.&lt;/p&gt;
&lt;p&gt;On a final note, we are progressing on the documentation front, and work is steadily trickling into our documentation site. Thank you to everyone who has contributed!&lt;/p&gt;
&lt;p&gt;If you are interested in our work or generally want to hang out, the best place to join us is in our &lt;a href=&#34;https://matrix.to/#/#aerynos:matrix.org&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Matrix space&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. Alternatively, our Forums can be found on &lt;a href=&#34;https://github.com/orgs/AerynOS/discussions&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitHub&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>September 2025 project update</title>
      <link>http://localhost:1313/blog/blog/2025/09/30/september-2025-project-update/</link>
      <pubDate>Wed, 01 Oct 2025 18:25:00 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2025/09/30/september-2025-project-update/</guid>
      <description>
        
        
        &lt;p&gt;As we reach the end of September, it&amp;rsquo;s time for another monthly update. For this month, we are deferring our technical blog post into October but wanted to provide wider project updates.&lt;/p&gt;
&lt;h2&gt;Kernels&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;kernels&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#kernels&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;AerynOS is currently running on 6.16.8. While we are aware that Linux 6.17 was released on 28th September 2025, the AerynOS team takes the view that for larger software stacks, the wise thing to do is to hold back for a few point releases after a major version update to ensure there are no unexpected issues.&lt;/p&gt;
&lt;p&gt;Even though AerynOS is a rolling release distribution, we don&amp;rsquo;t aim to be on the bleeding edge just for the sake of being on the bleeding edge.&lt;/p&gt;
&lt;h2&gt;Gnome 49&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;gnome-49&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#gnome-49&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The team updated to Gnome 49 within a couple of weeks following its release meaning it&amp;rsquo;s now available in our repository. Given the way Gnome updates and how extensions then follow suit, we are aware that many extensions have not yet been updated for compatibility with Gnome 49.&lt;/p&gt;
&lt;p&gt;As such, we are holding back our next live installer ISO release until a larger number of extensions have had time to go through their own update cycles.&lt;/p&gt;
&lt;h2&gt;Infra stabilization&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;infra-stabilization&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#infra-stabilization&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;2025 has seen a massive lift in our infra code with the rewrite to Rust taking place in Q2, and its stabilization being pursued from the end of Q2 and up until now.&lt;/p&gt;
&lt;p&gt;In this period, the team has been incrementally refining the code, and resolved bugs as they have arisen. This is work that average users will not have seen or been aware of as it only affects workflows behind the scenes. However, this has been extremely important work that has increasingly allowed us to become more confident in our new infra foundations.&lt;/p&gt;
&lt;p&gt;We are now at the point where we are confident in calling our new infrastructure &amp;ldquo;stable&amp;rdquo;, with no bugs having presented themselves in several weeks and hundreds of packages built.&lt;/p&gt;
&lt;p&gt;It cannot be overstated how much better the state of our infra is compared to the start of the year. In turn, this now allows us to focus our efforts in other areas of our technology stack to similarly work through bugs, implement features and generally refine our code base.&lt;/p&gt;
&lt;h2&gt;Cosmic maintainership&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;cosmic-maintainership&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#cosmic-maintainership&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;A couple of months ago we had a new contributor, &lt;a href=&#34;https://github.com/bhh32&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Bryan Hyland&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;, join us and begin working on the Cosmic stack. Bryan&amp;rsquo;s contributions have been invaluable to the team and we thank him for his engagement.&lt;/p&gt;
&lt;p&gt;Unfortunately, due to personal reasons, he is having to take a temporary step back from the project. He has shared his methodology for providing updates to the Cosmic packages and we already have willing contributors from our community picking up the in-flight tasks.&lt;/p&gt;
&lt;p&gt;We know he will be back once his circumstances improve, but in the meantime, if you are curious about supporting Cosmic on AerynOS, please do get in touch in our &lt;a href=&#34;https://matrix.to/#/#AerynOS-Packaging:matrix.org&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Matrix packaging channel&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; as it&amp;rsquo;s always good to have several people capable of maintaining each of our DE stacks.&lt;/p&gt;
&lt;h2&gt;Web development&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;web-development&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#web-development&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;One area in which we often receive feedback is our website. Given we are in an alpha state, it has not been our highest priority to improve it. We do have a couple of interested contributors wanting to work on our website to help improve the overall look and feel of the project, though.&lt;/p&gt;
&lt;p&gt;Hence, if you are interested in website design and want to lend a hand, please feel free to join our &lt;a href=&#34;https://matrix.to/#/#AerynOS-web:matrix.org&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Matrix webdev channel&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; as we will likely begin work on this area in parallel to our core development work.&lt;/p&gt;
&lt;h2&gt;Documentation&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;documentation&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#documentation&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Similarly to our web development work, we are seeing increasing numbers of contributors willing and able to help with our documentation. Outside of our core tooling development, this is arguably our second most important workstream and another area in which we often receive feedback.&lt;/p&gt;
&lt;p&gt;If you are interested in supporting our documentation drive, feel free to join us in our &lt;a href=&#34;https://matrix.to/#/#aerynos-documentation:matrix.org&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Matrix documentation channel&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Holidays&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;holidays&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#holidays&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;NomadicCore has been leading our social media presence for the last few months. Someone (unwisely) gave him permission to go on holiday for the next three weeks, which means that our social media presence is likely to be less active than usual in the interim.&lt;/p&gt;
&lt;p&gt;Please do not take this as any indication of the project slowing down. If anything, we have an increasing number of developers working on different areas of our tooling stack and are seeing our development and packaging activity picking up.&lt;/p&gt;
&lt;h2&gt;October plans&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;october-plans&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#october-plans&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We hope to release out next ISO in October, once:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;We have landed the Cosmic Beta packages and have had a few weeks to shake out any bugs&lt;/li&gt;
&lt;li&gt;Gnome extensions have had more time to update for compatibility with Gnome 49&lt;/li&gt;
&lt;li&gt;We are a few point releases into the Linux 6.17.x kernel cycle and there are no confirmed bugs we need to address&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We are also aware of the planned release of KDE Plasma 6.5 on the 21st of October 2025. Similarly to Linux 6.17.x, we are not planning / trying to be first out of the gate with a large stack update. This will likely land at a later point after a few weeks / a point release or two.&lt;/p&gt;
&lt;p&gt;That&amp;rsquo;s it for this monthly roundup. Thanks for reading, and we hope to see you around in our community.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>August 2025 project update</title>
      <link>http://localhost:1313/blog/blog/2025/08/31/august-2025-project-update/</link>
      <pubDate>Sun, 31 Aug 2025 20:45:00 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2025/08/31/august-2025-project-update/</guid>
      <description>
        
        
        &lt;p&gt;Closing out August 2025, we are proud to announce our third release of the year. This release follows an intense development period where the team has reevaluated its priorities / timelines and refocused efforts on &amp;ldquo;delivering core Linux distribution tooling that will simplify our ability to scale out over time&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;We have documented some of our progress in our last two blog posts and spent the last two months further progressing towards these goals. We have implemented a basic version of virtual packages (Package Sets), continued our hardware (and VM) enablement efforts and have selectively been growing our repository where we feel it&amp;rsquo;s beneficial to our users.&lt;/p&gt;
&lt;h2&gt;What&amp;rsquo;s new Distro-wise&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;whats-new-distro-wise&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#whats-new-distro-wise&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Whilst not an exhaustive list, some of the top line repository updates include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GNOME 48.4&lt;/li&gt;
&lt;li&gt;Plasma 6.4.4&lt;/li&gt;
&lt;li&gt;Sway 1.11&lt;/li&gt;
&lt;li&gt;Cosmic Alpha 7&lt;/li&gt;
&lt;li&gt;Linux 6.15.11&lt;/li&gt;
&lt;li&gt;Mesa 25.2.1&lt;/li&gt;
&lt;li&gt;LLVM 20.1.8&lt;/li&gt;
&lt;li&gt;uutils-coreutils 0.1.0&lt;/li&gt;
&lt;li&gt;sudo-rs 0.2.8&lt;/li&gt;
&lt;li&gt;ffmpeg 7.1.1&lt;/li&gt;
&lt;li&gt;fastfetch 2.51.1 (adds AerynOS logo)&lt;/li&gt;
&lt;li&gt;Waydroid: Add at 1.5.4&lt;/li&gt;
&lt;li&gt;openvpn: Add at 2.6.14&lt;/li&gt;
&lt;li&gt;protontricks: Add at 1.13.0&lt;/li&gt;
&lt;li&gt;winetricks: Add at 20250102&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In addition, we fixed a subtle issue with our PATH configuration that mostly affected our console logins. With this fix, we have made our login experience fully stateless. We have also enabled sulogin for a single-user root shell to diagnose and repair boot failures.&lt;/p&gt;
&lt;h3&gt;Package sets&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;package-sets&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#package-sets&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;AerynOS is transitioning to a package set model for core packages installed on a user&amp;rsquo;s system.&lt;/p&gt;
&lt;p&gt;Package sets are a collection of packages that are related or used together for a specific purpose. In AerynOS, they are used for consolidating our base system packages and for each of our offered Desktop Environments / Window Managers.&lt;/p&gt;
&lt;p&gt;Each Desktop Environment offered by AerynOS has an associated package set (usually &amp;ldquo;recommended&amp;rdquo;). Depending on the environment, we may optionally offer a &amp;ldquo;minimal&amp;rdquo; and/or &amp;ldquo;full&amp;rdquo; solution with less or more packages to better suit our users requirements.&lt;/p&gt;
&lt;p&gt;The package set model we have implemented is a stepping stone technology, not the final solution we are looking to implement. It introduces the basic premise of virtual sets of packages and is a precursor to our &amp;ldquo;system-model&amp;rdquo; work that will allow for exact reproduction of a user&amp;rsquo;s installed system.&lt;/p&gt;
&lt;h3&gt;Our installation experience with lichen&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;our-installation-experience-with-lichen&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#our-installation-experience-with-lichen&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;To fully integrate the new package set model within the AerynOS project, we have adapted &lt;code&gt;lichen&lt;/code&gt; to install Desktop Environments based on the associated package set. The TUI (Text User Interface) prompts guide a user to select which DE they want, and depending on the DE, the version we have curated for the install (recommended for the DE’s, minimal for sway) with &lt;code&gt;moss&lt;/code&gt; determining what dependencies are required for a successful install based on that package set.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Lichen&lt;/code&gt; is a network installer meaning that it downloads the latest set of packages from the AerynOS repository for installation. Tweaks to our package sets don&amp;rsquo;t necessarily require a new ISO. Whilst the &amp;ldquo;live environment&amp;rdquo; may not be up to date, the user will get a fully up-to-date installation without requiring a post-install update step.&lt;/p&gt;
&lt;h4&gt;lichen usability updates&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;lichen-usability-updates&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#lichen-usability-updates&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;In its current state, &lt;code&gt;lichen&lt;/code&gt; requires that a user pre-format their disk prior to attempting to install AerynOS. Given its nature of being a network installer, &lt;code&gt;lichen&lt;/code&gt; also needs an active internet connection to complete an install. Before, if either of these prerequisites were not met, the installer would output a very unhelpful Rust code error. We have added the appropriate prompts to guide users to ensure they have an active internet connection and to remind them that they need to pre-format their disk.&lt;/p&gt;
&lt;p&gt;Whilst we could fix the pre-format requirement, a conscious decision has been made to keep this &amp;ldquo;anti-usability&amp;rdquo; feature as a barrier to entry for &amp;ldquo;beginner Linux users&amp;rdquo;. This may seem very counter intuitive, however whilst we are in an alpha state, we need to be careful not to position ourselves as a &amp;ldquo;beginner Linux distro&amp;rdquo; that could attract many support requests. We need to focus our time on developing our tooling and infrastructure.&lt;/p&gt;
&lt;p&gt;Do note that in time, we will fix this issue and become more beginner friendly!&lt;/p&gt;
&lt;h3&gt;Virtual Machine usage and hardware enablement&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;virtual-machine-usage-and-hardware-enablement&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#virtual-machine-usage-and-hardware-enablement&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Significant work has taken place to enable virtual machine support, both with AerynOS as the host and as the guest.&lt;/p&gt;
&lt;p&gt;For host support, we have packaged virt-manager into our repository. The team utilised VMs for testing package set configurations and other potential breaking changes over the last month. It has sped up our development pace as VMs are more disposable by their nature.&lt;/p&gt;
&lt;p&gt;For guest support, we have enabled a significant amount of hardware in our kernel and specifically enabled HyperV (based on user requests). We are also actively seeking user feedback for other VM environments. If you try AerynOS in other VM solutions and have any problems, you can report those issues &lt;a href=&#34;https://github.com/AerynOS/recipes/issues&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;By better supporting both VM host and guest scenarios, we hope to unblock potential contributors from exploring our distribution and tooling.&lt;/p&gt;
&lt;p&gt;Please note that we still classify AerynOS as alpha status project. We do not recommend anyone install it on hardware required for &amp;ldquo;production environments&amp;rdquo;! Our key goal is to enable the hardware / software that developers and contributors may need to make the transition to and/or explore AerynOS.&lt;/p&gt;
&lt;h3&gt;Other updates&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;other-updates&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#other-updates&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Reilly Brogan has added scx-scheds to our repository and set scx_flash as our default scheduler. Scx_flash is a scheduler that is focused on ensuring fairness among tasks and performance predictability. More details about it can be found on the &lt;a href=&#34;https://sched-ext.com/docs/scheds/rust/scx_flash&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sched-ext website&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For our use case, this is helpful as it allows an AerynOS system to still be responsive whilst heavy tasks such as building packages are happening in the background.&lt;/p&gt;
&lt;p&gt;Whilst this has been implemented in our ISO (ie. for new installs), it will not retroactively apply for existing installs. If you want to transition to this, you will need to install scx-scheds.&lt;/p&gt;
&lt;h2&gt;What&amp;rsquo;s new DE-wise&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;whats-new-de-wise&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#whats-new-de-wise&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;There has been considerable effort around our DE provision this year, some of which is yet to materialise. We are happy to report that we are now offering KDE Plasma in our repository and it will be installable from our ISOs going forwards.&lt;/p&gt;
&lt;p&gt;In addition, we have created a console only installation option for more advanced users and for our own testing purposes.&lt;/p&gt;
&lt;h3&gt;KDE Plasma&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;kde-plasma&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#kde-plasma&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;It&amp;rsquo;s fair to say that KDE Plasma has been one of the biggest requests we have received and we are happy to report that it is now available in our repository. Reilly Brogan has done a fantastic job packaging up the latest 6.4.4 version into our repository with both &lt;code&gt;sddm&lt;/code&gt; and &lt;code&gt;plasma-login-manager&lt;/code&gt; offered as login managers.&lt;/p&gt;
&lt;p&gt;A running bug tracker can be found &lt;a href=&#34;https://github.com/AerynOS/recipes/issues/952&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; to report any issues. Please do test it out and help us find and resolve any undocumented bugs that remain.&lt;/p&gt;
&lt;p&gt;We are far enough in our bring up and testing process for KDE Plasma that we are comfortable offering it as an installation option in our ISO&amp;rsquo;s going forwards.&lt;/p&gt;
&lt;h3&gt;Cosmic&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;cosmic&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#cosmic&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Within the AerynOS repository, Cosmic DE sits at the release tag of Alpha 7. Given the significant pace of development of Cosmic, we are looking to move to a more frequent update cycle to incorporate bug fixes and new feature releases tracking System76&amp;rsquo;s repo-release &lt;a href=&#34;https://github.com/pop-os/repo-release&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;repository&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. Whilst still in flux, we are looking at a bi-weekly update frequency to balance maintainer burden with keeping the DE up to date. The first of these updates bring Cosmic DE packages to their most recent versions will land in the AerynOS repository in the coming days.&lt;/p&gt;
&lt;p&gt;Following recent engagement efforts, we have been seeing new users and contributors checking out AerynOS and specifically our Cosmic spin. Through this additional testing, we are seeing more active engagement on keeping Cosmic updated and bugs squashed. Given its alpha status, we don&amp;rsquo;t expect a fully bug free user experience so please bear this in mind if choosing Cosmic. We are classifying our Cosmic spin as a &amp;ldquo;Technical Preview&amp;rdquo; given that both Cosmic and AerynOS are currently in alpha status.&lt;/p&gt;
&lt;p&gt;Moving forward, we are looking to package up more of the available Cosmic applets and generally polish the Cosmic experience on AerynOS. If you have an interest in packaging and specifically in the Cosmic Desktop, feel free to get in touch as we could always use more support in testing and improving upon our DE experience.&lt;/p&gt;
&lt;h3&gt;Sway&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;sway&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sway&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We have had Sway within our repository since early last year but did not really highlight its inclusion. Sway has been updated to v1.11 and we have also included Waybar and a few other packages to make ricing Sway a nicer experience on AerynOS.&lt;/p&gt;
&lt;p&gt;We debated including Sway as an installable option from our ISO, however we have made the decision to defer this for a future release. We have created an initial &amp;ldquo;minimal&amp;rdquo; package set for Sway which includes the bare minimum to get started on ricing it. However, it has not yet been validated to a level that we are comfortable shipping it to users, even in our alpha state.&lt;/p&gt;
&lt;p&gt;It remains in our repository and will continue being worked on as we progress into the second half of the year. In time, we would also like to develop a couple of pre-configured Sway configs as additional package sets so users not already familiar with Sway can jump right in without having as much background experience.&lt;/p&gt;
&lt;h3&gt;Console-only&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;console-only&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#console-only&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;In addition to the other environments, we have created a very minimal package set that will boot into the Linux console without any Desktop Environment. Users can use this console-only option as a starting point to configure a system install exactly to their requirements with only the packages they wish to have included or as the basis for a new DE/WM to be included within AerynOS.&lt;/p&gt;
&lt;p&gt;Given the way we have layered DE/WM package sets over our base package sets, a user is able to install any of the other DE/WM options on top of this console only solution. This has been very helpful for the AerynOS team in testing our different offerings.&lt;/p&gt;
&lt;h3&gt;Gnome&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;gnome&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#gnome&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Other than updating to the latest 48.4 version, there is not else much to say on GNOME. To its credit, it has been working smoothly on AerynOS so there has not been any major work required.&lt;/p&gt;
&lt;p&gt;It remains our default option for our ISO live environment and should only require updating to new versions as they release. If you do happen to discover an &amp;ldquo;undocumented feature&amp;rdquo;, please feel free to report it &lt;a href=&#34;https://github.com/AerynOS/recipes/issues&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;What&amp;rsquo;s new tooling-wise&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;whats-new-tooling-wise&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#whats-new-tooling-wise&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;Moss state diff&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;moss-state-diff&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#moss-state-diff&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Joey Riches has delivered a new command &amp;ldquo;moss state diff&amp;rdquo; which allows users to check the differences between two states. This is very useful when you want to revert back to an older state.&lt;/p&gt;
&lt;p&gt;Each state is identified as a number and there was no way to understand what a state had. With this new command, you will be able to inspect the state and see if it&amp;rsquo;s the right state that you are looking for.&lt;/p&gt;
&lt;p&gt;The command requires you provide two state numbers and it will return back the differences in package versions and new / removed packages between the two states you have specified.&lt;/p&gt;
&lt;h3&gt;Moss search-file&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;moss-search-file&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#moss-search-file&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We have also landed another new moss command &amp;ldquo;moss search-file&amp;rdquo;. This works similar to &amp;ldquo;moss search&amp;rdquo; however it works at the file level and enables users to ask moss to which package any given installed file under /usr belongs.&lt;/p&gt;
&lt;h2&gt;What we are working on&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;what-we-are-working-on&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#what-we-are-working-on&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;Packagekit and appstream generator work&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;packagekit-and-appstream-generator-work&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#packagekit-and-appstream-generator-work&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Joey Riches has picked up and continued his previous packagekit integration for &lt;code&gt;moss&lt;/code&gt; to integrate into our various DE software centres (GNOME Software, KDE Discover and Cosmic Store).&lt;/p&gt;
&lt;p&gt;Until now, users could only install AerynOS &lt;code&gt;.stone&lt;/code&gt; packages through the terminal. This integration is a significant usability upgrade though we still recommend our users have familiarity of how to interact with &lt;code&gt;moss&lt;/code&gt; via command line.&lt;/p&gt;
&lt;p&gt;Alongside packagekit, we now also have appstream meta data hosted on our &lt;a href=&#34;https://appstream.aerynos.dev/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dotdev&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; site. Work is on-going with both packagekit and appstream but the groundwork is completed. We can build from this point towards fully developed software centre integration.&lt;/p&gt;
&lt;p&gt;Once this lands in our repository, we will take another step towards making AerynOS a more user friendly distribution.&lt;/p&gt;
&lt;h3&gt;Documentation improvements&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;documentation-improvements&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#documentation-improvements&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Outside of the code development, there is a renewed focus on our documentation &lt;a href=&#34;https://aerynos.dev/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;site&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. This is a continuing and incremental exercise with improvements coming across the board.&lt;/p&gt;
&lt;p&gt;Over the last few months, we have improved the FAQ page, added more information on how to update packages on an AerynOS system and added additional information around the Desktop Environments we offer. We have also added specific background detail about how AerynOS is different to other distributions on our Philosophy page.&lt;/p&gt;
&lt;p&gt;We will continue fleshing out our documentation in the coming months, with a specific focus on how to contribute, both to the project itself and how to create packages and submit them for inclusion in our repository.&lt;/p&gt;
&lt;p&gt;Some of the feedback we have received is that documentation is fragmented and/or not yet created. This is a frustration we can remove through our documentation efforts and we have new contributors helping out in this aspect too.&lt;/p&gt;
&lt;p&gt;We are always looking for more support so if you have any interest in getting involved with our documentation efforts, please feel free to reach out on Matrix and specifically engage with NomadicCore.&lt;/p&gt;
&lt;h3&gt;Next steps&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;next-steps&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#next-steps&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Our focus for the second half of the year remains similar to what we have detailed in our previous two blog posts.&lt;/p&gt;
&lt;p&gt;We are working towards versioned repositories which will allow the team to deliver new features to our os-tooling (moss and boulder) in a seamless fashion. Versioned repositories are a prerequisite and gateway to future features that we will deliver in AerynOS hence its prioritisation.&lt;/p&gt;
&lt;p&gt;For the os-tooling, we are adding structured logging for better insight and reporting, improving error handling and ensuring we deliver more helpful message output and looking towards adding JSON output for all of this for nicer parsing of &amp;ldquo;structured output&amp;rdquo; across process barriers. We continue to add low hanging fruit features&lt;/p&gt;
&lt;h2&gt;Download AerynOS&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;download-aerynos&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#download-aerynos&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The link for our latest iso can be found at our &lt;a href=&#34;https://aerynos.com/download/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;download&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; page.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Development update: os-tools</title>
      <link>http://localhost:1313/blog/blog/2025/07/11/development-update-os-tools/</link>
      <pubDate>Fri, 11 Jul 2025 12:18:00 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2025/07/11/development-update-os-tools/</guid>
      <description>
        
        
        &lt;p&gt;In our recent mid-year blog post, we mentioned that it would be the first in a short series of posts providing updates on the various work streams we have been actively progressing during the last few months. Whilst that post focused primarily on our infrastructure, in this one, we will shift our focus towards the work we have been doing around our &lt;a href=&#34;https://github.com/AerynOS/os-tools&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;os-tools&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Short overview&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;short-overview&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#short-overview&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;To recap, our os-tools consist of &lt;a href=&#34;https://aerynos.com/blog/2023/12/19/end-of-year-summary/#moss&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Moss&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; and &lt;a href=&#34;https://aerynos.com/blog/2023/12/19/end-of-year-summary/#boulder&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Boulder&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. Whilst also originally written in DLang, initial ports of these were built in Rust during the latter half of 2023. Though we made the odd improvement here and there during 2024, through Q2 2025 we set out to review the code, develop an improvement plan and then put that into action.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;TL;DR&lt;/strong&gt; is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Moss:&lt;/strong&gt; Existing PRs reviewed, refined and merged (including a PR enabling faster package installation via parallel blitting). The code received various bug fixes and refactors for correctness and maintainability.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Boulder:&lt;/strong&gt; Similarly, existing PRs reviewed, refined and merged including a few smaller features and packaging macros being added. Since Boulder uses the &lt;code&gt;moss&lt;/code&gt; crate, it now builds packages slightly quicker due to faster buildroot creation. The odd bugfix was also made.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;User Experience:&lt;/strong&gt; Improved error reporting features were added to both Moss and Boulder to improve the troubleshooting experience for users and packagers. More to be done on this front.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We will be continuing our os-tools work over the coming months with a specific focus on tidying up the code, improving documentation, and ensuring better error handling and status reporting throughout the codebase. This will come in particularly handy when we do the feature work to make us able to produce JSON output as the final part of the alpha2 os-tools milestone.&lt;/p&gt;
&lt;p&gt;Overall, this work will help users when they come across unexpected errors and also be beneficial when onboarding new developers.&lt;/p&gt;
&lt;p&gt;The JSON output feature, in contrast, is largely targeted at convenient machine parsing of structured output for automation and integration purposes, which we are banking on will come in handy for future development work currently in the planning stages.&lt;/p&gt;
&lt;h2&gt;Introducing NomadicCore&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;introducing-nomadiccore&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#introducing-nomadiccore&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Before going any further, you may have noticed my name as one of the authors of our mid-year update blog post. If you hang around our Matrix rooms, you will likely already know me but I thought it prudent to provide a formal introduction.&lt;/p&gt;
&lt;p&gt;I first became aware of SerpentOS about three years ago but only joined the Matrix chat rooms in September 2023. I&amp;rsquo;m not actually a developer or have any coding experience, however, I am interested in open source projects and Linux distributions that can help me get the most out of my hardware. I liked what I saw with SerpentOS and over the course of 2024, started getting involved, trying to help out where I could.&lt;/p&gt;
&lt;p&gt;Earlier this year, I ended up formally joining the team, around the time of the AerynOS rebrand, taking more of a support/communications role and providing feedback from an &amp;ldquo;average user&amp;rdquo; perspective of what I think might be important.&lt;/p&gt;
&lt;p&gt;My focus will mainly be around working on our documentation, writing blog posts and engaging on our various social media platforms and Matrix rooms. I&amp;rsquo;m looking forward to getting stuck in and helping support a Linux distribution I want to use on my various devices.&lt;/p&gt;
&lt;h2&gt;A deeper dive into our os-tools work&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;a-deeper-dive-into-our-os-tools-work&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#a-deeper-dive-into-our-os-tools-work&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Since their port to Rust, our os-tools have been working well enough. However, we are self-aware enough to know that our initial porting efforts left room for improvement, both in code quality and performance.&lt;/p&gt;
&lt;p&gt;The following subsections outline some of the os-tools work we have been doing throughout Q2.&lt;/p&gt;
&lt;h3&gt;Refactor work&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;refactor-work&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#refactor-work&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Both &lt;a href=&#34;https://aerynos.com/blog/2023/12/19/end-of-year-summary/#introducing-tarkah&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;tarkah&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; and new contributor, &lt;a href=&#34;https://github.com/jplatte&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Jonas Platte&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;, have been working on refactoring our existing codebase. To increase the available insight and diagnostic information, we have decided to align around the use of the &lt;code&gt;tracing&lt;/code&gt; crate given that important parts of our code base are asynchronous, for which &lt;code&gt;tracing&lt;/code&gt; is particularly suited.&lt;/p&gt;
&lt;p&gt;For error handling, Jonas suggested that we move away from &lt;code&gt;thiserror&lt;/code&gt; towards &lt;code&gt;snafu&lt;/code&gt;. Whilst &lt;code&gt;thiserror&lt;/code&gt; suited our requirements during our initial porting work, &lt;code&gt;snafu&lt;/code&gt; offers some nice quality of life features and forces us to be more explicit about handling different types of errors, which we hope will yield better longer term maintainability. Moving over to &lt;code&gt;snafu&lt;/code&gt; requires a little more upfront work to get high quality error output, but we believe that the reward will be worth it once the transition is completed across all of our code base.&lt;/p&gt;
&lt;p&gt;Along with this refactor work, tarkah, Jonas and ermo are also improving the documentation within the codebase itself. With the infrastructure code having been ported to Rust, there is now greater scope to reuse and consolidate code between the various tooling crates.&lt;/p&gt;
&lt;h4&gt;Keeping our dependencies up to date&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;keeping-our-dependencies-up-to-date&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#keeping-our-dependencies-up-to-date&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;One aspect of managing our tooling is ensuring that our codebase remains up to date. Part of this effort is also to ensure that we are updating our code&amp;rsquo;s dependencies to their own respective latest versions to benefit from bug fixes and performance improvements. Whilst this is an on-going task, some of our dependencies had been allowed to get a little stale. Through multiple commits, Jonas has systematically been updating the dependencies in our os-tools repo.&lt;/p&gt;
&lt;p&gt;Part of this upgrade work also involved being able to &lt;a href=&#34;https://github.com/AerynOS/os-tools/pull/504&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;lock dependencies&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; for Rust packages as a way to ensure robustness of the Moss and Boulder builds we use in production.&lt;/p&gt;
&lt;h3&gt;Moss: Parallel blitting&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;moss-parallel-blitting&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#moss-parallel-blitting&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Long-time contributor Joey Riches identified a parallelization improvement in Moss&amp;rsquo;s &lt;a href=&#34;https://aerynos.com/blog/2021/08/10/a-rolling-boulder-gathers-no-moss/#blitting&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;blitting&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; process which was merged after several months of local testing.&lt;/p&gt;
&lt;p&gt;In our testing, the code showed significant speedups across all three of our supported file systems (XFS, ext4 and F2FS). The previous single-threaded blitting made using ext4 and F2FS particularly slow, to the point that we did not recommend users use either filesystem as the basis of an AerynOS install.&lt;/p&gt;
&lt;p&gt;However, blitting speeds with the new parallel approach &amp;ndash; particularly with a &amp;ldquo;cold&amp;rdquo; kernel VFS cache &amp;ndash; have significantly improved. Whilst ext4 and F2FS are still not as performant as XFS for our use case, they are at least more serviceable as the basis of an AerynOS install than they used to be. By way of an example, I saw a ~2x blitting speed improvement on my Gen4 NVMe SSD using XFS with the new parallel blitting code.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s worth restating that, to our knowledge, the moss approach to &lt;a href=&#34;https://aerynos.com/blog/2025/03/29/aerynos-the-os-as-infrastructure/#%EF%B8%8F-atomic-updates&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;atomic updates&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;, is the only one of its kind (at least in the Linux space) where users do not have to rely on containerization or A/B system swaps to deliver package updates. Eliminating download speeds as a variable, Moss is capable of atomically installing/updating hundreds of packages on your system in a matter of seconds to tens of seconds on SSD drives, and the installed/upgraded applications are ready to use next time the application is opened. No reboots and no messing with container permissions necessary.&lt;/p&gt;
&lt;p&gt;Given that boulder also needs to blit files when it creates buildroots, the code has also had a positive impact on reducing package build times. This will be more evident on larger package builds and will have a cumulative impact, the more package work you end up doing.&lt;/p&gt;
&lt;h3&gt;Moss: Sync available before installed packages&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;moss-sync-available-before-installed-packages&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#moss-sync-available-before-installed-packages&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;As we were testing the upgrade path from our old &lt;code&gt;packages.aerynos.com/volatile&lt;/code&gt; repository to our new, CDN-backed &lt;code&gt;cdn.aerynos.dev/unstable&lt;/code&gt; repository, we ran into some unexpected small niggles related to how packages are resolved.&lt;/p&gt;
&lt;p&gt;While tarkah&amp;rsquo;s &lt;a href=&#34;https://github.com/AerynOS/os-tools/pull/514&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;fix&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; to Moss was relatively small in terms of code, it served to ensure that updates would install properly on the first go when syncing to the new repo.&lt;/p&gt;
&lt;p&gt;Consequently, we synced this bug-fix to the Moss version in the old repository to ensure that users will be able to seamlessly upgrade to the new rolling &lt;code&gt;unstable&lt;/code&gt; repository.&lt;/p&gt;
&lt;h3&gt;Moss: Add index output directory option&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;moss-add-index-output-directory-option&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#moss-add-index-output-directory-option&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;As we were preparing the process for syncing the packages in our &lt;code&gt;volatile&lt;/code&gt; build-server repository to our new downstream rolling &lt;code&gt;unstable&lt;/code&gt; repository on our public-facing server, we ran into an issue with the existing &lt;code&gt;moss index&lt;/code&gt; code path.&lt;/p&gt;
&lt;p&gt;Before this issue was fixed, the &lt;code&gt;stone.index&lt;/code&gt; file would be unconditionally written next to the actual package &lt;code&gt;.stone&lt;/code&gt; files. This was useful when indexing local repos, but not as useful when indexing actual stone &lt;a href=&#34;https://cdn.aerynos.dev/pool/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;pool/&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; directories and sub-directories.&lt;/p&gt;
&lt;p&gt;In the end, this was another small &lt;a href=&#34;https://github.com/AerynOS/os-tools/pull/523&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;feature&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; with somewhat large consequences, in that this enabled us to do the actual manual indexing in a way that is identical to how our infrastructure organizes things when indexing.&lt;/p&gt;
&lt;p&gt;This in turns made it possible to make sure that the new rolling &lt;code&gt;unstable&lt;/code&gt; repo presents with the same URI &amp;ldquo;pattern&amp;rdquo; as our volatile build repo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;❯ moss lr
 - oldrepo = https://packages.aerynos.com/volatile/x86_64/stone.index [0]
 - unstable = https://cdn.aerynos.dev/unstable/x86_64/stone.index [5]
 - volatile = https://build.aerynos.dev/volatile/x86_64/stone.index [10]
 - local = file:///home/ermo/.cache/local_repo/x86_64/stone.index [100]
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;Boulder: Fix up phase timing in end-of-build report&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;boulder-fix-up-phase-timing-in-end-of-build-report&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#boulder-fix-up-phase-timing-in-end-of-build-report&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;When Boulder successfully completes a package build, it emits a report detailing how long each phase of the build process took.&lt;/p&gt;
&lt;p&gt;ermo noticed that the output was wrong when the time exceeded an hour. For example &lt;code&gt;136m&lt;/code&gt; would be formatted as a rather silly-looking &lt;code&gt;1h76m&lt;/code&gt; instead of &lt;code&gt;2h16m&lt;/code&gt;. He fixed this in the following &lt;a href=&#34;https://github.com/AerynOS/os-tools/pull/502&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;commit&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Boulder: Improve cache hit rates when updating packages&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;boulder-improve-cache-hit-rates-when-updating-packages&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#boulder-improve-cache-hit-rates-when-updating-packages&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Boulder is designed to cache files and hash them as part of its build process. By hashing files, it uniquely identifies each file and stores this for later utilization. When a package is updated from one version to the next, where the package has files that have not changed, we have the opportunity to reuse the cache from a prior build (as long as the cache has not been purged for space saving).&lt;/p&gt;
&lt;p&gt;Given the way boulder previously cached files, in named directories based on the package source names, there was a high likelihood that new caches would have to be built because the source file names contain version numbers, which by design will always change.&lt;/p&gt;
&lt;p&gt;Reilly &lt;a href=&#34;https://github.com/AerynOS/os-tools/pull/483&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;implemented&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; a change to boulder so that our ccache entries will persist over version number updates improving the hit rate and therefore performance on boulder package builds.&lt;/p&gt;
&lt;h3&gt;Boulder: Tweak how we use sh-compatible shells&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;boulder-tweak-how-we-use-sh-compatible-shells&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#boulder-tweak-how-we-use-sh-compatible-shells&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;For user-facing recipes, our recipe snippets are now always interpreted by bash.&lt;/p&gt;
&lt;p&gt;However, testing with &lt;code&gt;hyperfine&lt;/code&gt; has previously shown that dash is ~20% faster to start up during &lt;code&gt;./configure&lt;/code&gt; runs when compared to bash.&lt;/p&gt;
&lt;p&gt;To reap the benefits of faster dash process startup times, ermo and Reilly &lt;a href=&#34;https://github.com/AerynOS/os-tools/pull/477&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;implemented&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; a change to our GNU autotools macros to use dash as the default shell.&lt;/p&gt;
&lt;p&gt;Having said that, there are certain packages that just expect and/or are hardcoded to require bash. So to cater to that use case, we have also added autotools macros that packagers can use to make Boulder execute GNU autotools with bash on a per-package basis.&lt;/p&gt;
&lt;p&gt;This gives our tooling the &amp;ldquo;dash as /bin/sh&amp;rdquo; &lt;code&gt;./configure&lt;/code&gt; speed improvements by default, yet allows packagers to still successfully invoke &lt;code&gt;./configure&lt;/code&gt; &lt;em&gt;et al.&lt;/em&gt; with bash, where doing so is necessary for the build to complete.&lt;/p&gt;
&lt;h3&gt;Boulder: Update build macros&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;boulder-update-build-macros&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#boulder-update-build-macros&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;On reviewing Boulder&amp;rsquo;s build macros, we found some low hanging fruit improvements to make to our cmake, ninja, and meson macros, which we &lt;a href=&#34;https://github.com/AerynOS/os-tools/pull/451&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;landed&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; back in April. Implementing and improving the various build macros available in AerynOS makes it easier and more convenient for packagers to package up applications with Boulder; either for their own personal use or for submission into the official repositories.&lt;/p&gt;
&lt;h3&gt;Boulder: Use bsdtar-static for unpacking&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;boulder-use-bsdtar-static-for-unpacking&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#boulder-use-bsdtar-static-for-unpacking&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;At Reilly&amp;rsquo;s initiative, we moved our decompression solution away from GNU tar to bsdtar-static. This &lt;a href=&#34;https://github.com/AerynOS/os-tools/pull/500&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;change&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; reduces the likelihood of compatibility issues and ensures Boulder package creation doesn&amp;rsquo;t rely on a dynamically linked system library, thus making it more of a reliable solution.&lt;/p&gt;
&lt;p&gt;With this move, we have also &lt;a href=&#34;https://github.com/AerynOS/os-tools/pull/535&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;added&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; the ability to decompress tgz based source packages as part of the boulder build process.&lt;/p&gt;
&lt;h2&gt;Other notable work&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;other-notable-work&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#other-notable-work&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Some of the work we have done has been aimed more at how we use our os-tools rather than the os-tools themselves.&lt;/p&gt;
&lt;h3&gt;Update build triple and fix up ARM AArch targets&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;update-build-triple-and-fix-up-arm-aarch-targets&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#update-build-triple-and-fix-up-arm-aarch-targets&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;With our recent transition from SerpentOS to AerynOS, we needed to update our build triple accordingly. This step has been &lt;a href=&#34;https://github.com/AerynOS/os-tools/pull/450&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;completed&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; in the background whilst allowing for seamless updates from older SerpentOS systems onto AerynOS based systems. This is part of a wider rebranding effort that is still on-going through our documentation site, repo READMEs and anywhere else we have an official presence.&lt;/p&gt;
&lt;p&gt;In this same area, whilst AerynOS currently only supports &lt;code&gt;x86_64&lt;/code&gt; based devices, there is a desire to be able to target other system types longer term. One of our contributors has been experimenting with RISC-V so we have added &lt;a href=&#34;https://github.com/AerynOS/os-tools/pull/448&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;preliminary support&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; for this to aid their testing. Don&amp;rsquo;t expect to see AerynOS on RISC-V any time soon, but it&amp;rsquo;s great to see our distro becoming a sandbox for fun and experimenting on alternative systems.&lt;/p&gt;
&lt;h3&gt;Emul32 ELF Machine type migration&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;emul32-elf-machine-type-migration&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#emul32-elf-machine-type-migration&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;During the port of boulder from DLang over to Rust, there was a change in how we expressed the ISA for packages built for the x86 emul32 architecture target. The old DLang version of Boulder expressed it as &lt;code&gt;x86&lt;/code&gt; where the Rust &lt;code&gt;elf&lt;/code&gt; crate expresses it as &lt;code&gt;386&lt;/code&gt; (&lt;code&gt;EM_386&lt;/code&gt; for those of you familiar with ELF parsing internals).&lt;/p&gt;
&lt;p&gt;Reilly took point in &lt;a href=&#34;https://github.com/AerynOS/os-tools/pull/493&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;implementing&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; a series of changes that retained full compatibility between packages originally built on the old DLang infrastructure, and newer packages built on the Rust infrastructure.&lt;/p&gt;
&lt;p&gt;The end goal was to flush out the packages containing references to the &lt;code&gt;x86&lt;/code&gt; Emul32 ISA through the recent rebuild of our whole recipes repository. This was accomplished by first ensuring that all packages exposed &lt;em&gt;both&lt;/em&gt; &lt;code&gt;x86&lt;/code&gt; and &lt;code&gt;386&lt;/code&gt; provider patterns, and then subsequently dropping the code that wrote the &lt;code&gt;x86&lt;/code&gt; provider patterns during the second full repo rebuild, ensuring that packages only contained the &lt;code&gt;386&lt;/code&gt; provider patterns.&lt;/p&gt;
&lt;p&gt;In the end, this worked out nicely for us.&lt;/p&gt;
&lt;h2&gt;Current and near-future os-tools focus&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;current-and-near-future-os-tools-focus&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#current-and-near-future-os-tools-focus&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We reviewed the open issues in our various GitHub repositories and the plethora of ideas we have for our tooling, and developed a high level set of milestones for our os-tools. For this milestone (os-tools alpha2), we want to focus on:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Adding structured logging for better insight and reporting&lt;/li&gt;
&lt;li&gt;Improving error handling&lt;/li&gt;
&lt;li&gt;Ensuring we deliver more helpful message output&lt;/li&gt;
&lt;li&gt;Adding JSON output for the above, for nicer parsing of structured output across process barriers&lt;/li&gt;
&lt;li&gt;Adding low hanging fruit features and fixing misfeatures as we review the code&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As our readers may have surmised, we have slowly accumulated bits of technical debt here and there over the course of development. The os-tools alpha2 milestone is our chance to address that and make our code crisp, clean and ready for already-planned future development work, while we stabilize our new infra code in parallel to this effort.&lt;/p&gt;
&lt;p&gt;A special thank you goes to Jonas for the work he has already done in terms of this sort of refactor work.&lt;/p&gt;
&lt;h2&gt;How to join in the fun&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;how-to-join-in-the-fun&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#how-to-join-in-the-fun&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;As already covered in this blog, we have been reviewing all open issues and PRs in our os-tools repository on GitHub for prioritization and to set internal milestones.&lt;/p&gt;
&lt;p&gt;We are open to and actively looking for contributors who might be interested in looking through our code and providing feedback.&lt;/p&gt;
&lt;p&gt;If you would like to try your hand at contributing, look out for issues marked &amp;ldquo;good first issue&amp;rdquo; and get in touch on &lt;a href=&#34;https://matrix.to/#/#aerynos:matrix.org&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Matrix&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We hope to see you there!&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Mid Year Update</title>
      <link>http://localhost:1313/blog/blog/2025/06/30/mid-year-update/</link>
      <pubDate>Mon, 30 Jun 2025 21:37:00 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2025/06/30/mid-year-update/</guid>
      <description>
        
        
        &lt;p&gt;As we hit the middle of the year, it&amp;rsquo;s time for another update for those of you following along with AerynOS&amp;rsquo;s development.&lt;/p&gt;
&lt;p&gt;Over the last few months, things may have seemed unusually quiet, however rest assured that there has been A LOT going on in the background. As such, we are preparing a short series of blog posts to go over the relevant topics in the coming weeks.&lt;/p&gt;
&lt;p&gt;For this blog post, we are going to cover our infrastructure port, along with the process of rebuilding our entire package repository.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The TL;DR is that:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;All core AerynOS tooling is now written in Rust&lt;/li&gt;
&lt;li&gt;Every recipe in the repository has been rebuilt (twice!) with many packages then having been updated to newer versions after the rebuilds were completed&lt;/li&gt;
&lt;li&gt;A CDN has been implemented for faster package installation and ISO downloads&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;New infrastructure tooling&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;new-infrastructure-tooling&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#new-infrastructure-tooling&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;When delivering a Linux distribution, its infrastructure and associated processes effectively act as the &amp;ldquo;spine&amp;rdquo; of the project. But spine surgery can be a delicate affair, particularly when it comes to rehabilitation after successful surgery.&lt;/p&gt;
&lt;p&gt;For us, this cycle has been particularly demanding, as we have completed an MVP (Minimum Viable Product) port of our infrastructure tooling code to Rust, meaning that all core AerynOS tooling has now fully transitioned away from DLang.&lt;/p&gt;
&lt;p&gt;We have covered the reasons for this transition &lt;a href=&#34;https://aerynos.com/blog/2023/09/06/oxidised-moss/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;previously&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;, and it&amp;rsquo;s fair to say that we are already feeling the benefits of easy and native reuse of code in our tooling repositories and welcoming more Rust contributors into our community.&lt;/p&gt;
&lt;h3&gt;Why now?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;why-now&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#why-now&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Earlier this year, our existing DLang build infrastructure started showing signs of instability and required more and more manual intervention to successfully land packages.&lt;/p&gt;
&lt;p&gt;Given our prior decision to transition our tooling over to Rust, we had already stopped further development of the DLang based infrastructure. Hence, we decided to accelerate our transition timeline for the infrastructure re-write to Rust with tarkah and ermo leading the development activity, which began at the end of March.&lt;/p&gt;
&lt;p&gt;Towards the end of May, we put the first infrastructure prototype to the test, and then iteratively fixed bugs and built out missing functionality to the point of being able to put our MVP into production on our build infrastructure.&lt;/p&gt;
&lt;p&gt;This MVP will serve as the development base of the code that will be used for all future package builds.&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;What do we mean by infra?&lt;/summary&gt;
&lt;p&gt;Our &lt;a href=&#34;https://github.com/AerynOS/infra&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;infra&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; is comprised of the Summit, Avalanche and Vessel service components:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Summit:&lt;/strong&gt; Package build-controller, build-orchestrator and build-dashboard, monitors recipes tree and automatically builds new, incoming recipes once they show up&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Avalanche:&lt;/strong&gt; Build agent middleware, takes build orders from Summit and builds them with Boulder on a remote system, sends build logs back in real time to Summit, and reports the build result to summit at the end of the build.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Vessel:&lt;/strong&gt; Package repository manager. Summit tells Vessel which packages and other build artefacts to expect from a build task that Avalanche has completed, and then Avalanche pushes those packages and build artefacts to Vessel, which then saves them in the appropriate place and re-indexes the repository with the new packages, so users can install/update them.&lt;/li&gt;
&lt;/ul&gt;
&lt;/details&gt;
&lt;p&gt;We have some cool features planned in AerynOS that we envision will make package maintenance a lot easier to manage through smart use of automation.&lt;/p&gt;
&lt;p&gt;Until these features are implemented, however, maintaining the AerynOS repository will remain somewhat human resource intensive. This is the main reason why the repository is consciously being kept &amp;ldquo;small&amp;rdquo; for now, with us deliberately focusing on having packages that will help developers and contributors improve AerynOS, while still delivering a nice Daily Driver experience.&lt;/p&gt;
&lt;p&gt;Until the new features are implemented, this will necessarily be a balancing act between maintaining the package repository so it doesn&amp;rsquo;t go stale vs. having the development time to implement the new features.&lt;/p&gt;
&lt;h3&gt;How did you test it?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;how-did-you-test-it&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#how-did-you-test-it&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Aside from porting the infrastructure code to Rust, proper testing was required to yield confidence that packages were both successfully built on the new infrastructure and that they worked as expected.&lt;/p&gt;
&lt;p&gt;The end goal was to prove that we were able to rebuild the full AerynOS recipes repository (currently at ~950 recipes) from start to finish without infra-related build errors on the new infra.&lt;/p&gt;
&lt;p&gt;To enable the rebuild, ermo set up a distributed build cluster of four builders of varying hardware specifications. A separate branch of the &amp;lsquo;recipes&amp;rsquo; repository was created, and was used to test both the Rust infrastructure and to land packages for internal testing without them being seeded to user installs.&lt;/p&gt;
&lt;p&gt;In addition, compared to the old infra, we made it simpler to add new avalanche build agents to the build cluster, thus making it very simple to scale out our build cluster as required.&lt;/p&gt;
&lt;p&gt;To summarise the infrastructure Rust re-write and testing effort, we have:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Completed more than 3k recipe builds&lt;/li&gt;
&lt;li&gt;Deployed the new Rust infrastructure on the AerynOS builders and continue to use it on ermo&amp;rsquo;s build cluster&lt;/li&gt;
&lt;li&gt;Validated that the new infrastructure code is more stable and performant at runtime than the previous DLang version&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;How did testing add value?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;how-did-testing-add-value&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#how-did-testing-add-value&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The full rebuild of the recipes repository has also served to ensure ABI sanity for dependencies. Additionally, we can now say that at this point in time, the whole AerynOS repository is known to be buildable and works with all the latest toolchains.&lt;/p&gt;
&lt;p&gt;A special thanks goes to Reilly Brogan, who worked diligently with ermo to not only drive the rebuild process, but also to ensure that some longstanding repository issues were corrected as part of the rebuild process.&lt;/p&gt;
&lt;p&gt;During this process, we have delivered updates to our os-tools (Boulder and Moss), toolchains and build systems. A selection of the updates and additions include (but is certainly not limited to):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Linux 6.14.11 (6.15.x on the way)&lt;/li&gt;
&lt;li&gt;LLVM 20.1.7&lt;/li&gt;
&lt;li&gt;GCC 15.1.1&lt;/li&gt;
&lt;li&gt;Rust 1.88.0&lt;/li&gt;
&lt;li&gt;Golang 1.24.4&lt;/li&gt;
&lt;li&gt;Mesa 25.1.4&lt;/li&gt;
&lt;li&gt;GNOME 48.2&lt;/li&gt;
&lt;li&gt;COSMIC 1.0.0_alpha7&lt;/li&gt;
&lt;li&gt;Sway 1.11&lt;/li&gt;
&lt;li&gt;Firefox 140.0.1&lt;/li&gt;
&lt;li&gt;Thunderbird v139.0.2&lt;/li&gt;
&lt;li&gt;Uutils-coreutils 0.1.0&lt;/li&gt;
&lt;li&gt;Nodejs 22.14.0&lt;/li&gt;
&lt;li&gt;Wine 10.8&lt;/li&gt;
&lt;li&gt;Distrobox added at v1.8.1.2&lt;/li&gt;
&lt;li&gt;Exfatprogs added at v1.2.9&lt;/li&gt;
&lt;li&gt;Fzf added at v0.62.0&lt;/li&gt;
&lt;li&gt;Kitty added at v0.41.1&lt;/li&gt;
&lt;li&gt;Waybar added at v0.12.0&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;A New Package Repository&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;a-new-package-repository&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#a-new-package-repository&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;As mentioned earlier, the testing work was &lt;a href=&#34;https://github.com/orgs/AerynOS/discussions/47&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;conducted&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; on a separate branch of the &lt;a href=&#34;https://github.com/AerynOS/recipes&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;recipes repository&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. Consequently, those of you on the old &lt;code&gt;packages.aerynos.com/volatile/&lt;/code&gt; repository, have not received any updates over the last 10-12 weeks.&lt;/p&gt;
&lt;p&gt;This was a conscious decision to ensure that the mostly untested packages built during the infrastructure testing process did not reach end users immediately. Even though AerynOS is in Alpha and under continuous development, we still do our best not to break user systems if we can avoid it!&lt;/p&gt;
&lt;p&gt;Now that we have a level of testing in place, with this blog post, we are announcing a new rolling &lt;code&gt;unstable&lt;/code&gt; package repository for users. The old &lt;code&gt;volatile&lt;/code&gt; package repository has received one final update to Moss that fixes an important bug when transitioning to the new &lt;code&gt;unstable&lt;/code&gt; repository.&lt;/p&gt;
&lt;p&gt;To ease the transition to the new repository for existing users, we are working on a script that can automatically modify the active repository on the system.&lt;/p&gt;
&lt;p&gt;Once this script has been sufficiently productized, the next time existing users update their systems, they will notice that every single package will show an update available.&lt;/p&gt;
&lt;p&gt;The exact number will vary from system to system depending on how many other packages are installed from the repository but for context, on a base AerynOS GNOME install, this is around 500 packages.&lt;/p&gt;
&lt;p&gt;In the meantime, we have created a manual guide on how to transition existing installs to the new repository in our GitHub Discussions forum &lt;a href=&#34;https://github.com/orgs/AerynOS/discussions/53&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. The process is fairly simple, but if you do have any issues transitioning manually, do get in touch via a comment under the GitHub Discussions &lt;a href=&#34;https://github.com/orgs/AerynOS/discussions/53&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;post&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; or via &lt;a href=&#34;https://matrix.to/#/#aerynos:matrix.org&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Matrix&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Content Delivery Network for Packages and ISOs&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;content-delivery-network-for-packages-and-isos&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#content-delivery-network-for-packages-and-isos&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A common bit of feedback we have been receiving relates to the download speed of our repository, namely that it is not fast or even acceptable, especially if you live outside of Europe. This became more evident for those using the rebuild repository on ermo&amp;rsquo;s rebuild testing server, which felt noticeably faster for people in Europe in particular.&lt;/p&gt;
&lt;p&gt;To remedy this, we have implemented CDN caching for our new &lt;code&gt;cdn.aerynos.dev&lt;/code&gt; hosted assets. This means there will be synced copies of our ISOs and package repository on CDN servers around the world, which should help improve download speeds.&lt;/p&gt;
&lt;p&gt;In particular, the new rolling &lt;code&gt;unstable&lt;/code&gt; package repository mentioned above will be served via this CDN for the benefit of our users.&lt;/p&gt;
&lt;p&gt;Please let us know how you get on with AerynOS ISO and package downloads in the coming weeks, as we would love to validate the improvement outside of our own internal testing.&lt;/p&gt;
&lt;h2&gt;Future infrastructure development targets&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;future-infrastructure-development-targets&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#future-infrastructure-development-targets&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;So far, we have only outlined what we have already accomplished since late March.&lt;/p&gt;
&lt;p&gt;The next part of this blog post is going to be a brief outline of where we are going from here in terms of infrastructure and repository development.&lt;/p&gt;
&lt;h3&gt;Versioned Repositories&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;versioned-repositories&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#versioned-repositories&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;With the transition to the new infrastructure and the new &lt;code&gt;unstable&lt;/code&gt; repository, we have been freed up to begin planning out the necessary steps to be able to deliver versioned repositories and versioned Moss format upgrades.&lt;/p&gt;
&lt;p&gt;These topics have been mentioned in a previous blog &lt;a href=&#34;https://aerynos.com/blog/2025/02/06/hello-2025/#-versioned-repositories&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;post&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;How do versioned repositories add value?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;how-do-versioned-repositories-add-value&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#how-do-versioned-repositories-add-value&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Versioned Repositories will enable us to deploy new Boulder and Moss features in a seamless fashion. This will enable us to introduce breaking code and on-disk format changes, that would otherwise cause installed systems to require manual intervention for them to continue to receive updates.&lt;/p&gt;
&lt;p&gt;Once versioned repositories are in place, the goal is that users will be able to simply update and sync their system as normal via the &lt;code&gt;sudo moss sync -u&lt;/code&gt; command.&lt;/p&gt;
&lt;p&gt;With this:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Users will be upgraded to the new versions of Moss that uses a new repository format, without having to pay special attention.&lt;/li&gt;
&lt;li&gt;It will enable AerynOS to iteratively expand the capability of Moss and Boulder on existing systems without breaking user systems in the process.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Additional Opportunities&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;additional-opportunities&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#additional-opportunities&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We consider versioned repositories a pre-requisite for what we call &amp;ldquo;try-builds&amp;rdquo; and eventually multi-arch support.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Automated try-builds denotes the process whereby the infrastructure discovers an update to the upstream source repository of a package, attempts to auto-update the recipe and then attempts to build the updated package recipe in question.&lt;/li&gt;
&lt;li&gt;We think this will be a useful tool for contributors as it will automate some of the packaging tedium related to simple package version updates. It will also help enable automated regression testing and build flag optimisation in a future workstream.&lt;/li&gt;
&lt;li&gt;Included under the multi-arch umbrella is our ability to target ARM, RISC-V, and different x86 architecture levels such as x86-64-v3 or v4.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Project Status&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;project-status&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#project-status&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;Infra&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;infra&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#infra&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Within the previous 3 month period, we have rebuilt a brand new Rust version of the infrastructure tooling that is robust enough to run in production on AerynOS servers, delivering packages to our contributors and users. This new version has proven to be more stable and performant than the old DLang version we were previously using.&lt;/p&gt;
&lt;h3&gt;Packaging&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;packaging&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#packaging&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;From a day to day perspective, unlocking the infrastructure means that we can get back to reviewing and landing recipe PRs for our &lt;a href=&#34;https://github.com/orgs/AerynOS/discussions/52&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;package maintainers&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; or accepting new contributors into our AerynOS ecosystem. For those wishing to &lt;a href=&#34;https://aerynos.dev/packaging/workflow/basic-workflow/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;contribute&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; to AerynOS, please make sure that you have manually &lt;a href=&#34;https://github.com/orgs/AerynOS/discussions/53&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;switched over&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; to our new repositories before making submissions to ensure you are using all the latest tooling.&lt;/p&gt;
&lt;p&gt;Alternatively, you can wait until the automatic transition script is functional and have it make the change for you.&lt;/p&gt;
&lt;h3&gt;Where to get in touch with us&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;where-to-get-in-touch-with-us&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#where-to-get-in-touch-with-us&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;If you want to engage with the team, feel free to drop by our GitHub &lt;a href=&#34;https://github.com/orgs/AerynOS/discussions&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Discussions&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;, raise issues across our various repositories or if you&amp;rsquo;re interested in contributing, feel free to raise PRs where you think our code can be improved or where you want to submit recipes for our repo.&lt;/p&gt;
&lt;p&gt;We also have our matrix space that you can access via this &lt;a href=&#34;https://matrix.to/#/#aerynos:matrix.org&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;link&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The Development room in particular is a great place for discussions around our code.&lt;/li&gt;
&lt;li&gt;The General room is a great place to drop by and get to know the team.&lt;/li&gt;
&lt;li&gt;The Packaging room is where you want to be if you&amp;rsquo;re interested in building packages for yourself and/or submitting them to the repository.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;What&amp;rsquo;s next?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;whats-next&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#whats-next&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Concurrently to our work around the infrastructure re-write and repository rebuild, there has been several additional workstreams running in the background.&lt;/p&gt;
&lt;p&gt;The team has been refactoring our existing Rust code, mainly focused on our os-tools (Moss and Boulder) and we are working on several additional improvements that we want to get over the finish line before our next ISO release.&lt;/p&gt;
&lt;p&gt;We will be sharing details of this work in upcoming blog posts over the next few weeks.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>🏗️ AerynOS: The OS As Infrastructure</title>
      <link>http://localhost:1313/blog/blog/2025/03/29/aerynos-the-os-as-infrastructure/</link>
      <pubDate>Sun, 30 Mar 2025 02:35:00 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2025/03/29/aerynos-the-os-as-infrastructure/</guid>
      <description>
        
        
        &lt;p&gt;import Kofi from &amp;ldquo;@/components/ui/Kofi.astro&amp;rdquo;;&lt;/p&gt;
&lt;p&gt;Taking a break from our usual release-oriented updates, I thought it was high time to dive into what AerynOS actually
&lt;em&gt;is&lt;/em&gt; and what sets it apart from other distros. Fair warning, this is a meaty, in depth post, and still only scratches
the surface. If you&amp;rsquo;re interested in the future of Linux distributions, read on. It may also help to visit our work-in-progress
&lt;a href=&#34;https://aerynos.dev&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;documentation site&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; for more information.&lt;/p&gt;
&lt;h2&gt;🧱 The OS As Infrastructure&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-the-os-as-infrastructure&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-the-os-as-infrastructure&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Firstly, AerynOS isn&amp;rsquo;t Yet Another Linux Distribution. It&amp;rsquo;s a platform, a foundation, and a set of tools engineered in
accordance with a vision and &lt;em&gt;design&lt;/em&gt; that just so happens to produce a Linux distribution. Were we to go back in time
and build a design brief for AerynOS, the initial question might be:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;What if the operating system itself behaved like modern infrastructure?&lt;/p&gt;

&lt;/blockquote&gt;
&lt;p&gt;AerynOS is the answer to that question. What if, instead of doing things the way they&amp;rsquo;ve always been done, we started
from the ground up and produced a &lt;em&gt;well designed&lt;/em&gt; system, rather than the traditional model of in-place mutation internal
to a distribution?&lt;/p&gt;
&lt;h2&gt;🏗️ The AerynOS Foundation&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-the-aerynos-foundation&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-the-aerynos-foundation&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Leveraging years of experience across the industry, including some notable pioneering projects such as Solus, Clear Linux,
and others, we set out to build things the hard way, in order to make them easy.. eventually.&lt;/p&gt;
&lt;h3&gt;🔧 Toolchain&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-toolchain&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-toolchain&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;At the very core, is the decision to not be another GNU/Linux distribution. We default to the LLVM toolchain, using &lt;code&gt;libc++&lt;/code&gt;
and &lt;code&gt;compiler-rt&lt;/code&gt; by default. This isn&amp;rsquo;t just a case of &amp;ldquo;we like LLVM&amp;rdquo;, but rather a strategic decision to leverage the
superior diagnostics, and ensure correctness / portability of packages. Whilst in our very early stages a few years ago
we did &lt;em&gt;trial&lt;/em&gt; &lt;code&gt;musl&lt;/code&gt;, we do default to &lt;code&gt;glibc&lt;/code&gt; for compatibility reasons and its superior performance characteristics.
The performance advantage of glibc over musl is well-documented, particularly for compute-intensive workloads and applications
requiring optimal threading performance. We&amp;rsquo;re here to build a working, usable system, for a multitude of use cases and verticals,
and glibc provides the best balance of compatibility and performance.&lt;/p&gt;
&lt;p&gt;Note, we do still package &lt;code&gt;gcc&lt;/code&gt; and it&amp;rsquo;s trivial to enforce its use in a package recipe by setting the &lt;code&gt;toolchain&lt;/code&gt; field
in &lt;code&gt;stone.yaml&lt;/code&gt; to &lt;code&gt;gnu&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Lastly, it&amp;rsquo;s worth noting we build all packages for &lt;code&gt;x86_64-v2&lt;/code&gt; as our minimum baseline, and perform targeted optimisation
in our package recipes using the extensive tuning options configurable in &lt;code&gt;boulder&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;📄 Statelessness&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-statelessness&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-statelessness&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Our packages are forbidden from containing any files outside of &lt;code&gt;/usr&lt;/code&gt;. In order to enable this, packages and/or configurations
are altered in AerynOS to ensure they can operate &lt;em&gt;in the absence of a user provided configuration&lt;/em&gt;. This forces us to ensure
sane-defaults are baked in at all levels, and eliminates dreaded 3-way merge conflicts on package updates. There are no conflicts,
because everything in &lt;code&gt;/etc&lt;/code&gt; and &lt;code&gt;/var&lt;/code&gt; is yours. Likewise, &lt;code&gt;/usr&lt;/code&gt; belongs exclusively to the system.&lt;/p&gt;
&lt;p&gt;This approach was coined and developed during Clear Linux and Solus days, and we&amp;rsquo;re refining it further in AerynOS. Other projects
have adopted &lt;em&gt;similar&lt;/em&gt; approaches, termed &amp;ldquo;hermetic &lt;code&gt;/usr&lt;/code&gt;&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;You might be wondering how files end up in &lt;code&gt;/etc&lt;/code&gt; automatically. To this end, we support two forms of package triggers:&lt;/p&gt;
&lt;h4&gt;🔄 Transaction Triggers&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-transaction-triggers&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-transaction-triggers&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;These triggers are run at the end of a transaction in an ephemeral container (linux namespace) and may affect the contents of the
transaction-specific &lt;code&gt;/usr&lt;/code&gt; tree. This is useful for interdependent packages that need to dynamically produce plugin registries, for
example.&lt;/p&gt;
&lt;h4&gt;🖥️ System Triggers&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-system-triggers&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-system-triggers&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;These triggers do not run in an isolated container, but instead are run in the context of the host system &lt;strong&gt;after&lt;/strong&gt; the transaction
has been successfully built and applied. It is these (minimally used) triggers that invoke &lt;code&gt;systemd-tmpfiles&lt;/code&gt;, &lt;code&gt;systemd-sysusers&lt;/code&gt;, etc.
Even for these cases we take special care to ensure that our default configs are sane and that a rebuild is always possible.&lt;/p&gt;
&lt;h4&gt;👤 System Accounts&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-system-accounts&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-system-accounts&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Another important aspect is the handling of local system accounts. Traditionally these are snippets/shell scripts that invoke &lt;code&gt;useradd&lt;/code&gt;,
&lt;code&gt;groupadd&lt;/code&gt;, etc. In AerynOS we default to systemd &lt;code&gt;userdb&lt;/code&gt; for any users/groups that do not explicitly need groups that users would
join. Thus, using drop-ins in &lt;code&gt;/usr/lib/userdb&lt;/code&gt;, most accounts are defined and made available via NSS. We use this already in
&lt;code&gt;gdm&lt;/code&gt;, &lt;code&gt;polkit&lt;/code&gt;, &lt;code&gt;colord&lt;/code&gt;, and many others.&lt;/p&gt;
&lt;p&gt;For the other cases, we utilise &lt;code&gt;systemd-sysusers&lt;/code&gt; using snippets in &lt;code&gt;/usr/lib/sysusers.d&lt;/code&gt; to create the necessary system accounts.
In time, when GNOME and other desktops (as well as shadow et al.) are more adapted to &lt;code&gt;userdb&lt;/code&gt; and &lt;code&gt;systemd-homed&lt;/code&gt;, we won&amp;rsquo;t need to rely
so much on &lt;code&gt;sysusers&lt;/code&gt;. The goal of course is elimination of &lt;code&gt;/etc/passwd&lt;/code&gt; and &lt;code&gt;/etc/group&lt;/code&gt; entirely, facilitating quicker recovery,
provisioning, etc. For now some packages will ship sysusers-based groups, ie &lt;code&gt;docker&lt;/code&gt; group, etc.&lt;/p&gt;
&lt;h3&gt;⚛️ Atomic Updates&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-atomic-updates&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-atomic-updates&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Every &lt;code&gt;moss&lt;/code&gt; transaction is atomic. Very high level: we produce a new &lt;code&gt;usr&lt;/code&gt; tree (rootfs essentially due to mandated &lt;code&gt;usr-merge&lt;/code&gt;) very quickly
using hardlinks from a deduplicated cache. Once successfully built and primed, we atomically swap the new tree into place. Effectively, the
staged transaction is swapped with the real &lt;code&gt;/usr&lt;/code&gt; using &lt;code&gt;renameat2&lt;/code&gt; with &lt;code&gt;RENAME_EXCHANGE&lt;/code&gt;. It either works or it doesn&amp;rsquo;t. Nothing in between.&lt;/p&gt;
&lt;h3&gt;🥾 Boot Management&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-boot-management&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-boot-management&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Leaning heavily on our &lt;a href=&#34;https://github.com/AerynOS/blsforme&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;blsforme&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; and &lt;a href=&#34;https://github.com/AerynOS/disks-rs&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;disks-rs&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; projects, we&amp;rsquo;ve taken
a very different approach to boot management. As part of applying a transaction, we produce a Boot Loader Specification (BLS) entry for the new
transaction. The tooling will discover the EFI System Partition (ESP), and mount it if necessary. It then synchronises the bootloader itself (&lt;code&gt;systemd-boot&lt;/code&gt;),
the relevant BLS entries, and the kernel/initramfs. Additionally it will automatically garbage collect older entries, currently retaining 5 of the last
transactions.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s not just a case of copy/paste and hope for the best. We dynamically produce the root parameters for the kernel command line by directly reading the
superblocks (natively, in Rust) of the devices all the way up the chain for the root filesystem. It means there&amp;rsquo;s no configuration file anywhere in AerynOS
containing your &lt;code&gt;root=&lt;/code&gt; parameter, and we&amp;rsquo;re even able to read LUKS2 encrypted devices to add the &lt;code&gt;rd.luks.uuid&lt;/code&gt; parameter.&lt;/p&gt;
&lt;p&gt;If that wasn&amp;rsquo;t cool enough, we &lt;em&gt;also&lt;/em&gt; encode the moss transaction ID into the kernel command line. This is picked up during early boot
in our initramfs, &lt;em&gt;before&lt;/em&gt; &lt;code&gt;/sysroot&lt;/code&gt; is pivoted to. Long story short it means that every kernel is correctly synchronised with the right rootfs,
and that rollback is cheap, easy, and accessible directly from the boot menu.&lt;/p&gt;
&lt;p&gt;In addition, we also automatically support &lt;code&gt;XBOOTLDR&lt;/code&gt; partitions. In the absence of &lt;code&gt;LoaderDevicePartUUID&lt;/code&gt; EFI variable, we&amp;rsquo;ll scan the
GPT table itself relative to the rootfs to find the ESP, and we&amp;rsquo;ll always scan GPT relative to ESP to find the &lt;code&gt;XBOOTLDR&lt;/code&gt; partition.&lt;/p&gt;
&lt;p&gt;Long story short? No &lt;code&gt;/etc/default/grub&lt;/code&gt;. In fact, if you wipe your ESP, moss can rebuild it from scratch.&lt;/p&gt;
&lt;h3&gt;📦 The Stone Format&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-the-stone-format&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-the-stone-format&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;At the heart of moss lies our &lt;code&gt;.stone&lt;/code&gt; format. At a basic level, it&amp;rsquo;s our binary package format. Using a &lt;strong&gt;version-agnostic header&lt;/strong&gt;, we&amp;rsquo;ve ensured
that we design for the future. We also version every payload within the stone, allowing us to refine and evolve the format over time. Currently we support
4 payloads in a single stone:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;📄 Content payload: A sequential blob of deduplicated data&lt;/li&gt;
&lt;li&gt;🔍 Index payload: Contains offsets for the content payload, keyed by the XXH128 hash of the content&lt;/li&gt;
&lt;li&gt;🗂️ Layout payload: Describes the intended filesystem layout when the stone is applied&lt;/li&gt;
&lt;li&gt;📋 Metadata payload: Sequence of strongly typed, tagged metadata entries such as name, providers, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Right now we default to XXH128 for hashing, but Blake3 is on the horizon (and used in blsforme). We compress all
payloads using Zstd, offering great decompression performance whilst still providing a decent compression ratio.&lt;/p&gt;
&lt;p&gt;The process for &amp;ldquo;installing&amp;rdquo; a &lt;code&gt;.stone&lt;/code&gt; is quite different to other systems.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;📥 The stone is fetched according to the repository data&lt;/li&gt;
&lt;li&gt;🧠 Index payload is unpacked in memory&lt;/li&gt;
&lt;li&gt;🗜️ Content payload is decompressed in a single run to a temporary location&lt;/li&gt;
&lt;li&gt;🔗 Using the index payload, the content payload is spliced into the content addressable storage (CAS)&lt;/li&gt;
&lt;li&gt;📂 The layout payload is loaded and merged into the LayoutDB, keyed by the unique package ID (SHA256 for the entire &lt;code&gt;.stone&lt;/code&gt;, per the repo)&lt;/li&gt;
&lt;li&gt;📊 Using the same key, the metadata payload is loaded into the &amp;ldquo;InstallDB&amp;rdquo;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Notice that at no point are we actually &amp;ldquo;installing&amp;rdquo; anything. We cache into the CAS, and store metadata and layout details. This is used
when producing a transaction. Also note there are various safe guards, integrity checks and such in place. For example every payload contains
a &amp;ldquo;CRC&amp;rdquo; in the payload header, verified on read. We actually use XXH64 for this.&lt;/p&gt;
&lt;h3&gt;🔁 What is a transaction?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-what-is-a-transaction&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-what-is-a-transaction&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;In AerynOS, a transaction is an entirely self-contained rootfs produced by &lt;code&gt;moss&lt;/code&gt;. Right now we have to emulate imperative package management,
by producing a new dependency graph seeded from the previous system state as recorded in the StateDB. Alterations are made and validated, and then
the new DAG selects the packages to be included in the transaction.&lt;/p&gt;
&lt;p&gt;At a high level, the transaction is produced by:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;📊 Producing a valid dependency graph, seeded from the previous system state&lt;/li&gt;
&lt;li&gt;🧮 Determine cache availability for each package&lt;/li&gt;
&lt;li&gt;📥 Fetch and cache every missing &lt;code&gt;.stone&lt;/code&gt; to produce the transaction&lt;/li&gt;
&lt;li&gt;📂 Load all layouts for the stones by ID&lt;/li&gt;
&lt;li&gt;🌐 Using our multi-layered vfs approach, we build an arena graph of the target filesystem, detecting conflicts ahead of time, whilst also precomputing
reparented nodes (i.e symlink redirection) and produce an optimal iteration order for transaction application&lt;/li&gt;
&lt;li&gt;🚶 Walking the vfs iterator to produce the new rootfs in a staging location, using &lt;code&gt;linkat&lt;/code&gt;, &lt;code&gt;mkdirat&lt;/code&gt;, etc, to optimally produce the
new filesystem, linked from the deduplicated cache&lt;/li&gt;
&lt;li&gt;📦 Binding an ephemeral container to the new rootfs, and running transaction triggers&lt;/li&gt;
&lt;li&gt;💾 Recording the transaction in the StateDB.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As mentioned above, once a successful transaction is produced, it is atomically swapped into place. If the transaction fails, no ill effects are
observed on the system, and your work day continues as normal. In the event of a successful transaction, the system is updated and ready to go,
along with system trigger execution and boot management updates.&lt;/p&gt;
&lt;h2&gt;🔮 The Future&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-the-future&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-the-future&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;All of this is just the start. It&amp;rsquo;s taken a few years, and perhaps now it&amp;rsquo;s clear &lt;strong&gt;why&lt;/strong&gt;. We&amp;rsquo;ve not even covered our package build tool, &lt;code&gt;boulder&lt;/code&gt;,
or indeed our build infrastructure! With that said, lets skip forward a short while and see what&amp;rsquo;s coming down the pipe.&lt;/p&gt;
&lt;h3&gt;🌍 Beyond the distro model&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-beyond-the-distro-model&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-beyond-the-distro-model&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;To reiterate, we &lt;strong&gt;emulate&lt;/strong&gt; imperative package management. And to be honest, it&amp;rsquo;s totally pointless. It actually introduces
more bugs than it solves. Given that we produce a new rootfs for every transaction, we could just as easily produce an entirely
new graph each time too.&lt;/p&gt;
&lt;p&gt;That&amp;rsquo;s exactly what we&amp;rsquo;re planning to do. In a similar vein to Gentoo or Nix, the intent is a global file to explicitly state
the &lt;em&gt;desired&lt;/em&gt; state of the system, whilst the tooling will simply fulfil it based on the moss plugin cascade. Whilst we have
no intention of conflating state and configuration, we will in time extend this system model to support &lt;strong&gt;variants&lt;/strong&gt; of packages
in order to provide a kind of &amp;ldquo;slots&amp;rdquo; system, and to implement a richer, saner alternative to the infamous &lt;code&gt;update-alternatives&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Obvious candidates include mutually exclusive packages like &lt;code&gt;coreutils&lt;/code&gt; and &lt;code&gt;uutils-coreutils&lt;/code&gt; (a &lt;code&gt;gnu&lt;/code&gt; variant weight, perhaps?) or
coinstallables such as &lt;code&gt;clang&lt;/code&gt;, ensuring a default vendor version whilst allowing overrides at the local install or indeed package recipe
level.&lt;/p&gt;
&lt;h3&gt;🔒 Immutability&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-immutability&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-immutability&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Often AerynOS is described as an immutable OS, and that&amp;rsquo;s not strictly true. Granted, every transaction results in a new &lt;code&gt;/usr&lt;/code&gt; tree,
so local changes won&amp;rsquo;t persist and recovery is immediately available. However, we&amp;rsquo;re not immutable in the sense of read-only.&lt;/p&gt;
&lt;p&gt;Having produced a composition-first, developer&amp;amp;user friendly atomic update implementation, we want to take this further in order to also
support immutability without compromise: no unnecessary reboots. To do so we&amp;rsquo;ll implement something &lt;em&gt;similar&lt;/em&gt; to &lt;a href=&#34;https://github.com/composefs/composefs&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;composefs&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;,
without the drawbacks. Using the same transaction driven approach we have now, we&amp;rsquo;ll simply produce an &lt;code&gt;erofs&lt;/code&gt; metadata image dynamically instead
of the exploded filesystem tree. Utilising &lt;code&gt;trusted.overlay.redirect&lt;/code&gt; xattr, and an &lt;code&gt;overlayfs&lt;/code&gt; mount, we&amp;rsquo;ll expose our own CAS through the
layouts in &lt;code&gt;erofs&lt;/code&gt;, and also support &lt;code&gt;fsverity&lt;/code&gt; hashes. Icing on the cake? We&amp;rsquo;ll leverage mount stacks to retain our composition-first, no
unnecessary reboot ethos.&lt;/p&gt;
&lt;h3&gt;📚 Versioned repositories&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-versioned-repositories&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-versioned-repositories&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We&amp;rsquo;ve touched on this a few times in our blog posts. Essentially the binary repository will be produced as a result of available build artefacts
correlating to the state of our git repo manifest files (boulder proofs of build). The main repository index will link releases to moss/stone
format versions, such that moss would only update to the latest release that it supports. This allows us to stagger breaking changes in a way
that nothing breaks at all.&lt;/p&gt;
&lt;h2&gt;📊 Current Status&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-current-status&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-current-status&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;🚀 Actively shipping GNOME ISOs&lt;/li&gt;
&lt;li&gt;🎮 Quite usable for gaming with NVIDIA drivers, Steam, Flatpak, etc&lt;/li&gt;
&lt;li&gt;👥 Real users are already praising stability and innovation&lt;/li&gt;
&lt;li&gt;🛠️ Focused heavily on &lt;code&gt;disks-rs&lt;/code&gt; and &lt;code&gt;lichen-installer&lt;/code&gt; to leverage disk strategy files (automatic provisioning described in KDL)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;🎉 Conclusion&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-conclusion&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-conclusion&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This isn&amp;rsquo;t just another distro. It&amp;rsquo;s us redefining distributing Linux. We&amp;rsquo;ve achieved a tremendous amount, having successfully integrated
all of the above into a cohesive, singular whole. The amusing part of course being that the resulting system is &amp;ldquo;boring&amp;rdquo; - it just works.&lt;/p&gt;
&lt;p&gt;Now, we are alpha. We&amp;rsquo;re not done, we&amp;rsquo;re not without issues. That said, we&amp;rsquo;re building the future and with your support, we&amp;rsquo;ll get there
even faster. This post has only scratched the surface of AerynOS, but if you like what we&amp;rsquo;re doing, please do get involved or support us.&lt;/p&gt;
&lt;Kofi /&gt;
&lt;p&gt;Or see &lt;a href=&#34;http://localhost:1313/sponsor&#34;&gt;other ways&lt;/a&gt; in which you can support the project financially.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>🚀 Hello AerynOS</title>
      <link>http://localhost:1313/blog/blog/2025/03/25/hello-aerynos/</link>
      <pubDate>Tue, 25 Mar 2025 15:35:21 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2025/03/25/hello-aerynos/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2025/03/25/hello-aerynos/Featured_hu_24d8cd6d0e9fbec1.png" width="640" height="400"/>]]>
        
        &lt;p&gt;import YouTube from &amp;ldquo;@/components/ui/YouTube.astro&amp;rdquo;;
import Kofi from &amp;ldquo;@/components/ui/Kofi.astro&amp;rdquo;;&lt;/p&gt;
&lt;p&gt;Hello from AerynOS! ✨ As you recall from February, we set about rebranding Serpent OS into what you now see,
AerynOS. It&amp;rsquo;s not been without challenges, and where possible we&amp;rsquo;ve ensured continuity. Additionally we silently
dropped a few ISOs, and can now take our first formal steps under our new identity. TLDR: the transition has been entirely
fluid and you only need to keep updating, no manual intervention is necessary! 🎉&lt;/p&gt;
&lt;p&gt;Progress has been steady but quiet lately, as due to unfortunate circumstances I&amp;rsquo;ve been working in bursts from my wifes
hospital bedside.&lt;/p&gt;
&lt;h2&gt;💿 But first, an ISO drop!&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-but-first-an-iso-drop&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-but-first-an-iso-drop&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;OK, lets get right to it. We&amp;rsquo;ve released AerynOS 2025.03, with the following shinies:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;🖥️ GNOME 48.0&lt;/li&gt;
&lt;li&gt;🐧 Linux 6.13.8&lt;/li&gt;
&lt;li&gt;🦊 Firefox 136.0.2&lt;/li&gt;
&lt;li&gt;🎮 Mesa 25.0.2&lt;/li&gt;
&lt;li&gt;🚀 Vulkan SDK 1.4.309.0&lt;/li&gt;
&lt;li&gt;🛠️ LLVM 19.1.7&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We&amp;rsquo;ve also decoupled the internal tooling version from the ISO versions to make them a little bit more.. well.. &lt;em&gt;readable&lt;/em&gt;,
for humans.&lt;/p&gt;
&lt;p&gt;Grab it now from the &lt;a href=&#34;http://localhost:1313/download&#34;&gt;download&lt;/a&gt; page.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;Featured.png&#34; alt=&#34;Installer preview&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;💰 Funding&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-funding&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-funding&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;I want to thank everyone for their support of the project since we got more transparent around goals. It&amp;rsquo;s been a huge help and has
facilitated massive progress on the project! 🙏 AerynOS no longer feels like a hacked together PoC, but a very solid daily runner. Yes,
it&amp;rsquo;s certainly alpha, and the installer leaves a lot to be desired. For daily use and updates? It&amp;rsquo;s really quite something.&lt;/p&gt;
&lt;p&gt;Please note that I never realised the Ko-fi goals don&amp;rsquo;t automatically reset, so the currently listed goal has been running for way more than
a month.. xD However, over a period of time, we did manage to achieve it! 🎉 I&amp;rsquo;ll be resetting it shortly on a fixed date for each month ahead.&lt;/p&gt;
&lt;Kofi /&gt;
&lt;h2&gt;🔄 Rebranding, the sane way.&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-rebranding-the-sane-way&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-rebranding-the-sane-way&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Rebranding can be more challenging than one expects. The easy stuff is out of the way, HTTP redirects and DNS trickery
to ensure old URLs continue to work without manual intervention. In the case of the repos, we&amp;rsquo;ve updated the scheme:&lt;/p&gt;
&lt;h3&gt;🧪 Unstable presync repos&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-unstable-presync-repos&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-unstable-presync-repos&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;packages.serpentos.com&lt;/code&gt; -&amp;gt; &lt;code&gt;packages.aerynos.dev&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;🌟 Post-sync user-facing repos&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-post-sync-user-facing-repos&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-post-sync-user-facing-repos&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;dev.serpentos.com&lt;/code&gt; -&amp;gt; &lt;code&gt;packages.aerynos.com&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;📚 Documentation site&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-documentation-site&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-documentation-site&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;docs.serpentos.com&lt;/code&gt; -&amp;gt; &lt;code&gt;aerynos.dev&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Note the former scheme made &lt;em&gt;no sense&lt;/em&gt; at all whereas now we take advantage of the &lt;code&gt;dotdev&lt;/code&gt; for unstable work. A future release
of &lt;code&gt;moss&lt;/code&gt; will automatically handle the transition on installs for the sake of consistency.&lt;/p&gt;
&lt;h3&gt;📊 Introducing &lt;code&gt;os-info&lt;/code&gt;&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-introducing-os-info&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-introducing-os-info&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Previously we had &lt;code&gt;moss&lt;/code&gt; generate the &lt;code&gt;/usr/lib/os-release&lt;/code&gt; file on demand using compiled in defaults, which was somewhat inflexible.
Now, we ship a JSON file (&lt;code&gt;/usr/lib/os-info.json&lt;/code&gt;) containing a description of the OS, the composition of technologies, and the capabilities.
While &lt;code&gt;os-release&lt;/code&gt; and &lt;code&gt;lsb_release&lt;/code&gt; exist, they provide very primitive identification and metadata. &lt;code&gt;os-info&lt;/code&gt; is designed to provide compatibility
with those formats while being far more expressive. Importantly, it also contains a mechanism for identifying the &lt;strong&gt;former identities&lt;/strong&gt; of
an operating system:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;former_identities&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;serpentos&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Serpent OS&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;#34;start_date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;2020-06-15T00:00:00Z&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;#34;end_date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;2025-03-17T00:00:00Z&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;#34;end_version&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;0.24.6&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;#34;announcement&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://aerynos.com/blog/2025/02/14/evolve-this-os/&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;code&gt;moss&lt;/code&gt; now utilises &lt;code&gt;os-info&lt;/code&gt; to generate the &lt;code&gt;os-release&lt;/code&gt; file, as well as to provide identification and history for our &lt;a href=&#34;https://github.com/AerynOS/blsforme&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;blsforme&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; crate
to manage each entry on the boot partition. This has allowed us to sync the branding on a per transaction basis, while still &amp;ldquo;owning&amp;rdquo; the
legacy branded transactions on the ESP too (i.e &lt;code&gt;/EFI/serpentos&lt;/code&gt;) and ensure they are correctly garbage collected. Interestingly this means that for
a short period of time the boot menu will still show some of the older Serpent OS entries, allowing you to roll back to it.&lt;/p&gt;
&lt;p&gt;Please visit the &lt;a href=&#34;https://github.com/AerynOS/os-info&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;os-info&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; repository for more details, the schema, etc. We&amp;rsquo;re very keen to open collaboration and adoption of this project, envisaging
use cases in installers, welcome apps, and indeed even container introspection tooling.&lt;/p&gt;
&lt;h2&gt;🔧 Installer progress&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-installer-progress&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-installer-progress&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We&amp;rsquo;ve officially begun the revamp of &lt;a href=&#34;https://github.com/AerynOS/lichen-installer&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;lichen-installer&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; using a proper split between
the privileged backend and frontend. In order to permit a number of frontends and use cases in future, we&amp;rsquo;re using &lt;code&gt;tonic&lt;/code&gt; gRPC messages
to communicate, currently just on a UNIX domain socket. In future, we&amp;rsquo;ll have use cases for TCP using WASM frontend.&lt;/p&gt;
&lt;p&gt;More importantly than that, we&amp;rsquo;ve now implemented the foundational aspects for &lt;a href=&#34;https://github.com/AerynOS/disks-rs&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;disks-rs&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.
Long story short - we&amp;rsquo;re using provisioning strategies defined in custom &lt;code&gt;.kdl&lt;/code&gt; files that are dynamically tested/validated against
an input storage pool to produce a working set of changes. Such as, create a new partition table and add some partitions to it, using
some constraints logic.&lt;/p&gt;
&lt;YouTube title=&#34;AerynOS: Disk Provisioning&#34; videoId=&#34;x5PMTmyYvXc&#34;/&gt;
&lt;p&gt;It is early days, but its quite awesome that we&amp;rsquo;re able to automatically partition disks based on these strategy files! ✨ These will form the
backbone of &lt;code&gt;lichen&lt;/code&gt;, allowing us to offer rich automatic storage strategies as well as manual partitioning options. Notable is the ability to
set the &lt;code&gt;volid&lt;/code&gt; or &lt;code&gt;uuid&lt;/code&gt; of a specific filesystem, and &lt;code&gt;partuuid&lt;/code&gt;, etc. This in essence allows shallow reproduction of an installation/disk topology
using a configuration file.&lt;/p&gt;
&lt;h2&gt;🙏 Acknowledgments&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-acknowledgments&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-acknowledgments&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This transition wouldn&amp;rsquo;t have been possible without our amazing community. Both long-time contributors and newcomers have stepped up to the plate to make AerynOS a reality, pushing us across the finish line during this critical transition.&lt;/p&gt;
&lt;p&gt;Special thanks to Cameron for his instrumental work in porting our websites to a more maintainable, Astro-based infrastructure. This migration has not only improved our development workflow but also enhanced the user experience across all our web properties.&lt;/p&gt;
&lt;p&gt;Whether you&amp;rsquo;ve contributed code, reported bugs, tested releases, spread the word, or supported us financially - thank you. AerynOS is truly a community effort, and we&amp;rsquo;re excited to continue this journey together.&lt;/p&gt;
&lt;p&gt;As always, you can join our community on &lt;a href=&#34;https://matrix.to/#/#aerynos:matrix.org&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Matrix&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; or contribute on &lt;a href=&#34;https://github.com/AerynOS&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitHub&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;🔄 Migration Guide&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-migration-guide&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-migration-guide&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;For existing Serpent OS users, migrating to AerynOS is straightforward:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Simply run the following command in your terminal:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo moss sync -u&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Some branding changes may require a second &lt;code&gt;moss&lt;/code&gt; operation to fully &amp;ldquo;take&amp;rdquo; effect (as they&amp;rsquo;ll be using the new moss binary). After the initial sync, run one of these commands to complete the transition:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo moss sync
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# or&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo moss install some-package&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;That&amp;rsquo;s it! Your system will seamlessly transition to AerynOS while maintaining all your existing configurations and installed packages.&lt;/p&gt;
&lt;h2&gt;🔮 Next up&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-next-up&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-next-up&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We&amp;rsquo;ll continue on the path we set at the start of the year. By and large we&amp;rsquo;ll improve the core tooling to continue delivering a
better experience for users, developers, gamers, etc.&lt;/p&gt;
&lt;p&gt;By the way, we &lt;em&gt;do&lt;/em&gt; have &lt;code&gt;nvidia-open-gpu-kernel-modules&lt;/code&gt; / &lt;code&gt;nvidia-graphics-driver&lt;/code&gt; for the &lt;code&gt;linux-desktop&lt;/code&gt; users wanting to game on their
shiny AerynOS installs. Our Steam package works great, and any feedback is appreciated on improving it (ie udev/controller stuff, 6.14 kernel is planned).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Shifting more towards the installer images, using &lt;a href=&#34;https://slint.dev&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Slint&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; for the installer frontend, and dropping unnecessary
packages from the installer image. Live ISOs will of course be available, but our primary target is installer images.&lt;/li&gt;
&lt;li&gt;Integration of &lt;a href=&#34;https://github.com/AerynOS/upstreams-rs&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;upstreams-rs&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; and ABI tracking into the tooling in order to vastly lighten the load
for maintainers.&lt;/li&gt;
&lt;li&gt;Accelerated delivery of milestone ISOs.&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>Evolve This OS</title>
      <link>http://localhost:1313/blog/blog/2025/02/14/evolve-this-os/</link>
      <pubDate>Fri, 14 Feb 2025 23:25:37 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2025/02/14/evolve-this-os/</guid>
      <description>
        
        
        &lt;p&gt;A long overdue, and highly requested update today. We&amp;rsquo;re finally rebranding the project!&lt;/p&gt;
&lt;h2&gt;🤔 Why the change?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-why-the-change&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-why-the-change&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The &amp;ldquo;Serpent OS&amp;rdquo; name was a quickly chosen name that stuck. Unfortunately &amp;ldquo;serpents&amp;rdquo; are often associated with
negative connotations, and we&amp;rsquo;ve had a lot of feedback over the years that the name was off-putting. Let&amp;rsquo;s be completely
honest, it&amp;rsquo;s not the most inviting name for a project. Who wants to trust a serpent? Generally speaking they&amp;rsquo;re considered
dangerous at best.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s fair to say we&amp;rsquo;ve spent a long time in prototype and alpha phases. In order to move forward, our identity needs
to be more befitting of the project we&amp;rsquo;re building. A move into the real world. This isn&amp;rsquo;t a hobby project, it&amp;rsquo;s a full
blown Linux distribution with serious technical underpinnings, achievements and goals. Getting the tone right from day dot
is critical.&lt;/p&gt;
&lt;p&gt;Do note, there is no change to the internal core team, so we&amp;rsquo;re aiming for full continuity and a seamless transition.
Had enough of these snakes on this plane? We have too.&lt;/p&gt;
&lt;h2&gt;✨ What&amp;rsquo;s the new name?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-whats-the-new-name&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-whats-the-new-name&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Hah, it&amp;rsquo;s not &amp;ldquo;Evolve OS&amp;rdquo;, despite the clickbait title. Our new name is&amp;hellip; drum roll please&amp;hellip;&lt;/p&gt;
&lt;h2&gt;🌟 &lt;strong&gt;AerynOS&lt;/strong&gt;&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-aerynos&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-aerynos&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Pronounced like &amp;ldquo;Erin&amp;rdquo;, it&amp;rsquo;s a name that we feel is more befitting of the project. Pulling from multiple etymologies, it&amp;rsquo;s a name that better describes the project
&lt;strong&gt;now&lt;/strong&gt; versus the project that started as Serpent OS.&lt;/p&gt;
&lt;p&gt;&amp;ldquo;Aer&amp;rdquo; is rather obvious, Latin in origin. The phonetic &amp;ldquo;Erin&amp;rdquo; is a nod to the Irish roots of the project, and of course a home.
There are a number of reasons for the name, which will form part of the initial documentation on the new website.&lt;/p&gt;
&lt;p&gt;Our intent is to have a name that is more inviting, and more descriptive of the project&amp;rsquo;s goals and aspirations. We&amp;rsquo;re not
anti-establishment or anti-corporation - if anything, we&amp;rsquo;re a statement that without the fiscal handcuffs, we can produce a
technically sound &lt;em&gt;and&lt;/em&gt; user-friendly operating system.&lt;/p&gt;
&lt;h2&gt;⏰ Timeline&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-timeline&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-timeline&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Having already secured &lt;code&gt;AerynOS.com&lt;/code&gt;, &lt;code&gt;AerynOS.dev&lt;/code&gt;, plus the associated social media accounts, we&amp;rsquo;re now in the process of
rebranding the project. For sheer irony, we&amp;rsquo;ll make the final transition day the 17th of March, 2025. Yes, St. Patrick&amp;rsquo;s Day.
The Matrix space has already been updated, and any areas where a new name isn&amp;rsquo;t feasible will see almost immediate renames.&lt;/p&gt;
&lt;p&gt;A new GitHub organisation has been created, with our first priority there to create a proper organisation structure for once.
Over the coming weeks everything will be migrated over, and we&amp;rsquo;ll mark the old organisation read-only/deprecated. Can&amp;rsquo;t have folks
thinking Serpent OS was abandoned, after all.&lt;/p&gt;
&lt;p&gt;Stick with us, we&amp;rsquo;ve got plenty of exciting news to come over the next days and weeks, as we embrace new transparency and
shed our old skin. Plus, we&amp;rsquo;ll be starting to onboard for web properties, translations, artwork, and more. Cherry on the cake?
Admitting that we&amp;rsquo;re actually building a &lt;em&gt;full&lt;/em&gt; distribution will allow us to put relevant priorities in place to expose
Serpent OS.. I mean AerynOS .. functionality to the wider world. Get ready for a reboot of the grassroots, independent Linux
scene. We&amp;rsquo;re here to stay.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Hello 2025</title>
      <link>http://localhost:1313/blog/blog/2025/02/06/hello-2025/</link>
      <pubDate>Thu, 06 Feb 2025 22:05:55 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2025/02/06/hello-2025/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2025/02/06/hello-2025/Featured_hu_84791792c6e02e2f.png" width="640" height="400"/>]]>
        
        &lt;p&gt;import Giphy from &amp;lsquo;@/components/ui/Giphy.astro&amp;rsquo;;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;TL;DR&lt;/strong&gt;: Serpent OS is facing funding challenges but development continues. Alpha2 is coming soon with an improved installer. We&amp;rsquo;re seeking community support through donations and volunteers for key roles. Our technical roadmap includes versioned repositories, immutable OS features, and improved package management workflows.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;We had a flurry of activity around the Christmas period, including our first alpha release as well as
enabling offline rollbacks early in January. We&amp;rsquo;re actively working on alpha2, but we also need to
talk about the elephant in the room.&lt;/p&gt;
&lt;h2&gt;🐘 The elephant in the room&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-the-elephant-in-the-room&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-the-elephant-in-the-room&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Recently I posted a &lt;a href=&#34;https://x.com/Serpent_OS/status/1886715364744007935&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;tweet&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; that has been covered
by a few news outlets. The long and short is quite simple: distinct lack of funds. A &lt;em&gt;very long&lt;/em&gt; story
short: a change in my contract led to a loss of income protection, combined with a herniated disc (C6-C7),
culiminated in having to resign. Naturally I&amp;rsquo;ve been working exclusively on Serpent OS since then, but
I&amp;rsquo;ve also got to keep the lights on at home.&lt;/p&gt;
&lt;Giphy id=&#34;ZGH8VtTZMmnwzsYYMf&#34;/&gt;
&lt;p&gt;This doesn&amp;rsquo;t mean the project is closing or anything like that, but it does mean that I actively need to keep
costs down whilst using daytime hours for financing. This is what&amp;rsquo;s led to the significant slowdown in the
last few weeks, and I&amp;rsquo;m just trying to be as transparent as possible and manage expectations.&lt;/p&gt;
&lt;h3&gt;💼 But couldn&amp;rsquo;t you just get a job?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-but-couldnt-you-just-get-a-job&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-but-couldnt-you-just-get-a-job&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Sure. The reality is that with a job, and kids, there&amp;rsquo;s very little time left for Serpent OS. I personally
believe very strongly in Serpent OS, and I want to see it succeed. As a truly independent project, we&amp;rsquo;re
in a unique position to do things that other projects can&amp;rsquo;t. We haven&amp;rsquo;t got to answer to shareholders, or
concern ourselves with market share. We can focus on making the best possible OS for our users.&lt;/p&gt;
&lt;p&gt;But it&amp;rsquo;s not &lt;em&gt;just&lt;/em&gt; that. We&amp;rsquo;re building the tools so that others can build &lt;em&gt;their&lt;/em&gt; vision of the best OS.
Or provide applicances. Or &amp;lt;insert your idea here&amp;gt;. We&amp;rsquo;re building a set of tools and principles to facilitate
innovation and disruption, for projects of any size. We&amp;rsquo;re not just building an OS, we&amp;rsquo;re building a platform.
Bring your own distro, if you will.&lt;/p&gt;
&lt;p&gt;My sincere hope is that others also believe in this vision, and can help us get there. It&amp;rsquo;s make or break time,
and you have the power to help us make it.&lt;/p&gt;
&lt;h3&gt;💰 Funding&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-funding&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-funding&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;OK, so how can folks help? The most obvious one is funding, so we&amp;rsquo;ll get that out of the way first. Right now
it&amp;rsquo;s possible to support us via &lt;a href=&#34;https://ko-fi.com/serpentos&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Ko-fi&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; or &lt;a href=&#34;https://github.com/sponsors/ikeycode&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitHub Sponsors&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.
For the sake of transparency, as noted on the &lt;a href=&#34;http://localhost:1313/sponsor&#34;&gt;Sponsor&lt;/a&gt; page, we haven&amp;rsquo;t got an established company
or business bank account. In time, we&amp;rsquo;re looking towards something more cooperative. For now, the reality is
the daily running and development largely falls on me.&lt;/p&gt;
&lt;h3&gt;🏗️ Infrastructure&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-infrastructure&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-infrastructure&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;One way that we could certainly cut some costs, and improve scaling, is through additional infrastructure.
We&amp;rsquo;re currently hosted on a single Hetzner server, and we&amp;rsquo;re looking to expand that to a more distributed
setup. Rune Morling currently hosts 2 of the builders in his home at his own expense, and the main server
is also the primary builder, which is less than ideal.&lt;/p&gt;
&lt;p&gt;We need to split the repository hosting as its grown enormously, and could do with a few more builders to
facilitate &amp;ldquo;try builds&amp;rdquo; of pull requests.&lt;/p&gt;
&lt;p&gt;Lastly we&amp;rsquo;re looking at CDN solutions to improve the speed of package downloads (efforts currently ongoing).&lt;/p&gt;
&lt;h3&gt;👥 Roles and responsibilities&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-roles-and-responsibilities&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-roles-and-responsibilities&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We&amp;rsquo;re growing quickly and that comes with some pain points. We&amp;rsquo;re looking for immediate help in the following key areas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Community management&lt;/strong&gt;: Someone to manage social media, forums, and other community platforms.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Documentation&lt;/strong&gt;: Once we pivot to Astro + Starship, we&amp;rsquo;ll need to focus on adding high quality documentation.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Translation&lt;/strong&gt;: We&amp;rsquo;re enabling gettext + fluent where appropriate, and will need extensive translation work.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Web development&lt;/strong&gt;: We need to improve our web presence, management of web properties, transition to Astro, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;While of course we&amp;rsquo;d also love more developers and packagers, most of the time is spent in these areas already, and the other
roles desperately need attention.&lt;/p&gt;
&lt;h2&gt;🚀 Latest developments&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-latest-developments&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-latest-developments&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Before we get into the future, let&amp;rsquo;s talk about what we&amp;rsquo;ve been working on lately.&lt;/p&gt;
&lt;h3&gt;💾 Disk Management (disks-rs)&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-disk-management-disks-rs&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-disk-management-disks-rs&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A couple of weeks back we broke the news that we were working on a new disk management library, &lt;code&gt;disks-rs&lt;/code&gt;.
The scope wasn&amp;rsquo;t made quite clear at the time, but it&amp;rsquo;s another building block to facilitate smarter applications.
Eventually we want to support the manipulation of various filesystems and disk structures, for use in CI pipelines, etc.&lt;/p&gt;
&lt;p&gt;Another requirement for disk-rs is to not only expose sane partitioning logic, but also to provide a way to declaratively
define disk layouts. This will be used in the installer, but also for reproducing entire installations. It forms the basis
for our future provisioning system.&lt;/p&gt;
&lt;p&gt;Right now we&amp;rsquo;re working on a very cool &lt;a href=&#34;https://kdl.dev&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;.kdl&lt;/code&gt;&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; based format for defining disk layouts. It takes advantage
of &lt;code&gt;kdl-rs&lt;/code&gt; streaming parser to implement a procedural syntax complete with miette error handling for a very nice developer
experience:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;// Create a partition table. Defaults to GPT
create-partition-table type=&amp;#34;gpt&amp;#34; disk=&amp;#34;root_disk&amp;#34;

// Create the ESP
create-partition disk=&amp;#34;root_disk&amp;#34; id=&amp;#34;esp&amp;#34; {
    constraints {
        min (GB)1
        max (GB)2
    }
    type ...
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3&gt;🛠️ Installer&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-installer&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-installer&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Our installer has quite a nice backend, but honestly the frontend experience leaves a lot to be desired. Given that our current
focus is being able to not only onboard developers but build tooling against an installed system, we need to make the core of
this effectively scriptable. To do so will build upon ongoing IPC work for moss and disks-rs, and the introduction of a new GUI
frontend based on &lt;a href=&#34;https://slint.dev/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Slint&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. While early days we&amp;rsquo;re trying to think 10 miles down the road, where we can utilise
the LinuxKMS backend for minimal installer ISOs.&lt;/p&gt;
&lt;p&gt;Early preview:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;Featured.png&#34; alt=&#34;Installer preview&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;🔮 The road to stability&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-the-road-to-stability&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-the-road-to-stability&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;So we have some exploratory works in progress, and it&amp;rsquo;s time to discuss how they all relate to the future of Serpent OS.
You&amp;rsquo;ll immediately notice that these are highly circular in nature, meaning we need to switch between different areas
routinely. In order to design an effective architecture, whilst minimising disruption, we need to have a clear vision
of the future that we&amp;rsquo;re referring to as &amp;ldquo;10 miles down the road&amp;rdquo;.&lt;/p&gt;
&lt;h3&gt;📚 Versioned repositories&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-versioned-repositories&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-versioned-repositories&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;As previously explained, one of the built-in mechanisms to support a rolling release with breaking changes to the format is to introduce
explicitly versioned repositories. Long story short, a local &lt;code&gt;moss&lt;/code&gt; client will only &amp;ldquo;see&amp;rdquo; the latest version of the repository that it can
actually use. Breaking changes will mean format bumps, and newer repository versions will be unavailable until the client has updated to
a client/Serpent OS version that actually supports it.&lt;/p&gt;
&lt;p&gt;This work requires changes to the repository format, infrastructure, and a migration path from the current repository to a new
archive. However, it is also dependent on having a new format version being available for the versioned-indices.&lt;/p&gt;
&lt;h3&gt;🔒 Immutable OS&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-immutable-os&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-immutable-os&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Frequently Serpent OS is described as an immutable OS, but in actuality it is an &lt;strong&gt;atomic&lt;/strong&gt; OS. That means we&amp;rsquo;ve focused entirely
on providing a reliable update mechanism, rollbacks, etc. We have not yet enforced immutability, aka a read-only root filesystem.&lt;/p&gt;
&lt;p&gt;Our plan is heavily inspired by &lt;a href=&#34;https://github.com/containers/composefs&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;composefs&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. Currently &lt;code&gt;moss&lt;/code&gt; produces new filesystem trees
using a hardlink farm approach, and relies on &lt;code&gt;renameat2()&lt;/code&gt; to atomically switch the root filesystem. This is a very fast operation,
but does not provide immutability.&lt;/p&gt;
&lt;p&gt;Leveraging the ability of moss to dynamically construct filesystems from packages, it will be abstracted into a driver mechanism. This will
allow the classic hardlink approach for buildroots, but employ a new &lt;code&gt;erofs&lt;/code&gt; strategy for immutable installs. The newly generated
&lt;code&gt;erofs&lt;/code&gt; image will essentially rely on extended attributes to &amp;ldquo;point&amp;rdquo; to the underlying content addressable storage, and utilise
&lt;code&gt;overlayfs&lt;/code&gt; to present a read-only view of the filesystem. Further building on this we&amp;rsquo;ll use so-called &amp;ldquo;mount tucking&amp;rdquo; to provide
the mechanism for atomic updates without the need for a reboot.&lt;/p&gt;
&lt;h4&gt;🤔 Why not use composefs?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-why-not-use-composefs&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-why-not-use-composefs&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;We&amp;rsquo;re actually going to make moss support exports to composefs format, making it an ideal match for &lt;code&gt;podman&lt;/code&gt; use cases, deduplicating
the image content. Whereas &lt;code&gt;composefs&lt;/code&gt; produces content from an existing tree, we&amp;rsquo;ve already got content addressable storage, independent
transactions and databases to facilitate this. This means we&amp;rsquo;ll be able to retain our composition features and very quickly produce the
new &lt;code&gt;erofs&lt;/code&gt; images. Using &lt;code&gt;composefs&lt;/code&gt; directly would significantly slow down the time to produce each transactions, whereas we can instead
build a similar internal functionality and integrate at higher levels.&lt;/p&gt;
&lt;p&gt;We also plan to integrate the file digests in a new revision of the moss &lt;code&gt;stone&lt;/code&gt; format, which will open the door to supporting
SELinux xattrs, as well as &lt;code&gt;fsverity&lt;/code&gt; for the immutable images.&lt;/p&gt;
&lt;p&gt;Note that this goal will inform the requirements for the next stone format, which will in turn require versioned repositories.
Of course, this also impacts the build pipeline infrastructure.&lt;/p&gt;
&lt;h3&gt;👷 Maintainer burden&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-maintainer-burden&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-maintainer-burden&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Truly the most time consuming task in most distributions is the &lt;em&gt;cost&lt;/em&gt; of maintaining packages. This is being approached, as with all
of the planned goals, in an incremental fashion. However, it often pays to have a view 10 miles down the road to determine exactly how
to get there.&lt;/p&gt;
&lt;h4&gt;🧬 ABI Tracking&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-abi-tracking&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-abi-tracking&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;In order to provide sanity for developers, and make guarantees about the stability of the system, we need to track the binary ABI for
all packages. Furthering on this, we can of course immediately detect any breakage and schedule rebuilds as appropriate. This will also
add a higher degree of confidence for pull requests as we&amp;rsquo;ll know if its consistent or introducing problems.&lt;/p&gt;
&lt;h4&gt;🔄 Pull Request workflows&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-pull-request-workflows&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-pull-request-workflows&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;The workflow for packaging right now is for someone to open a pull request, which contains their recipes, the automatic &amp;ldquo;build records&amp;rdquo; (manifest)
and our assumption that they built it using a local repo based on top of the latest repository. What is actually needed here is for the infrastructure
to perform automatic (low priority) builds of each pull request in a &lt;em&gt;transient&lt;/em&gt; repository, making those builds available for verification
purposes.&lt;/p&gt;
&lt;h4&gt;⚛️ Atomic repo merges&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-atomic-repo-merges&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-atomic-repo-merges&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Another limitation with the current infrastructure is the reliance on a global build queue. Simply put, once a PR is merged, all of those builds
are scheduled and individually published to the target repository upon completion. This is very naive, and leads to a lot of &amp;ldquo;nannying&amp;rdquo; in the
event of a failed merge.&lt;/p&gt;
&lt;p&gt;In future, those builds will be scheduled in a transient repository, and upon successful completion the resulting artefacts would be published
to the target repository in a single atomic operation. This will also allow for the introduction of &amp;ldquo;try builds&amp;rdquo; for pull requests.&lt;/p&gt;
&lt;h4&gt;🩸 The bleed-through problem&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-the-bleed-through-problem&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-the-bleed-through-problem&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Another issue which partially relates to bootstraps, is the bleed through problem. This is an artefact of using layered repositories, such as a local
repository, to build updates that would change the providers available in the underlying repository upon merge. Take for example, LLVM.&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;main repo:
    ├── rust [runtime-depends: libLLVM-18.so]
    └── build-dep: binary(rust) [runtime-depends: libLLVM-18.so]

local repo:
    ├── rust [runtime-depends: libLLVM-19.so]
    └── build-dep: binary(rust) [runtime-depends: libLLVM-18.so]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;After completion of libLLVM-19.so, the local repository would contain the new version, but the main repository would still contain the old version.
Locally this would allow the circular build dependencies to work as &lt;code&gt;rust&lt;/code&gt; builddep for &lt;code&gt;rust&lt;/code&gt; could still resolve &lt;code&gt;libLLVM-18.so&lt;/code&gt;. However, upon,
merging to the repository, we have a new problem. The main repository would now contain &lt;code&gt;libLLVM-19.so&lt;/code&gt;, but the &lt;code&gt;rust&lt;/code&gt; package would still be
built against &lt;code&gt;libLLVM-18.so&lt;/code&gt;. This then breaks the dependency chain for &lt;code&gt;rust&lt;/code&gt;, requiring manual intervention.&lt;/p&gt;
&lt;p&gt;To solve this, we&amp;rsquo;ll ensure that &lt;strong&gt;filtered&lt;/strong&gt; repository views are introduced both for local builds and our build infrastructure. This will mean
that the index of the local repository will &lt;em&gt;occlude&lt;/em&gt; the main repository, and eliminate bleed-through.&lt;/p&gt;
&lt;h4&gt;⭕ The bootstrap problem&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-the-bootstrap-problem&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-the-bootstrap-problem&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Whilst ABI tracking is very important, it doesn&amp;rsquo;t actually solve the bootstrap problem of circular dependencies. This is a consequence
of using an incremental development model for a binary-first distribution. In reality the only real way to solve this is by eventually
altering the tooling to support a &amp;ldquo;world view&amp;rdquo;, with intermediate recipes that are not published to the final repository. In effect, combined
with ABI tracking for dependency chain invalidation, we can determine which recipes need to run again as part of an invaldation-solver loop
that relies on &amp;ldquo;cached artifacts&amp;rdquo;, i.e. the final packages.&lt;/p&gt;
&lt;p&gt;This isn&amp;rsquo;t an immediate issue to solve, but it will inform our next steps to ensure we get to that point without requiring extensive
overhauls or &amp;ldquo;stop the world&amp;rdquo; rewrites. Our eventual vision is that building any new package will feel much like it does now, but changing a
reverse dependency will evaluate the dependent chain for rebuilds. To make this streamlined, the infrastructure will by this time have
grown to a point where we can share the compute power by way of so-called &amp;ldquo;try builds&amp;rdquo;, and a shared cache of artifacts.&lt;/p&gt;
&lt;h4&gt;📦 Keeping the packages up to date&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-keeping-the-packages-up-to-date&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-keeping-the-packages-up-to-date&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;A large portion of the burden is in reality chasing updates. Currently we have a very simplistic utility that cross-references
&lt;a href=&#34;https://release-monitoring.org&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;release-monitoring.org&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; to spit out a list of recipes that have available updates. Truthfully
we could &lt;strong&gt;easily&lt;/strong&gt; generate diffs for these updates, and even automate the process of updating the recipes. This is dependent
however on having confidence in the pull request, which in turn is dependent on ABI tracking being in place.&lt;/p&gt;
&lt;h3&gt;🗂️ Organising it all&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-organising-it-all&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-organising-it-all&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We have a complex series of interdependent goals, which require research and frequently shifting between focus areas. Not all of them will be immediately realised,
and some are simply informing the direction for our future. Additionally, we need to keep moving without any &amp;ldquo;rewrite the world&amp;rdquo; pauses.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s important to highlight that none of this is a reinvention of the project, but a series of steps to &amp;ldquo;1.0&amp;rdquo; and beyond to ensure that
the project is sustainable and reliable. This means that delivery continues, and the delivery itself becomes simpler and more trustworthy.&lt;/p&gt;
&lt;p&gt;Despite the interdependencies, once we&amp;rsquo;ve finished scoping the end requirements we can work towards the immediate concerns:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pull request workflow&lt;/li&gt;
&lt;li&gt;Repository &lt;em&gt;consistency&lt;/em&gt; (initially ABI story)&lt;/li&gt;
&lt;li&gt;Update automation&lt;/li&gt;
&lt;li&gt;Immutability&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note: These timelines are estimates and may adjust based on available resources and community support.&lt;/p&gt;
&lt;h2&gt;Scale-up considerations&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;scale-up-considerations&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#scale-up-considerations&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We&amp;rsquo;re at the point where we need a functional OS for contributors to be able to work on the project. It also presents a paradox because
we wish to keep the project lean whilst we work on extending the scale-out capabilities. In reality this means that we&amp;rsquo;re going to permit
a &lt;strong&gt;limited&lt;/strong&gt; amount of repository growth:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Addition of the Plasma desktop for daily use&lt;/li&gt;
&lt;li&gt;Container-management tooling (podman, docker, etc)&lt;/li&gt;
&lt;li&gt;Development tools (IDEs, etc)&lt;/li&gt;
&lt;li&gt;Onboarding requirements (such as Matrix clients, documentation, etc)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This in turn also requires a more reliable installation experience, which is why we&amp;rsquo;ve been spending cycles on the installer project.
Internally we want the installer to support a variety of scriptable configurations in order to provide better test coverage for our updates
and boot management, whilst we also intend to &lt;strong&gt;incrementally&lt;/strong&gt; improve the user experience.&lt;/p&gt;
&lt;h2&gt;📅 Conclusion&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-conclusion&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-conclusion&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Alpha2 is coming, and will feature a preliminary version of the updated installer. The plan initially is for a simple &amp;ldquo;use whole disk&amp;rdquo; strategy
and will be followed up with supported for encrypted installations (post alpha2). Quite simply, some employers require their developers have encrypted installs,
and not supporting this configuration will restrict our ability to onboard developers.&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;re doing the Alpha2 as a baseline, from which all update testing, infrastructure adjustments, etc, will be measured against. This is the
point at which the project will formally &amp;ldquo;open the doors&amp;rdquo; for more developers and testers, with the explicit view that growth is
sustainable and manageable. Per the requirements set above, we&amp;rsquo;re not going to &amp;ldquo;explode&amp;rdquo;, but enable specific workflows that in turn will permit
us to scale out the project and inform direction.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s important to me that we&amp;rsquo;re explicit in how we take our next steps. As stated earlier, pausing the world is not an option.
Continued delivery whilst enabling an incremental path to the future is the only way to ensure that we can deliver on our promises.
Contrary to a reboot, this is a solidification of our vision and a commitment to the future. Sure, new features will also appear in time,
such as easier packaging recipe formats, but no decision is being made that will require a rewrite of the project. However, these goals
require stating and explaining up front so that the high level vision is clear and provides the context for any short-term deliverables.
The last thing we need is to be in a position where we&amp;rsquo;re &amp;ldquo;stuck&amp;rdquo; and unable to deliver, due to a lack of foresight.&lt;/p&gt;
&lt;h2&gt;🙏 Thank you&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;-thank-you&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#-thank-you&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;On behalf of the project, I&amp;rsquo;d like to thank everyone who has supported us so far. Whether that&amp;rsquo;s through donations, code contributions,
or even having the time of day to try out the ISO, it&amp;rsquo;s deeply appreciated. Being the underdog comes with its own set of challenges,
and of course the &amp;ldquo;indie cost&amp;rdquo;, but it&amp;rsquo;s also an opportunity to challenge the status quo and find new, more optimal ways, to do things.&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;re not just building &amp;ldquo;Serpent &lt;strong&gt;OS&lt;/strong&gt;&amp;rdquo;, we&amp;rsquo;re building a set of tools to solve the problem of distributing an OS. Way down the line this
will be powerful enough to support a number of use cases, from appliances to desktops, and even servers. In short, we want to bring high
quality tooling to the masses, and we&amp;rsquo;re doing it in a way that&amp;rsquo;s sustainable and reliable.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Offline Rollbacks Enabled</title>
      <link>http://localhost:1313/blog/blog/2025/01/04/offline-rollbacks-enabled/</link>
      <pubDate>Sat, 04 Jan 2025 22:19:37 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2025/01/04/offline-rollbacks-enabled/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2025/01/04/offline-rollbacks-enabled/featured-background_hu_d1469f8fedbe8e9c.png" width="640" height="400"/>]]>
        
        &lt;p&gt;import YouTube from &amp;lsquo;@/components/ui/YouTube.astro&amp;rsquo;;
import Kofi from &amp;lsquo;@/components/ui/Kofi.astro&amp;rsquo;;&lt;/p&gt;
&lt;p&gt;If a picture tells a thousand words&amp;hellip; well then this video .. Yknow what, sod it.
Here&amp;rsquo;s a video of the offline rollback support in action, as tested in a newly installed
VM using &lt;code&gt;xfs&lt;/code&gt; for the root filesystem. We jokingly refer to this as the &amp;ldquo;LTT&amp;rdquo; test due
to LinusTechTips&amp;rsquo; &amp;ldquo;interesting encounters&amp;rdquo; with package management systems in the past.&lt;/p&gt;
&lt;p&gt;This has already landed in our volatile repository, so simply &lt;code&gt;sudo moss sync -u&lt;/code&gt; and grab
the latest updates. Any subsequent transactions will automatically generate the boot entries
for you, no intervention required. Or mounting. Or anything. Just update and go. Srsly.&lt;/p&gt;
&lt;YouTube title=&#34;Offline Rollbacks&#34; videoId=&#34;qkErsc4CA24&#34;/&gt;
&lt;p&gt;We actually saw this as a golden standard for the feature, as it&amp;rsquo;s a real-world scenario
where you&amp;rsquo;d want to roll back to a known good state. The video shows the system booting
and recovering in multiple ways, from complete system nuke (via glibc) and simpler scenarios
like removal of the GNOME desktop environment.&lt;/p&gt;
&lt;p&gt;The intent is to ensure a user can quickly revert to the last transaction that worked in the
instance an update goes awry, without needing to boot into a rescue environment or live CD.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h3&gt;Like what we&amp;rsquo;re doing?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;like-what-were-doing&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#like-what-were-doing&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Developing a project with the scope of Serpent OS is no small feat. In order to maintain our
current cadence, and to land huge features like the offline rollback, or impending system
model work, we need your support. I&amp;rsquo;m as happy as the next person to return to the job market
once my medical conditions ease up, but the simple matter is this will greatly slow down our
recent progress.&lt;/p&gt;
&lt;p&gt;Our aim is to entirely redefine the &lt;strong&gt;distribution&lt;/strong&gt; of Linux, and the years of prior effort
are finally coming together rapidly to make this a reality. If you like what we&amp;rsquo;re doing,
consider supporting us!&lt;/p&gt;
&lt;Kofi/&gt;
&lt;p&gt;Visit our &lt;a href=&#34;http://localhost:1313/sponsor&#34;&gt;sponsor&lt;/a&gt; page for more information on how you can help us grow and deliver
the future of Linux distributions.&lt;/p&gt;
&lt;h3&gt;Technical Details&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;technical-details&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#technical-details&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;This is all achieved using moss&amp;rsquo;s internal content addressable storage for deduplication,
where each old transaction is swapped with the live &lt;code&gt;/usr&lt;/code&gt; at the time into the archive.&lt;/p&gt;
&lt;p&gt;The behaviour is implemented in the initramfs (&lt;code&gt;dracut&lt;/code&gt;) by invoking &lt;code&gt;moss state activate $transaction_id -D /sysroot&lt;/code&gt;,
ensuring that the activation is performed &lt;em&gt;before&lt;/em&gt; the new root is mounted and the system is booted.
We actually shrunk our &lt;code&gt;moss&lt;/code&gt; and &lt;code&gt;uutils-coreutils&lt;/code&gt; builds to half their usual size so that we can
fit them comfortably into the initramfs.&lt;/p&gt;
&lt;p&gt;For now, we&amp;rsquo;ll automatically generate entries on the ESP (or XBOOTLDR) for the last 5 transactions, and you
can select them during early boot to perform the rollback. It&amp;rsquo;s not slow, as it&amp;rsquo;s just doing yet another
&lt;code&gt;renameat2()&lt;/code&gt; to atomically exchange the live &lt;code&gt;/usr&lt;/code&gt; with the archived transaction.&lt;/p&gt;
&lt;p&gt;TLDR: Boot time rollback, no network required, no live CD required, no rescue environment required. Just a working system.&lt;/p&gt;
&lt;h3&gt;What&amp;rsquo;s next?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;whats-next&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#whats-next&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The system model is coming next, which will expose the non-imperative core of the architecture to users.
The usual commands will continue to emulate an imperative OS, by mutating the system model and applying
the internal &lt;code&gt;sync&lt;/code&gt; operation. This ensures dependencies are resolved only according to the layered repository
configuration, without special exceptions for &amp;ldquo;installed&amp;rdquo; (which.. we spent a lot of effort faking this behaviour).&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s good to remember that moss is effectively a huge cache, and that each state has no relation to the other. We
simulate upgrades by building a new state with the same selections as the old one, then begin to upgrade those candidates.&lt;/p&gt;
&lt;p&gt;The new model (somewhat Gentoo inspired ❤️) will allow moss to build the dependency graph for the finished system state.
As a sneak preview of what we&amp;rsquo;re enabling, imagine the newly landed transactional reboot code linked with &lt;strong&gt;multiple&lt;/strong&gt;
system models&amp;hellip; such that you might decide to &lt;code&gt;moss sync&lt;/code&gt; from your existing model to an entirely different one, rebooting
from your GNOME desktop to a KDE desktop, for example. Cleanly, atomically, and without any manual intervention.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Investing in the Future</title>
      <link>http://localhost:1313/blog/blog/2024/12/31/investing-in-the-future/</link>
      <pubDate>Tue, 31 Dec 2024 14:00:11 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2024/12/31/investing-in-the-future/</guid>
      <description>
        
        
        &lt;p&gt;Here we are, at the end of 2024, and what a year it&amp;rsquo;s been! We&amp;rsquo;ve made significant progress on Serpent OS, and we&amp;rsquo;re excited to share some of the highlights with you.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h2&gt;Attained Alpha&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;attained-alpha&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#attained-alpha&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Virtually 5 years in the making, we recently attained alpha status. Our tooling and concepts have aligned, allowing us to now rapidly iterate
on the core deliverable itself: Serpent OS. We&amp;rsquo;ve seen an explosion in cadence, with our tooling enabling us to quickly and
easily deliver updates, new packages and enabling new features.&lt;/p&gt;
&lt;p&gt;Since the Alpha 1 ISO (&lt;code&gt;0.24.5&lt;/code&gt;), we&amp;rsquo;ve fixed a number of issues in relation to hardware and booting. We&amp;rsquo;ve also added
new features to moss (refined boot management) and boulder (our build system). Even now we have multiple PRs open to
tidy up moss, add automatic generation of &lt;code&gt;monitoring.yaml&lt;/code&gt; files, and more.&lt;/p&gt;
&lt;h2&gt;Keeping the cadence&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;keeping-the-cadence&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#keeping-the-cadence&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We&amp;rsquo;ve been working hard to keep the cadence up, and we&amp;rsquo;re now at a point where we can deliver new ISOs on a regular basis.
Our main focus now is the tooling, in enabling a far more automatic delivery pipeline. The vision is having automated pull
requests generated for package updates, automatically handling changes in dependencies and ABI, and ordered by build tier.
This will significantly reduce the maintainer burden, in conjunction with planned security monitoring.&lt;/p&gt;
&lt;h2&gt;Short term deliverables&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;short-term-deliverables&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#short-term-deliverables&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In the short term we&amp;rsquo;re going to land the following features:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Offline Rollbacks&lt;/strong&gt; - We&amp;rsquo;re going to land offline rollbacks in the boot menu, allowing you to easily revert to a previous
system state.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Versioned Repositories&lt;/strong&gt; - We&amp;rsquo;re going to introduce versioned repositories, allowing us to gracefully handle format changes
in moss and boulder, permitting an &amp;ldquo;update forever&amp;rdquo; epoch-staggering approach. Additionally, this will allow users to stay on an
older repo version if they&amp;rsquo;re awaiting a fix to a regression in a newer version.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Improved Documentation&lt;/strong&gt; - We&amp;rsquo;re going to improve our documentation, making it easier for new users to get started with Serpent OS.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Tools as a service&lt;/strong&gt; - We&amp;rsquo;re adding IPC layers to our tooling, allowing them to be launched as helper services for integration in
other applications. This will allow us to integrate moss with GNOME Software and COSMIC Store, for example. Additionally it will ensure
the latest version of the &lt;code&gt;moss&lt;/code&gt; binary is always used by the system, gracefully handling version repo changes.
Chiefly, this will allow &lt;code&gt;moss&lt;/code&gt; to cheaply integrate anywhere we need it, including for &lt;code&gt;lichen&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Lichen Improvements&lt;/strong&gt; - Lichen will also be converted to an IPC based backend, allowing it to be executed via &lt;code&gt;pkexec&lt;/code&gt; for integration into
a GUI (or even CLI) frontend. This is a necessary step to allow the frontend to operate without privileges, facilitating live
updates to the NetworkManager configuration, or indeed keyboard layouts. Long term we&amp;rsquo;re planning a &lt;code&gt;cage&lt;/code&gt; based kiosk with a full screen
installer mode, on a far smaller ISO.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Long term vision&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;long-term-vision&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#long-term-vision&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Our long term vision is to deliver a system that is easy to use, reliable, and secure. We&amp;rsquo;re building Serpent OS to be a system that
updates forever, confidently. We&amp;rsquo;re also shaking things up by being first-adopter of new technologies as default solutions, with a view
to enhancing the robustness, origin-diversity and security of the system through Rust based replacements and alternatives to key components.
You can already see this with our adoption of &lt;code&gt;sudo-rs&lt;/code&gt;, &lt;code&gt;coreutils&lt;/code&gt; (&lt;code&gt;uutils&lt;/code&gt;), &lt;code&gt;ntpd-rs&lt;/code&gt;, and not to forget &lt;code&gt;rustls&lt;/code&gt; by default for our curl build.&lt;/p&gt;
&lt;p&gt;Outside of that, &lt;code&gt;moss&lt;/code&gt;, &lt;code&gt;boulder&lt;/code&gt; and the supporting crates are also written in Rust, giving us a strong foundation for the future.&lt;/p&gt;
&lt;p&gt;Serpent OS is a project that is built to last, and challenge the status quo. Deliver a Linux distribution for use on multiple verticals,
with the feeling of a conventional Linux distribution, but with key management facilities and architecture designed to make a rolling release
distribution that can be trusted for long term use, extensive updates, and the ability to entirely re-engineer the entire OS, delivering in a safe
atomic update without breaking client installations.&lt;/p&gt;
&lt;h2&gt;How you can help&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;how-you-can-help&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#how-you-can-help&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In order to give Serpent OS the development time it needs, we&amp;rsquo;re looking for sponsors to help fund development. If you&amp;rsquo;re interested in becoming a sponsor
or investor, please do not hesitate to get in touch. We want to secure funding for development and infrastructure for the next 2 years.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://localhost:1313/sponsor&#34;&gt;Sponsors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;mailto:ikey@serpentos.com&#34;&gt;Discuss sponsorship/investment&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;While of course we need to iterate on our own tooling, we also need to be able to work more upstream and with kindred projects to drive
the ecosystem forward. In time, we wish to become the incubator for new technologies and solutions, and we need your help to do that.&lt;/p&gt;
&lt;p&gt;With your support, we can expand our builder network and enable more hosting, bandwidth, and compute resources. This will in turn enable
our automated rebootstraps, which will of course allow downstreams to extend upon Serpent OS as a kit-distro. Indeed, it&amp;rsquo;ll allow us to expand
beyond &lt;code&gt;x86_64&lt;/code&gt; when the time is right.&lt;/p&gt;
&lt;p&gt;While Serpent OS currently delivers a desktop ISO, this is not the limit of our potential. As indicated, our priorities in the short term
are designed to massively aimplify project maintainer bandwidth and free up more time for feature iteration and development. Once we&amp;rsquo;re quite
happy with the base (and we&amp;rsquo;re not far from that point) - we&amp;rsquo;ll quite happily extend to other desktops, and even server/cloud offerings.&lt;/p&gt;
&lt;p&gt;Nothing is bullet proof, but with the architecture and tooling of Serpent OS we can get pretty close. Gotta admit, having a transactional, atomic OS
with rollbacks, and the full granularity of a conventional package manager, is pretty cool. 😎 Especially when things &amp;ldquo;Just work&amp;rdquo; out of the box
thanks to the stateless (&amp;ldquo;hermetic usr&amp;rdquo;) requirements of the system.&lt;/p&gt;
&lt;p&gt;Know what&amp;rsquo;s even cooler? When we land our system-model implementation, you&amp;rsquo;ll be able to completely duplicate the setup between local development
and production. When we also land our export/compose functionality in moss, you&amp;rsquo;ll be able to reap these benefits in containers too. 🐍&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s to a great 2025, and we hope you&amp;rsquo;ll join us on this journey. 🚀&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Alpha Refresh Available</title>
      <link>http://localhost:1313/blog/blog/2024/12/29/alpha-refresh-available/</link>
      <pubDate>Sun, 29 Dec 2024 16:45:48 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2024/12/29/alpha-refresh-available/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2024/12/29/alpha-refresh-available/featured-background_hu_de97a75c112de4e8.png" width="640" height="400"/>]]>
        
        &lt;p&gt;In response to feedback from the community, we&amp;rsquo;re issuing a refresh of the Alpha 1 release, &lt;code&gt;0.24.6&lt;/code&gt;. This refresh includes a number of key updates and improvements, including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Now works with etcher&lt;/li&gt;
&lt;li&gt;Fractional scaling enabled by default&lt;/li&gt;
&lt;li&gt;Prebuild icon theme caches to speed up trigger execution (except for &lt;code&gt;hicolor&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Add new &lt;code&gt;moss boot status&lt;/code&gt; command for introspection into &lt;a href=&#34;https://github.com/serpent-os/blsforme&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;blsforme&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; functionality&lt;/li&gt;
&lt;li&gt;Fix amdgpu initialisation for older devices, previously leading to black screen on boot&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;featured-background.png&#34; alt=&#34;Fractional scaling, much loved&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;Clarification on moss boot management&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;clarification-on-moss-boot-management&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#clarification-on-moss-boot-management&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Frequently in Team Serpent we joke that &lt;code&gt;moss&lt;/code&gt; is the &amp;ldquo;systemd of package managers&amp;rdquo;. It actually does a whole lot more than is easily visible.. for example:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Content addressable storage for the entire OS&lt;/li&gt;
&lt;li&gt;Atomic updates of &lt;code&gt;/usr&lt;/code&gt; by &lt;code&gt;renameat2()&lt;/code&gt; w/ &lt;code&gt;RENAME_EXCHANGE&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Executes &lt;strong&gt;transactional triggers&lt;/strong&gt; in a namespace (container) with RW &lt;code&gt;/usr&lt;/code&gt; and RO binds of &lt;code&gt;/etc&lt;/code&gt; and &lt;code&gt;/var&lt;/code&gt; &amp;hellip;&lt;/li&gt;
&lt;li&gt;Executes &lt;strong&gt;system triggers&lt;/strong&gt; postblit, with dependency ordering..&lt;/li&gt;
&lt;li&gt;Via blsforme, manages the ESP, XBOOTLDR, boot entries, sync and promotion of bootloader, kernel and assets, initrds..&lt;/li&gt;
&lt;li&gt;Entirely zero configuration. No &lt;code&gt;/etc/default/grub&lt;/code&gt;, no remembering your &lt;code&gt;root={}&lt;/code&gt;, it&amp;rsquo;s determined automatically.&lt;/li&gt;
&lt;li&gt;Basically does all the work of OS provisioning, barring disk mounting and partitioning. Our installer, lichen, is basically a thin wrapper of moss.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We&amp;rsquo;ve had no debugging capabilities around the boot management, so we&amp;rsquo;ve landed &lt;code&gt;moss boot status&lt;/code&gt; command. It&amp;rsquo;s super primitive
but does offer an insight into the introspection capabilities of blsforme. In this simple screenshot, moss/blsforme are supporting the
Boot Loader Protocol, querying the &lt;code&gt;systemd-boot&lt;/code&gt; entries in efivars. When found, &lt;code&gt;LoaderDevicePartUUID&lt;/code&gt; is used to determine the
boot ESP, but moss/blsforme will quite happily read the GPT directly (relative to &lt;code&gt;/&lt;/code&gt; mount) and find the ESP and XBOOTLDR&amp;hellip;&lt;/p&gt;
&lt;p&gt;Remember - we happily use &lt;code&gt;systemd-boot&lt;/code&gt;. We do not use &lt;code&gt;bootctl&lt;/code&gt; or &lt;code&gt;kernel-install&lt;/code&gt;. Entries are automatically managed and
we&amp;rsquo;re extending this to support offline rollbacks via boot menu (feel free to extend with &lt;code&gt;/etc/kernel/cmdline.d/*.cmdline&lt;/code&gt; drop-in snippets!)
Also note we do not allow systemd to automount the ESP or XBOOTLDR via the GPT autogenerator, instead moss/blsforme will automatically
discover and if necessary, mount these partitions, when dealing with bootloader or kernel updates.&lt;/p&gt;
&lt;p&gt;With this explicit control over the boot management, we&amp;rsquo;ll happily be landing secure boot and fwupd support in the near future,
without the downsides of trying to provide EFI assets to &lt;code&gt;/boot&lt;/code&gt; in a package itself. 😬&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;moss_boot_status.png&#34; alt=&#34;moss boot status&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;A note on virtual machine usage&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;a-note-on-virtual-machine-usage&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#a-note-on-virtual-machine-usage&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;It must be clearly stated that Serpent OS does not support anything other than UEFI booting on x86_64-v2+ capable hardware.
Please note that GNOME Boxes will default to BIOS, not UEFI, and will need hand-mangling of the XML file. Also note in other
solutions such as VirtualBox you will need to specifically select &lt;code&gt;EFI&lt;/code&gt; in the VM settings.&lt;/p&gt;
&lt;p&gt;In order to maximise compatibility with other tooling and firmware, we&amp;rsquo;ve modified the generation of our ISO to include
the isolinux MBR/GPT hybrid components, &lt;strong&gt;however&lt;/strong&gt; we deliberately did not include a functioning bootloader for BIOS boot.
Instead, you will see a boot failure indicating that &lt;code&gt;ldlinux.c32&lt;/code&gt; could not be found, which is a sure-fire way to know your
VM or hardware is incorrectly configured.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;le_no_uefi.png&#34; alt=&#34;Invalid VM configuration&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;Installer notes&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;installer-notes&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#installer-notes&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Lichen is due to receive some love in the next few cycles, so please be aware of the following limitations:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A &lt;strong&gt;pre-configured&lt;/strong&gt; GPT disk is required before &lt;code&gt;lichen&lt;/code&gt; is launched&lt;/li&gt;
&lt;li&gt;A working internet connection is also required, this is a &lt;strong&gt;network installer&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;A FAT32 formatted EFI System Partition is required (marked as &lt;code&gt;esp&lt;/code&gt; in gparted)&lt;/li&gt;
&lt;li&gt;For optimal usage, or when your ESP is tiny, please create an &lt;code&gt;XBOOTLDR&lt;/code&gt; partition:
&lt;ul&gt;
&lt;li&gt;Create an FAT32 partition in gparted of 2GB in size&lt;/li&gt;
&lt;li&gt;Mark it as &lt;code&gt;bls_boot&lt;/code&gt; in gparted&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Further filesystem support for XBOOTLDR will be added to blsforme when we&amp;rsquo;ve finished packaging &lt;code&gt;efifs&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;XFS or F2FS are strongly recommended for the rootfs, due to the limitations of ext4 with hardlink counts.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;COSMIC Desktop&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;cosmic-desktop&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#cosmic-desktop&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We&amp;rsquo;ve made the decision to pause our offering of COSMIC Desktop ISOs. We&amp;rsquo;re huge fans of the project, and we
strive to keep it up to date and functional. However, it is very early in alpha, and so are we. It doesn&amp;rsquo;t make
a lot of sense for us to extend our workload to two alpha codebases!&lt;/p&gt;
&lt;p&gt;We still offer COSMIC as an option in the installer for those who wish to try it out, and do encourage testing
and engaging upstream with the developers. For now, we will offer just the GNOME ISO.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lichen_dev.png&#34; alt=&#34;Lichen &amp;#43; COSMIC&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;Next up&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;next-up&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#next-up&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In the new year we&amp;rsquo;ll be focusing heavily on our tooling to facilitate a scale up of our packaging efforts.
We&amp;rsquo;re quite proud of our tooling, but we&amp;rsquo;re not oblivious to the warts and issues. The next couple of weeks
will be spent improving our documentation (or making it exist!) and making sure that we have the ideal workflow
in place to permit large stack updates along with the ABI consistency verification we need. This will also
pool work for &lt;code&gt;ent&lt;/code&gt;, &lt;code&gt;moss&lt;/code&gt;, &lt;code&gt;boulder&lt;/code&gt;, by streamlining packaging, and making it trivial to update an entire
stack of packages in one go. Eventually this will be an automatic thing, with successful PRs being verified
and then merged into the volatile repository.&lt;/p&gt;
&lt;p&gt;Don&amp;rsquo;t forget, versioned repositories are also coming your way, and very soon we&amp;rsquo;re landing offline rollbacks in
the boot menu! &lt;code&gt;blsforme&lt;/code&gt; has been significantly restructured for &lt;code&gt;cmdline&lt;/code&gt; handling, and understands entries in
the context of a distinct system root (ie moss filesystem transaction) - which is the bulk of the work needed
to facilitate offline rollbacks. The last piece will be running &lt;code&gt;moss&lt;/code&gt; at an early stage in the &lt;code&gt;initrd&lt;/code&gt; to
swap the &lt;code&gt;/usr&lt;/code&gt; pointer to the older transaction, which is instanteous and atomic.&lt;/p&gt;
&lt;h2&gt;Final thoughts&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;final-thoughts&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#final-thoughts&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;5 years and no release, and now two alpha ISOs before the end of the year. We&amp;rsquo;re pretty happy with that, and we&amp;rsquo;re
going to keep surprising you next year with more releases, more features, and more stability. Happy new year from
all of us at Team Serpent! 🐍&lt;/p&gt;
&lt;p&gt;If you like what we&amp;rsquo;re doing, please consider &lt;a href=&#34;http://localhost:1313/sponsor&#34;&gt;sponsoring us&lt;/a&gt; - this will allow us to grow our infrastructure
and deliver builds quicker. Due to health issues in the last few months, I was forced into a position whereby I had to
resign from my job. Any and all contributions to the project are greatly appreciated, and will help us to continue delivering
what folks are frequently now calling &amp;ldquo;the cleanest Linux implementation they&amp;rsquo;ve ever seen&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Try it. You might like it. 🚀&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Serpent OS Enters Alpha</title>
      <link>http://localhost:1313/blog/blog/2024/12/23/serpent-os-enters-alpha/</link>
      <pubDate>Mon, 23 Dec 2024 04:56:15 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2024/12/23/serpent-os-enters-alpha/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2024/12/23/serpent-os-enters-alpha/featured_hu_cb0a3072a1c64d9d.png" width="640" height="400"/>]]>
        
        &lt;p&gt;Following a successful prealpha phase, we&amp;rsquo;re excited to announce that Serpent OS has now entered the alpha stage of development. This milestone marks a significant step forward in the project&amp;rsquo;s journey.
While the usual disclaimers apply, as a certain level of project &lt;em&gt;fluidity is to be expected&lt;/em&gt;, we invite you to explore the latest alpha release and experience the cutting-edge features and improvements we&amp;rsquo;ve introduced.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;featured.png&#34; alt=&#34;Serpent OS&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;Supporting Serpent OS&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;supporting-serpent-os&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#supporting-serpent-os&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Serpent OS is a community-driven project, and we welcome contributions from developers, testers, and users alike. If you&amp;rsquo;re interested in helping shape the future of Linux distributions, we invite you to join our growing community and get involved in the project. Whether you&amp;rsquo;re interested in packaging, development, documentation, testing, or community support, there are many ways to contribute to Serpent OS.&lt;/p&gt;
&lt;p&gt;Lastly, you can support the project by becoming a sponsor. Your support helps cover our hosting costs and allows us to dedicate more time to making Serpent OS exceptional. We&amp;rsquo;re grateful for the support we&amp;rsquo;ve received so far and look forward to continuing to build something meaningful in the Linux ecosystem.&lt;/p&gt;
&lt;a class=&#34;btn btn-sm btn-outline-light mt-3 mb-5&#34; href=&#34;http://localhost:1313/sponsor&#34;&gt;
  &lt;i class=&#34;fas fa-heart me-2&#34;&gt;&lt;/i&gt; Sponsor Serpent OS
&lt;/a&gt;
&lt;h2&gt;What is Serpent OS?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;what-is-serpent-os&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#what-is-serpent-os&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Serpent OS is a heavily engineering-led Linux distribution seeking to redefine &lt;em&gt;how&lt;/em&gt; we distribute Linux.
It is a stateless OS that leverages atomic updates, cutting-edge tooling, and rock-solid reliability to deliver a safe and efficient system. Built by industry veterans with decades of experience, Serpent OS represents the next evolution in Linux distributions.&lt;/p&gt;
&lt;p&gt;We currently offer x86_64-v2 desktop builds, for both GNOME and COSMIC desktop environments. We only support UEFI systems, and plan secure boot support via &lt;code&gt;shim&lt;/code&gt; in the near future. The majority of the distribution (including the kernel) is built against the LLVM toolchain, with libc++ as the default C++ standard library.&lt;/p&gt;
&lt;p&gt;Through our unique architecture, we&amp;rsquo;ve combined proven concepts into a cohesive system where updates either fully complete or safely roll back, keeping your system running reliably. Our atomic updates let you see changes immediately, without requiring reboots just to apply updates. While certain updates like kernels will still need a reboot, we&amp;rsquo;ve designed Serpent OS to be as seamless and user-friendly as possible.&lt;/p&gt;
&lt;h2&gt;What&amp;rsquo;s new in the alpha release?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;whats-new-in-the-alpha-release&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#whats-new-in-the-alpha-release&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The alpha release introduces several key features and improvements that enhance the overall user experience and system performance. Here are some highlights of what you can expect from Serpent OS alpha:&lt;/p&gt;
&lt;h3&gt;Hardware support&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;hardware-support&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#hardware-support&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We&amp;rsquo;ve rounded out our hardware support, now including patches for ASUS devices and Surface devices. Additionally, we now have the NVIDIA driver available in the repositories.
Note we only offer &lt;a href=&#34;https://github.com/NVIDIA/open-gpu-kernel-modules&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;open-gpu-kernel-modules&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;, which we prebuild against our &lt;code&gt;linux-desktop&lt;/code&gt; package to streamline
installation.&lt;/p&gt;
&lt;h3&gt;Steam&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;steam&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#steam&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;You can now install Steam from our repos, making use of our newly enabled multilib drivers:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mesa-32bit&lt;/li&gt;
&lt;li&gt;nvidia-graphics-driver-32bit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;steam.png&#34; alt=&#34;Steam on Serpent OS&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h3&gt;More Rust&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;more-rust&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#more-rust&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;As part of our efforts to modernise and strengthen the Serpent OS base, we&amp;rsquo;ve switched some components out for Rust alternatives:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;uutils-coreutils&lt;/code&gt; replaces &lt;code&gt;coreutils&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sudo-rs&lt;/code&gt; replaces &lt;code&gt;sudo&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ntpd-rs&lt;/code&gt; replaces &lt;code&gt;timesyncd&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;curl&lt;/code&gt; is built with &lt;code&gt;rustls&lt;/code&gt; support (and &lt;code&gt;hyper&lt;/code&gt; but this is being dropped upstream)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Additionally we include &lt;code&gt;starship&lt;/code&gt; by default on our GNOME ISO, along with &lt;code&gt;zed&lt;/code&gt;, &lt;code&gt;loupe&lt;/code&gt;, &lt;code&gt;resources&lt;/code&gt; and other Rust applications.&lt;/p&gt;
&lt;h3&gt;Packages&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;packages&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#packages&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Our &lt;code&gt;recipes&lt;/code&gt; repository has seen over 1600 commits since our prealpha, with some of the highlights including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Linux 6.12.6&lt;/li&gt;
&lt;li&gt;Firefox 133.0.3&lt;/li&gt;
&lt;li&gt;LLVM 18.1.8&lt;/li&gt;
&lt;li&gt;GNOME 47.2&lt;/li&gt;
&lt;li&gt;COSMIC 1.0.0_alpha4&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Tooling updates&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;tooling-updates&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#tooling-updates&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We&amp;rsquo;ve made significant improvements to our tooling, including updates to &lt;code&gt;moss&lt;/code&gt;, &lt;code&gt;boulder&lt;/code&gt;, and &lt;code&gt;blsforme&lt;/code&gt;. These tools are essential for managing packages, building software, and handling boot management in Serpent OS.&lt;/p&gt;
&lt;h3&gt;moss - Package Management&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;moss---package-management&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#moss---package-management&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Our atomic package manager swaps the entire &lt;code&gt;/usr&lt;/code&gt; directory during system updates, ensuring a stateless, bulletproof upgrade process. Updates either succeed completely or not at all.
Recently we made improvements to &lt;code&gt;moss&lt;/code&gt; to handle certain special cases:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;EMLINK&lt;/code&gt; - &lt;code&gt;ext4&lt;/code&gt; is limited to 65k hardlinks per inode, and we were hitting this limit on some systems due to empty files. We now handle this case gracefully by creating new inodes for empty files.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ENOSPC&lt;/code&gt; - We now mitigate the risk of &lt;code&gt;ENOSPC&lt;/code&gt; on the boot partition by performing automatic cleanup of old kernels and initrds. This paves the way for us to land transaction-specific entries for the offline rollback feature.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;blsforme - Boot Management&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;blsforme---boot-management&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#blsforme---boot-management&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Automated boot management that just works. Seamlessly handles your EFI System Partition and boot entries without manual intervention.&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ve improved blsforme to support drop-in command line snippets for kernel parameters, allowing for easy customisation of boot entries.
These can be supplied by packages, or by the user directly. This has allowed us to make &lt;code&gt;plymouth&lt;/code&gt; work out of the box, in tandem with our
prebuilt reproducible initrd images.&lt;/p&gt;
&lt;p&gt;We also now support multiple initrd images, which in turn allowed us to land support for early KMS in the initrd for NVIDIA users.&lt;/p&gt;
&lt;h3&gt;lichen - Installer&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;lichen---installer&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#lichen---installer&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We&amp;rsquo;ve revamped the UI for Lichen, and now allow picking between xfs, ext4, and f2fs for the root filesystem. The team advises against ext4 for systems where more than a few hundred
transactions will need to be retained, due to ext4 limitations with hardlink counts.&lt;/p&gt;
&lt;h3&gt;Sync protections&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;sync-protections&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sync-protections&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;In preparation for &amp;ldquo;versioned repositories&amp;rdquo;, we&amp;rsquo;ve added a gate to prevent the automatic builds on our infrastructure from directly reaching users. Once we&amp;rsquo;re happy with our validation, we
then &amp;ldquo;sync&amp;rdquo; the repositories to the public mirrors. This ensures that users are not exposed to any potential issues with the latest builds.&lt;/p&gt;
&lt;h2&gt;What&amp;rsquo;s next?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;whats-next&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#whats-next&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;With us now entering the alpha phase, we&amp;rsquo;re looking to grow our contributor base and community. Our immediate focus is improving/creating documentation to enable more people to use Serpent OS
as a daily driver in the near future. We&amp;rsquo;re also going to keep iterating on our tooling, ensuring a reliable and efficient system for all users.&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ll begin deeper integration of the tooling, such as &lt;code&gt;moss&lt;/code&gt; with &lt;code&gt;packagekitd&lt;/code&gt; for GNOME Software and COSMIC Store use.&lt;/p&gt;
&lt;h2&gt;Issues and feedback&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;issues-and-feedback&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#issues-and-feedback&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;If you encounter any issues or have feedback to share, please don&amp;rsquo;t hesitate to reach out to us. You can report bugs on our &lt;a href=&#34;https://github.com/serpent-os/recipes/issues&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitHub issue tracker&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; or join our &lt;a href=&#34;https://matrix.to/#/!trFJOzhpDUejJKnPYg:matrix.org&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Matrix space&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; to chat with other users and developers.&lt;/p&gt;
&lt;p&gt;We are aware of some known issues in the alpha release, and we&amp;rsquo;re actively working to address them in future updates. Your feedback is invaluable to us, and we appreciate your help in making Serpent OS the best it can be.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Performance of &lt;code&gt;moss&lt;/code&gt; reduced significantly in VMs on first run&lt;/li&gt;
&lt;li&gt;NVIDIA driver not working on some systems&lt;/li&gt;
&lt;li&gt;Lichen still deliberately limited to &amp;ldquo;seeing&amp;rdquo; pre-formatted partitions. Requires &lt;code&gt;GPT&lt;/code&gt; disk, with &lt;code&gt;ESP&lt;/code&gt; and &lt;code&gt;/&lt;/code&gt; partitions pre-created.&lt;/li&gt;
&lt;li&gt;Lichen locked to net install mode, a &lt;code&gt;moss export&lt;/code&gt; functionality will be added in the future to address this.&lt;/li&gt;
&lt;li&gt;XBOOTLDR partition (&lt;code&gt;fat32&lt;/code&gt;, &lt;code&gt;bls_boot&lt;/code&gt; flag in gparted) of 2GB recommended for ideal boot management&lt;/li&gt;
&lt;li&gt;Small repos - deliberate, to ensure maintainer story is solid before we scale up&lt;/li&gt;
&lt;li&gt;Secure boot support pending secure key distribution support within the build infrastructure&lt;/li&gt;
&lt;li&gt;Due to how our atomic upgrades work using &lt;code&gt;renameat2&lt;/code&gt;, GNOME Shell doesn&amp;rsquo;t currently detect new applications (&lt;code&gt;.desktop&lt;/code&gt;) files when installed, requiring a reboot. We&amp;rsquo;re working on a fix for this.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Finally&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;finally&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#finally&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We&amp;rsquo;re excited to share the alpha release with you and look forward to your feedback and contributions. Thank you for your continued support and interest in Serpent OS. We&amp;rsquo;re committed to building a safe, efficient, and reliable system that empowers users to get the most out of their computing experience.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Serpent OS Prealpha0 Released</title>
      <link>http://localhost:1313/blog/blog/2024/08/01/prealpha0-released/</link>
      <pubDate>Thu, 01 Aug 2024 01:18:07 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2024/08/01/prealpha0-released/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2024/08/01/prealpha0-released/featured-background_hu_fdedb2b9ddd097fd.png" width="640" height="406"/>]]>
        
        &lt;p&gt;Well, it didn&amp;rsquo;t take us that long, &lt;strong&gt;really&lt;/strong&gt; &amp;hellip; Our technical preview, &lt;em&gt;prealpha0&lt;/em&gt;, is now available for testing!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;prealpha0.png&#34; alt=&#34;wip boot code&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Head to our &lt;a href=&#34;http://localhost:1313/download&#34;&gt;download&lt;/a&gt; page to grab &lt;code&gt;serpent-os-prealpha-0.iso&lt;/code&gt; now!&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;This is a super rough version of Serpent OS that is &lt;em&gt;capable&lt;/em&gt; of being installed on baremetal hardware and VMs that
support UEFI and OpenGL acceleration. It is however not &lt;em&gt;recommended&lt;/em&gt; for use daily due to the early nature and a bunch
of packages being wildly out of date. It features a minimal GNOME desktop with the Firefox web browser and a terminal.&lt;/p&gt;
&lt;p&gt;Right now it contains a CLI installer that can be accessed from the terminal by typing:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo lichen&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;To detract from casual use it is necessary to manually partition the disk before running the (net) installer. You can use
&lt;code&gt;fdisk&lt;/code&gt; to create a GPT disk with a (mandatory) &lt;code&gt;EFI System Partition&lt;/code&gt; and an optional &lt;code&gt;XBOOTLDR&lt;/code&gt; partition. This currently
also needs to be FAT32 until we integrate systemd-boot driver support. Lastly of course you will need a large enough root
partition.&lt;/p&gt;
&lt;p&gt;You will need a working network connection, so make sure you&amp;rsquo;re connected before starting the installer!&lt;/p&gt;
&lt;h2&gt;Technologies involved&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;technologies-involved&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#technologies-involved&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This will of course appear to be a very rough (crap) prealpha ISO. Underneath the surface it is using the &lt;a href=&#34;https://github.com/serpent-os/moss&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;moss&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;
package manager, our very own package management solution written in Rust. Quite simply, every single transaction in moss generates
a new filesystem tree (&lt;code&gt;/usr&lt;/code&gt;) in a staging area as a full, stateless, OS transaction.&lt;/p&gt;
&lt;h3&gt;moss&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;moss&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#moss&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;When the package installs succeed, any &lt;em&gt;transaction triggers&lt;/em&gt; are run in a private namespace (container) before finally activating
the new &lt;code&gt;/usr&lt;/code&gt; tree. Through our enforced stateless design, &lt;code&gt;usr-merge&lt;/code&gt;, etc, we can atomically update the running OS with a single &lt;code&gt;renameat2&lt;/code&gt;
call.&lt;/p&gt;
&lt;p&gt;As a neat aside, all OS content is deduplicated, meaning your last system transaction is still available on disk allowing offline rollbacks.&lt;/p&gt;
&lt;p&gt;Translated: Like A/B swaps? Don&amp;rsquo;t like rebooting? &amp;hellip; Ok that explained it.&lt;/p&gt;
&lt;h3&gt;blsforme&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;blsforme&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#blsforme&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A few crates deep we find &lt;a href=&#34;https://github.com/serpent-os/blsforme&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;blsforme&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; - a library for automatically managing the ESP and XBOOTLDR
partitions. Whenever kernels and associated files are present in the OS filesystem, they are synchronised to the boot partitions along
with automatically generated boot entries and cmdlines. Specifically this means moss can discover and mount necessary partitions according to
the disk topology, GPT entries, and Boot Loader Specification, generating configurations by scanning your local rootfs to build the proper
&lt;code&gt;root=&lt;/code&gt; parameters for you.&lt;/p&gt;
&lt;p&gt;Translated: Magic boot management makes way for offline rollbacks.&lt;/p&gt;
&lt;h2&gt;Warning&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;warning&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#warning&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Super &lt;strong&gt;pre&lt;/strong&gt;-alpha. Will 100% break! We just wanted you for the journey &amp;lt;3&lt;/p&gt;
&lt;h2&gt;Start of public iterations&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;start-of-public-iterations&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#start-of-public-iterations&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Ok you have this super rough ISO, what next? We now have an actual &lt;em&gt;startpoint&lt;/em&gt; and will continue to iterate on the ISOs,
delivering new installer updates/improvements and removing the unnecessary live mode from the ISO completely.&lt;/p&gt;
&lt;p&gt;The next release will also feature more installer options so you can fresh-install the Cosmic Desktop (in repos now)
For the brave, go forth and &lt;code&gt;sudo moss sync -u&lt;/code&gt; ! (ok you want &lt;code&gt;moss help&lt;/code&gt; first.)&lt;/p&gt;
&lt;h2&gt;Closing word&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;closing-word&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#closing-word&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;As a distro, it&amp;rsquo;s kinda crap right now. The tooling has been our focus for years and now we can actually build something
with it. With only a handful of packages, &lt;code&gt;flatpak&lt;/code&gt; is your best friend. Or you could swing a PR into our &lt;a href=&#34;https://github.com/serpent-os/recipes&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;recipes&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; repo!&lt;/p&gt;
&lt;p&gt;The project is only possible with your support. Something tells me that putting out this ISO is going to somewhat increase
our hosting costs and stress the datacenter hamsters.&lt;/p&gt;
&lt;p&gt;Feel free to &lt;a href=&#34;https://github.com/sponsors/ikeycode&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sponsor&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; to support our work and increase our capacity!&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Calm Before The Storm</title>
      <link>http://localhost:1313/blog/blog/2024/04/30/calm-before-the-storm/</link>
      <pubDate>Tue, 30 Apr 2024 22:46:17 +0100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2024/04/30/calm-before-the-storm/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2024/04/30/calm-before-the-storm/Featured_hu_25fbed1ca350f673.webp" width="640" height="360"/>]]>
        
        &lt;p&gt;It&amp;rsquo;s that time of month again, and we have some details to share with you on boot management, as well as plans for real installs
landing in May. Additionally, plans for &amp;ldquo;deferred updates&amp;rdquo; via mandatory reboots have been dropped!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;Featured.webp&#34; alt=&#34;wip boot code&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h2&gt;Project priorities&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;project-priorities&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#project-priorities&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;To better understand the technical deep-dive on boot management further below, we should clarify a slight change in priorities
for the project as a whole. For some time now we&amp;rsquo;ve served as a technical beacon for Solus to guide them towards better strategy
and technical solutions whilst awaiting a situation where a rebase is feasible.&lt;/p&gt;
&lt;p&gt;While we still look forwards to that future, the present day is the most important to us. Serpent OS must now transition from
a collection of tools and promises into a daily driver with actual users. We still aim to cater to the more developer/technical oriented
end of the spectrum rather than a &amp;ldquo;desktop distro&amp;rdquo;, and want to start this journey yesterday.&lt;/p&gt;
&lt;p&gt;The boot management code is currently landing over the coming days, and will be immediately followed by an incredibly rudimentary
system installer to facilitate an initial adoption of Serpent OS for the general public. Our intent is to ship some early test ISOs
for supporters, and by the end of May have a feasible option for people to use and contribute to Serpent OS on real hardware.&lt;/p&gt;
&lt;p&gt;We acknowledge this is an exchange of the pursuit of perfection for a pragmatic rapid iteration cycle and believe the best way
forward is to open the doors wide, fixing issues on the job. The initial system will likely be rough and buggy, but it is an official
starting point from which we can all build Serpent OS together.&lt;/p&gt;
&lt;h2&gt;Moss + Boulder&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;moss--boulder&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#moss--boulder&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Our Rust tooling has now been in &amp;ldquo;production&amp;rdquo; use in our development environment and build servers for the last month
without any major hiccup. We have recently discovered some minor issues in our &lt;code&gt;emul32&lt;/code&gt; (32-bit) package generation which
are being resolved, chiefly our move from the improperly named ISA &lt;code&gt;x86&lt;/code&gt;, now updated to &lt;code&gt;386&lt;/code&gt; affecting 32-bit dependency
chains.&lt;/p&gt;
&lt;h2&gt;Boot&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;boot&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#boot&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Our main topic of conversation this month is the enabling of &lt;em&gt;boot management&lt;/em&gt; for Serpent OS installations. To be crystal
clear, we are not talking about a boot loader. In fact, Serpent OS uses &lt;code&gt;systemd-boot&lt;/code&gt; for UEFI. Instead, we are talking
about the automated management of boot loader &lt;em&gt;entries&lt;/em&gt;, their corresponding kernel/initrd assets, cleanup from old states, etc.&lt;/p&gt;
&lt;p&gt;In a former life I authored the &lt;code&gt;clr-boot-manager&lt;/code&gt; tool to manage this in an agnostic fashion and this served well for a number
of years. However, existing as an externally invoked binary meant that the tool had to become responsible for all accountancy and
asset lifetimes.&lt;/p&gt;
&lt;h3&gt;Enter &amp;hellip; moss-boot&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;enter--moss-boot&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#enter--moss-boot&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Ok - technically it&amp;rsquo;s &lt;code&gt;crates/boot&lt;/code&gt; in the moss repo. This is a Rust crate that will be integrated into the main &lt;code&gt;moss&lt;/code&gt; project to
provide the aforementioned boot management facilities. A huge advantage for us is that moss can only allow a single version of a package
to exist within a given state, and all states are numerically identified due to the transaction nature of our package manager.&lt;/p&gt;
&lt;p&gt;In simple terms, one &amp;ldquo;state&amp;rdquo; == &amp;ldquo;one kernel candidate&amp;rdquo; (per type..) so all we &lt;em&gt;really&lt;/em&gt; need to do for now is identify the &lt;code&gt;ESP&lt;/code&gt; in use by
way of the &lt;a href=&#34;https://systemd.io/BOOT_LOADER_INTERFACE/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Boot Loader Interface&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; and any &lt;code&gt;XBOOTLDR&lt;/code&gt; partition. Then, map our &amp;ldquo;boot environment&amp;rdquo;
into something &lt;code&gt;moss-boot&lt;/code&gt; can convert into boot entries, and voila..&lt;/p&gt;
&lt;p&gt;At a more technical level, moss-boot will handle the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;form candidate &lt;code&gt;cmdline&lt;/code&gt; from filesystem snippets&lt;/li&gt;
&lt;li&gt;auto-generate the &lt;code&gt;root=&lt;/code&gt; parameter by probing the &lt;code&gt;/&lt;/code&gt; partition (LVM2, etc)&lt;/li&gt;
&lt;li&gt;record the &lt;code&gt;initrd&lt;/code&gt; needed&lt;/li&gt;
&lt;li&gt;compare and atomically write &amp;ldquo;missing&amp;rdquo; files in FAT-respecting fashion (copy/unlink/rename)&lt;/li&gt;
&lt;li&gt;garbage collect unused boot entries&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Live atomic updates and kernels&amp;hellip;&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;live-atomic-updates-and-kernels&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#live-atomic-updates-and-kernels&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;An interesting, perhaps not widely considered result of upgrading a kernel, is filesystem path changes. If for any reason the kernel&amp;rsquo;s module
tree becomes inaccessible (say, due to updating to a new version) then it becomes impossible to load the old kernel modules. To remedy this, distributions will
tend to leave multiple versions of the kernel on disk, invariably within mounted &lt;code&gt;/boot&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The approach Serpent OS is taking will mean that like Solus, &lt;code&gt;/boot&lt;/code&gt; will not need to be premounted nor will any package ship files in that directory.
Unlike the existing design in Solus 4, we will not leave kernels behind on upgrade. Instead, they become locked to the system state (transaction) in which
they are used.&lt;/p&gt;
&lt;p&gt;To solve the &amp;ldquo;missing version&amp;rdquo; issue, we will have &lt;code&gt;moss&lt;/code&gt; record the qualified snapshot path (in &lt;code&gt;/.moss&lt;/code&gt;) within the &lt;code&gt;/run&lt;/code&gt; tree so that once the &lt;code&gt;/usr&lt;/code&gt;
tree has been swapped with a new transaction atomically, a patched &lt;code&gt;kmod&lt;/code&gt; package will fall back to probing the suddenly orphaned kernel tree in the cached
&lt;code&gt;/run&lt;/code&gt; location.&lt;/p&gt;
&lt;p&gt;This will mean that the &lt;code&gt;/lib/modules&lt;/code&gt; tree may not have the current kernel version, but the OS will still be usable while having had a live atomic update.
Of course, to &lt;em&gt;use&lt;/em&gt; the new kernel you must reboot. Unlike other atomic OS implementations, it will be up to &lt;em&gt;you&lt;/em&gt; when you do so: no more deferred updates!&lt;/p&gt;
&lt;h2&gt;Next time&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;next-time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#next-time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We are &lt;em&gt;aiming&lt;/em&gt; to get back to monthly blogs on the 19th, but the cycle for the coming 6 weeks may be quite interesting. Expect out of schedule posts
looking for testers and volunteers while we use Serpent OS to build Serpent OS, enabling a community of pioneers benefiting from the unique design of
our architecture: a full-featured OS featuring hermetic &lt;code&gt;/usr&lt;/code&gt;, offline rollbacks, and live atomic upgrades with containerised system triggers.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>The March Of Progress</title>
      <link>http://localhost:1313/blog/blog/2024/03/31/the-march-of-progress/</link>
      <pubDate>Sun, 31 Mar 2024 23:56:54 +0100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2024/03/31/the-march-of-progress/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2024/03/31/the-march-of-progress/Featured_hu_a0b3f612b5ff6585.webp" width="640" height="360"/>]]>
        
        &lt;p&gt;Despite a brief excursion out of the country for a first-in-a-lifetime holiday, I&amp;rsquo;m happily back at the desk to bring you up to date with the
latest goings in Serpent OS. TLDR: Loads of awesome, baremetal is enabled, ISO cycle in next couple of weeks.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;Gnome.webp&#34; alt=&#34;GNOME on Serpent OS&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h2&gt;Tooling Improvements&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;tooling-improvements&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#tooling-improvements&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;OK, we all know you want to know about the baremetal stuff, but c&amp;rsquo;mon, check out this changeset!&lt;/p&gt;
&lt;h3&gt;Boulder&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;boulder&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#boulder&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We&amp;rsquo;re officially at a point where the Rust boulder implementation has become our &amp;ldquo;blessed&amp;rdquo; build tool. This is actually a crate within the &lt;code&gt;moss&lt;/code&gt;
repository, allowing the two tools to share huge chunks of code. Our focus over the past few weeks has been to ensure we can drop the tool into
our existing build network and &amp;ldquo;just work&amp;rdquo;, while making it significantly faster.&lt;/p&gt;
&lt;p&gt;One of the most important high level changes is &lt;em&gt;performance&lt;/em&gt;, in some cases virtually 50% faster packaging times. Our package payloads are now
compressed using multi-threaded zstd compression, and a bunch of internal components were reworked to use faster code paths leading to a significant
speed up in the raw generation of each &lt;code&gt;.stone&lt;/code&gt; package.&lt;/p&gt;
&lt;p&gt;!!! warning &amp;ldquo;Legacy boulder tool has been retired&amp;rdquo;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;As of March 31st, 2024, the legacy D implementation of `boulder` is no longer supported. The runtime component, `mason`, has been removed from the
volatile repository. Our new tool is written in Rust and contains the `moss` code, enabling a self-contained all-in-one approach to buildroot  management.

It relies on clone-based user namespaces, so is fully &amp;quot;rootless&amp;quot;. Please migrate immediately to the new Rust based tool. Not only is it more advanced,
it is significantly faster at generating the raw `.stone` packages.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;Featured.webp&#34; alt=&#34;Comparison&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Other, quite awesome changes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fix manifest encoding for &lt;code&gt;0&lt;/code&gt; nul byte, interop with build systems&lt;/li&gt;
&lt;li&gt;Explicit &lt;code&gt;--update&lt;/code&gt; flag to refresh the repositories prior to build&lt;/li&gt;
&lt;li&gt;Defaults to multithread zstd compression&lt;/li&gt;
&lt;li&gt;Slick timing reports&lt;/li&gt;
&lt;li&gt;Base-enabling landed for &amp;ldquo;meta&amp;rdquo; packages (contain no files or content)&lt;/li&gt;
&lt;li&gt;Added &lt;code&gt;BuildRelease&lt;/code&gt; control via tooling for automated package rebuilds&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Moss&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;moss&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#moss&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Moss also got some love these past few weeks, including a full migration over to &lt;a href=&#34;https://diesel.rs/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;diesel.rs&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. Combined with a limiting of &lt;code&gt;async&lt;/code&gt;
to largely network bound operations, and some clever performance optimisations under the hood, moss is now faster than ever. In fact, we&amp;rsquo;re able to
generate desktop ISOs in under 20 seconds, and install the full GNOME desktop to a &lt;code&gt;virtiofs&lt;/code&gt; VM in almost no time.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Dropped some unnecessary dependencies&lt;/li&gt;
&lt;li&gt;Significant code cleanups&lt;/li&gt;
&lt;li&gt;Further refined our system + transaction triggers to fully respect dependency ordering&lt;/li&gt;
&lt;li&gt;Augmented state management with new functionality to activate/rollback to a specific transaction by ID using offline store.&lt;/li&gt;
&lt;li&gt;Various optimisations:
&lt;ul&gt;
&lt;li&gt;Drop expensive &lt;code&gt;Path&lt;/code&gt; usage in &lt;code&gt;vfs&lt;/code&gt; crate&lt;/li&gt;
&lt;li&gt;Optimise queries in our transaction management to speed up &lt;code&gt;DAG&lt;/code&gt; initialisation and filesystem blit&lt;/li&gt;
&lt;li&gt;And more to be covered in a future blog post&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Hardware/Desktop Enablings.&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;hardwaredesktop-enablings&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#hardwaredesktop-enablings&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Rather than extensively widen our repository at this point we&amp;rsquo;ve opted for further low-level enabling of components required for the developer
experience desktop. This includes Network Manager, the desktop kernel package, Vulkan + mesa integration, etc.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;GnomeSW.webp&#34; alt=&#34;Gnome Software&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;As well as enabling core applications and features such as GNOME Software and Flatpak, we&amp;rsquo;ve also enabled preliminary usage on baremetal booting
hardware. Note, this isn&amp;rsquo;t yet installable but we do plan to offer early access installable images to our &lt;a href=&#34;https://github.com/sponsors/ikeycode&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sponsors&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;Also worth noting.. we&amp;rsquo;ve begun to package the Cosmic Epoch desktop from the cool guys over at &lt;a href=&#34;https://system76.com/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;System76&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. We&amp;rsquo;re highly interested
in this project and plan to track progress closely, offering it within Serpent OS as a fully featured development focused desktop experience.&lt;/p&gt;
&lt;h2&gt;The Agenda&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;the-agenda&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#the-agenda&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This post was finished moments before the March deadline, so needless to say we&amp;rsquo;ve been super busy! Thankfully a lot of pivotal pieces have landed now and
we can focus on some big ticket items. Our primary concern is to ship one last &amp;ldquo;pre-alpha&amp;rdquo; image for the public, and a test installable pre-alpha ISO for
our sponsors to help gain early feedback. The hope is this will help fund a widening of our infrastructure to support more concurrent repository users and
our own &lt;code&gt;debuginfod&lt;/code&gt; compatible extensions to our repository.&lt;/p&gt;
&lt;p&gt;The April (and beyond) agenda:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Finish pre-alpha stage with some shiny ISOs!&lt;/li&gt;
&lt;li&gt;Enter alpha by adding versioned repository support to moss for an &amp;ldquo;upgrade forever&amp;rdquo; guarantee&lt;/li&gt;
&lt;li&gt;Enhance our ABI tracking story to vastly simplify huge rebuild queues and automation&lt;/li&gt;
&lt;li&gt;Expand our native hardware support&lt;/li&gt;
&lt;li&gt;Add some missing basic triggers such as Fedora-compatible SSL certificate management&lt;/li&gt;
&lt;li&gt;Begin work on the all-important &lt;strong&gt;boot management&lt;/strong&gt; in moss! (not boot LOADER, this will be &lt;code&gt;systemd-boot&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Add battery testing of our tooling to our CI pipelines to protect users&lt;/li&gt;
&lt;li&gt;Ensure all of our code is fully documented&lt;/li&gt;
&lt;li&gt;Greatly improve our onboarding and documentation for packaging and usage of Serpent OS, focusing on &lt;code&gt;stone.yaml&lt;/code&gt; in depth&lt;/li&gt;
&lt;li&gt;Get core team running Serpent OS daily. WiFi and GPU support are in place already.&lt;/li&gt;
&lt;li&gt;Build an amazing developer experience&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;On behalf of the Serpent OS team, I look forward to sharing some amazing updates with you towards the end of April! Keep your eyes peeled for the ISO drops
in the coming weeks.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>End of February Update</title>
      <link>http://localhost:1313/blog/blog/2024/02/29/end-of-feb-update/</link>
      <pubDate>Thu, 29 Feb 2024 18:32:35 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2024/02/29/end-of-feb-update/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2024/02/29/end-of-feb-update/featured_hu_1824d101355fc4fb.webp" width="640" height="411"/>]]>
        
        &lt;p&gt;import { Aside } from &amp;lsquo;@astrojs/starlight/components&amp;rsquo;;&lt;/p&gt;
&lt;p&gt;This update came a little later in the month, as we&amp;rsquo;ve got a lot of exciting news to share.
Everything from &lt;code&gt;boulder&lt;/code&gt; in Rust, to the GNOME 45 Desktop complete with &lt;code&gt;moss triggers&lt;/code&gt; built
atop a rebootstrapped toolchain.&lt;/p&gt;
&lt;h2&gt;Rusty Boulder&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;rusty-boulder&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rusty-boulder&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We&amp;rsquo;re pleased to announce that over the course of this weekend, once testing has completed we&amp;rsquo;ll
deploy the latest version of &lt;code&gt;boulder&lt;/code&gt;, our packaging build tool. This has been given the Rust treatment,
directly sharing the codebase with &lt;code&gt;moss&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;featured.webp&#34; alt=&#34;Boulder in action&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;Unlike our PoC implementation, the new &lt;code&gt;boulder&lt;/code&gt; makes use of the &lt;code&gt;clone&lt;/code&gt; syscall to execute portions of
itself under user namespaces, eliminating a longstanding deployment irritation of having the main build binary
inside packaging.&lt;/p&gt;
&lt;p&gt;Just like &lt;code&gt;moss&lt;/code&gt; it makes use of &lt;code&gt;tokio&lt;/code&gt; for async right where we need it, and is rootless to
make life easier for our contributors. Far from being just a direct port of the proof of concept, it adds
new tools to empower developers, such as &lt;strong&gt;breakpoints in packaging recipes&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;BoulderBreakpoints.webp&#34; alt=&#34;Breakpoints, in recipes&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;Triggers, integrated!&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;triggers-integrated&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#triggers-integrated&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;After much discussion we finally integrated support for &lt;em&gt;triggers&lt;/em&gt; in &lt;code&gt;moss&lt;/code&gt;. These are actions
that are executed at different stages of package management operations to finalize or &amp;ldquo;bake&amp;rdquo;
some state based on the unified components of the installation.&lt;/p&gt;
&lt;Aside title=&#34;Find out more about triggers&#34;&gt;
&lt;p&gt;In order for triggers to be &lt;em&gt;useful&lt;/em&gt;, they need to be shipped in packages installed on client machines.
These are easy-to-write &lt;code&gt;yaml&lt;/code&gt; files that live in either &lt;code&gt;/usr/share/moss/triggers/sys.d&lt;/code&gt; or within
&lt;code&gt;/usr/share/moss/triggers/tx.d&lt;/code&gt;, depending on their scope.&lt;/p&gt;
&lt;a class=&#34;btn btn-primary me-3 mb-4&#34; href=&#34;https://aerynos.dev/packaging/recipes/triggers/&#34;&gt;
  Learn More &lt;i class=&#34;fas fa-arrow-alt-circle-right ms-2&#34;&gt;&lt;/i&gt;
&lt;/a&gt;
&lt;/Aside&gt;
&lt;p&gt;Note that right now triggers are re-executed for each transaction, and no caching support is yet in place.
With that said, they&amp;rsquo;re still very fast and we plan to add a store based cache to prevent unnecessary
execution. One of the greatest benefits of our triggers is ensuring these actions run within the right
context under a &lt;code&gt;namespace&lt;/code&gt;, or container.&lt;/p&gt;
&lt;h2&gt;In pursuit of stateless&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;in-pursuit-of-stateless&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#in-pursuit-of-stateless&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We&amp;rsquo;ve iterated many times over the years our belief in the stateless philosophy, and as a design
decision we mandated that packages can &lt;strong&gt;only&lt;/strong&gt; contain &lt;code&gt;/usr&lt;/code&gt; files. This has meant we&amp;rsquo;ve had to
get a bit inventive in shipping working packages out of the box.&lt;/p&gt;
&lt;p&gt;One such strategy has been to abolish the reliance on package triggers for system users and groups.
In the past we&amp;rsquo;ve relied on &lt;code&gt;systemd-sysusers&lt;/code&gt; to construct these accounts, such as &lt;code&gt;gdm&lt;/code&gt;. A downside
is there is no simple way to handle the cleanup of these accounts.&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;re now happily using systemd &lt;code&gt;userdb&lt;/code&gt; user and group drop-in records via &lt;code&gt;nss-systemd&lt;/code&gt; to provide
the default users + groups (including &lt;code&gt;users&lt;/code&gt;) group with centrally managed, fixed UIDs and GIDs in our
git recipes.&lt;/p&gt;
&lt;Aside title=&#34;Find out more about system users&#34;&gt;
In order to make management of users easier, we employ a specific systemd mechanism that makes
drop-in user and group records automatically &#34;appear&#34; to applications that use the proper libc APIs.
These are JSON format files that live in `/usr/lib/userdb` and are exposed to applications via `nss`.
&lt;a class=&#34;btn btn-primary me-3 mb-4&#34; href=&#34;https://aerynos.dev/packaging/recipes/system-accounts/&#34;&gt;
  Learn More &lt;i class=&#34;fas fa-arrow-alt-circle-right ms-2&#34;&gt;&lt;/i&gt;
&lt;/a&gt;
&lt;/Aside&gt;
&lt;h2&gt;GNOME Desktop&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;gnome-desktop&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#gnome-desktop&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Thanks to triggers now being fully integrated in Serpent OS via &lt;code&gt;moss&lt;/code&gt;, we&amp;rsquo;ve actually managed to
package up most of the basic parts of GNOME 45. This includes a functioning GDM, GNOME Shell and
a handful of applications.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./KeepOnRunning.webp&#34; alt=&#34;GNOME on Serpent OS&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;Packaging work&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;packaging-work&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#packaging-work&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Outside of the heavy work on the tooling and GNOME, we&amp;rsquo;ve also been tidying up our recipes repo and
recently performed a fresh rebootstrap using:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;glibc 2.39&lt;/li&gt;
&lt;li&gt;binutils 2.42&lt;/li&gt;
&lt;li&gt;GCC 13.2.0&lt;/li&gt;
&lt;li&gt;LLVM 17.4.0&lt;/li&gt;
&lt;li&gt;Rust 1.78.0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note that our primary toolchain is &lt;code&gt;glibc&lt;/code&gt;, &lt;code&gt;lld&lt;/code&gt;, &lt;code&gt;clang&lt;/code&gt; / &lt;code&gt;clang++&lt;/code&gt;, &lt;code&gt;libc++&lt;/code&gt;, &lt;code&gt;libunwind&lt;/code&gt;, etc.
The majority of packages are built with this LLVM + glibc toolchain, and a subset of packages currently
build with the GNU toolchain due to various wrong assumptions or use of GCC extensions.&lt;/p&gt;
&lt;p&gt;Our kernel has always been built with clang.&lt;/p&gt;
&lt;h2&gt;Images&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;images&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#images&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Our shortterm plan is to deliver a prealpha image for the general public to test, and to get a &amp;ldquo;feel&amp;rdquo; for
Serpent OS and associated tooling. As soon as this is out of the door we will immediately pivot to getting
Serpent OS fully functioning on baremetal, with explicit targets in mind: the hardware that core developers
are currently using.&lt;/p&gt;
&lt;p&gt;These images will be available but not promoted for general use - given their intended use as dogfooding systems.
This is part of our shift to the &lt;code&gt;oxide-alpha-1&lt;/code&gt; target milestone, which will be discussed further in our next post
announcing the prealpha image.&lt;/p&gt;
&lt;h2&gt;Next time&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;next-time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#next-time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Our next monthly blog post should return to its regular slot, with updates on the following topics:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Limiting &lt;code&gt;async&lt;/code&gt; in moss to targeted areas (PR ready and pending review)&lt;/li&gt;
&lt;li&gt;Life on Serpent: How baremetal testing + enabling is going.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Until then, please, stay tuned!&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>January Updates</title>
      <link>http://localhost:1313/blog/blog/2024/01/19/january-updates/</link>
      <pubDate>Fri, 19 Jan 2024 22:54:07 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2024/01/19/january-updates/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2024/01/19/january-updates/Featured_hu_70731a564ccc3963.webp" width="640" height="400"/>]]>
        
        &lt;p&gt;Precisely one month since our end of year summary, so, what have we been up to?
With a new year, a new start was long overdue. We&amp;rsquo;re pleased to announce that we&amp;rsquo;ve
finally shifted our butts over to our own server (again).&lt;/p&gt;
&lt;p&gt;While this isn&amp;rsquo;t quite as chunky a news update as the last post, we rather hope you appreciate
the regularity of the news.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;Featured.webp&#34; alt=&#34;moss in action&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h2&gt;Infrastructure, revisited&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;infrastructure-revisited&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#infrastructure-revisited&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&amp;rsquo;tarkah&amp;rsquo; has been tirelessly porting &lt;code&gt;moss-service&lt;/code&gt;, the core foundation of our automated build system,
to a shiny new Rust codebase. While we don&amp;rsquo;t have an &lt;em&gt;immediately&lt;/em&gt; pressing need for the port to
come online, it will certainly address some &amp;ldquo;v1 issues&amp;rdquo; and ensure the best-in-class development
experience for our contributors.&lt;/p&gt;
&lt;h2&gt;Licensing&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;licensing&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#licensing&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In our pursuit for a sustainable, community oriented project, we&amp;rsquo;ve been doing a lot of in house organisation.
Very importantly, we&amp;rsquo;ve now &lt;a href=&#34;https://github.com/serpent-os/recipes/issues/2&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;relicensed&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; our packaging recipes to &lt;a href=&#34;https://spdx.org/licenses/MPL-2.0.html&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;MPL-2.0&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;, bringing them in line with the license chosen for our current engineering efforts (&lt;code&gt;moss&lt;/code&gt;, etc).&lt;/p&gt;
&lt;p&gt;To reiterate a critical point, we require that our contributions are attributed to the virtual collective &amp;ldquo;Serpent OS Developers&amp;rdquo;
to ensure we&amp;rsquo;re unable to relicense any contributions &lt;em&gt;without express consent of the contributors involved&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Additionally we picked MPL-2.0 over Zlib due to some distinct advantages in relation to patent trolls. In combination
we believe both the project and our users will have the greatest protection from patent trolls and fiscally-motivated
relicensing.&lt;/p&gt;
&lt;h2&gt;As I Raise My Trigger Finger&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;as-i-raise-my-trigger-finger&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#as-i-raise-my-trigger-finger&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;As you may recall from the last post, we announced our intention to add system triggers to moss.
We also stated that our triggers must run in &lt;strong&gt;isolation&lt;/strong&gt; thanks to the unique architecture of our
package management. After much consideration, we&amp;rsquo;ve landed on a strategy that will work for us.&lt;/p&gt;
&lt;h3&gt;Post-blit triggers&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;post-blit-triggers&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#post-blit-triggers&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Every &lt;em&gt;mutable operation&lt;/em&gt; in moss results in a fresh internal transaction, which is present as a full
&lt;code&gt;/usr&lt;/code&gt; tree inside a staging tree. The majority of triggers can be executed here, just before we &amp;ldquo;activate&amp;rdquo;
the new rootfs. This allows us to detect potential trigger failures, and abort the activation.&lt;/p&gt;
&lt;p&gt;These YAML-defined triggers will be run in an isolated environment (clone-based container) with the new &lt;code&gt;/usr&lt;/code&gt;
and read-only access to &lt;code&gt;/etc&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Post-activation triggers&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;post-activation-triggers&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#post-activation-triggers&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Once we have a freshly activated &lt;code&gt;/usr&lt;/code&gt; (ie new system view) we can run a very limited set of post-activation
triggers. An obvious example may be &lt;code&gt;systemctl daemon-reexec&lt;/code&gt;. Note that by splitting post-blit and post-activation
triggers, we leave the door open to multiple activation strategies for non-simple updates, including soft reboots
and kernel patching.&lt;/p&gt;
&lt;h2&gt;Packaging updates!&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;packaging-updates&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#packaging-updates&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;With all of the migration work, our builds have also resumed. In the space of a few short days we&amp;rsquo;ve had 32 package
builds. Ok, not a huge number, but we also have 15 outstanding pull requests to our new recipes repo!&lt;/p&gt;
&lt;p&gt;In order to make life not only simpler for us, but for Solus in its future role as a source-derivative of Serpent, we&amp;rsquo;ve
unified all of our git recipe repos into a new single repo, &lt;a href=&#34;https://github.com/serpent-os/recipes&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;recipes&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Improved hosting&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;improved-hosting&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#improved-hosting&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Our devops team has been working hard to mitigate bus factor with our transition to the new infrastructure, Bitwarden account,
shared DNS, and opentofu configuration.&lt;/p&gt;
&lt;h3&gt;Self Hosting. Again&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;self-hosting-again&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#self-hosting-again&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;As part of the recovery process for Solus, the two projects shared resources, including
a large Hetzner node. This has actually worked remarkably well for a long time now, however
with Serpent growing we do not wish to impact the &lt;em&gt;availability&lt;/em&gt; and &lt;em&gt;stability&lt;/em&gt; of the Solus
update experience.&lt;/p&gt;
&lt;p&gt;Long story short, money from &lt;a href=&#34;https://github.com/sponsors/ikeycode&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitHub Sponsors&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; (You guys! &amp;lt; 3) is now paying for an AX52 server
from Hetzner. It&amp;rsquo;s sufficiently powerful that we&amp;rsquo;re running a backup &lt;em&gt;builder&lt;/em&gt; there as well as
repo management and build controller.&lt;/p&gt;
&lt;h3&gt;El Cheapo Web Hosting&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;el-cheapo-web-hosting&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#el-cheapo-web-hosting&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Looking at our project&amp;rsquo;s use of static generators - we decided to review our hosting for web content.
Long story short, we deemed it entirely unnecessary. We&amp;rsquo;re now using GitHub pages to deploy this
website and our &lt;a href=&#34;https://docs.serpentos.com&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;documentation site&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; via GitHub actions. Don&amp;rsquo;t worry,
we use git, we have backups, and we manage the infrastructure using &lt;code&gt;IaC&lt;/code&gt; practices.&lt;/p&gt;
&lt;h2&gt;Clarifying our baseline target&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;clarifying-our-baseline-target&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#clarifying-our-baseline-target&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Lately there have been some questions in both Serpent and Solus as to what our baseline will be.
In Serpent OS, this will be at minimum &lt;code&gt;x86_64-v2&lt;/code&gt;, with &lt;code&gt;x86_64-v3x&lt;/code&gt; packages automatically
offered if the system base criteria are met.&lt;/p&gt;
&lt;p&gt;This decision has been made to offer the widest baseline compatibility without compromising heavily
on system performance (Such that &lt;code&gt;x86_64-generic&lt;/code&gt; is unsupported in Serpent OS). We will continue
offering both &lt;code&gt;v2&lt;/code&gt; and &lt;code&gt;v3x&lt;/code&gt; until it is no longer feasible from a storage/financial perspective.
Source derivatives (Including Solus) are free to chart their own course here, if necessary,
and still benefit from tight upstream integration.&lt;/p&gt;
&lt;h3&gt;Towards Next Month&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;towards-next-month&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#towards-next-month&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;In our next update, we&amp;rsquo;ll have quite a bit to cover, including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Integrated triggers&lt;/li&gt;
&lt;li&gt;Progress with GNOME packaging/readiness&lt;/li&gt;
&lt;li&gt;Boulder / Infrastructure porting progress&lt;/li&gt;
&lt;li&gt;Actually useful Serpent images&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>End Of Year Summary</title>
      <link>http://localhost:1313/blog/blog/2023/12/19/end-of-year-summary/</link>
      <pubDate>Tue, 19 Dec 2023 13:07:16 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2023/12/19/end-of-year-summary/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2023/12/19/end-of-year-summary/featured_hu_5f08d570003ddab1.webp" width="640" height="410"/>]]>
        
        &lt;p&gt;import Icon from &amp;ldquo;@/components/ui/Icon.astro&amp;rdquo;;
import { Aside } from &amp;lsquo;@astrojs/starlight/components&amp;rsquo;;&lt;/p&gt;
&lt;p&gt;Burning question - how long before we can use Serpent OS on our development systems?
It&amp;rsquo;s a fair question - and one that requires context to answer. Let&amp;rsquo;s start our
new monthly update cycle with a recap of progress so far.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;featured.webp&#34; alt=&#34;screenshot of moss&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;Introducing tarkah&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;introducing-tarkah&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#introducing-tarkah&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We&amp;rsquo;d like to extend a huge official welcome, and thank you, to newest team member Cory Forsstrom (aka &lt;code&gt;tarkah&lt;/code&gt;)!&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;Firstly, a quote from Cory:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;I&amp;rsquo;ve been a long time Solus user and was very excited about what serpent os was doing. Really got invested once I started diving into the D code and seeing how powerful the tools and ideas were. The Rust rewrite was just a perfect storm for me with my experience there and my desire to make contributions. Getting to know you and ermo has just been icing on the cake, you&amp;rsquo;ve both been so welcoming and friendly. So lots of fun times.&lt;/p&gt;

&lt;/blockquote&gt;
&lt;blockquote&gt;
  &lt;p&gt;On the personal side, I&amp;rsquo;m on the west coast in the States, have a lovely wife, just had a baby girl and am enjoying my time with fatherhood and coding&lt;/p&gt;

&lt;/blockquote&gt;
&lt;p&gt;Chances are you know tarkah for his contributions to &lt;a href=&#34;https://github.com/iced-rs/iced&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;iced-rs&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;, and to &lt;a href=&#34;https://getsol.us&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Solus&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. His contributions to
the &lt;a href=&#34;https://github.com/serpent-os/moss-rs&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;moss-rs&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; project have been absolutely critical, and his patience essential as we got ourselves quickly up to
speed with Rust. It is entirely fair to say that our Rust efforts would not have been possible without him!&lt;/p&gt;
&lt;h2&gt;Rust Progress&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;rust-progress&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rust-progress&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;I think it is fair to say that people collectively facepalmed when we announced our plans
to &lt;a href=&#34;https://serpentos.com/blog/2023/09/06/oxidised-moss/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;adopt Rust&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; - assuming this would be a huge set back. We&amp;rsquo;re really
happy to report this is &lt;strong&gt;not&lt;/strong&gt; the case, and we&amp;rsquo;ve made tremendous progress in this area.&lt;/p&gt;
&lt;h3&gt;moss&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;moss&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#moss&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Our Rust based &lt;code&gt;moss&lt;/code&gt; system package tool is now leaps and bounds ahead of its predecessor,
supporting the original features and more!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;State management&lt;/li&gt;
&lt;li&gt;Garbage collection of old transactions (via &lt;code&gt;state prune&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Optimised write order of transactions (see more below)&lt;/li&gt;
&lt;li&gt;File conflict detection&lt;/li&gt;
&lt;li&gt;Parallel fetching and decompression of packages&lt;/li&gt;
&lt;li&gt;Update support (as &lt;code&gt;sync&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Local and remote repositories with priority-based layering&lt;/li&gt;
&lt;li&gt;Support for building with &lt;code&gt;musl&lt;/code&gt; for fully self-contained, static builds of moss with zero system dependencies.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We now have a version-agnostic &amp;ldquo;stone&amp;rdquo; crate that is more efficient at reading packages than our original D code.
In addition, it benefits from the memory safety promises of Rust.&lt;/p&gt;
&lt;Aside title=&#34;What is moss?&#34;&gt;
&lt;p&gt;moss aims to &lt;strong&gt;feel&lt;/strong&gt; like a traditional package manager while offering features typically only found in tools like &lt;a href=&#34;https://github.com/ostreedev/ostree&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ostree&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. It is still &lt;em&gt;package&lt;/em&gt; based and offers the same level of granularity and composition as classic package managers while still
managing to offer full OS deduplication, offline rollbacks and atomic updates.&lt;/p&gt;
&lt;p&gt;At a &lt;em&gt;technical level&lt;/em&gt;, we have a custom binary package format that focuses on read performance, deduplication, strong types and error reduction.
Every operation in moss creates an entirely new filesystem tree composed of &lt;strong&gt;hard links&lt;/strong&gt; to content addressable storage (Hash-based) which is
then &amp;ldquo;promoted&amp;rdquo; by swapping the host &lt;code&gt;/usr&lt;/code&gt; with the staging tree using the &lt;code&gt;renameat2&lt;/code&gt; system call. Phew!&lt;/p&gt;
&lt;/Aside&gt;
&lt;h4&gt;Virtual filesystem management&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;virtual-filesystem-management&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#virtual-filesystem-management&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;OK, lets look at the problem: Every transaction in moss requires us to generate a new staging tree containing all of the directories and files for the
&lt;code&gt;/usr&lt;/code&gt; tree, using hard links, from content addressable storage. As one might expect, creating tens of thousands of new nodes is really, really slow!&lt;/p&gt;
&lt;p&gt;To alleviate this issue we created a &lt;a href=&#34;https://github.com/serpent-os/moss-rs/tree/main/crates/vfs&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;vfs&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; crate in moss to optimise &lt;em&gt;how&lt;/em&gt; we construct each
transaction tree:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Organise all incoming registered paths into a specific order&lt;/li&gt;
&lt;li&gt;Inject all missing implicitly created directories for accounting&lt;/li&gt;
&lt;li&gt;Re-parent nodes in tree which live under redirected symlinks&lt;/li&gt;
&lt;li&gt;Compile into a recursive data-structure using relative names.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There is a multipart &amp;ldquo;build&amp;rdquo; for the tree that detects any filesystem conflicts before any files have been written to disk, preventing broken transactions.
With the fully built data structure we can recurse a &lt;em&gt;virtual filesystem&lt;/em&gt;, making use of the &lt;code&gt;at&lt;/code&gt; family of functions like &lt;code&gt;linkat&lt;/code&gt;, &lt;code&gt;mkdirat&lt;/code&gt;, to &amp;ldquo;blit&amp;rdquo;
a filesystem tree without requiring any path resolution, in the most efficient order possible.&lt;/p&gt;
&lt;p&gt;The net result? New transaction roots are created in milliseconds, not seconds.&lt;/p&gt;
&lt;h4&gt;Upgrade support - &lt;em&gt;kind of&lt;/em&gt;&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;upgrade-support---kind-of&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#upgrade-support---kind-of&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;moss now offers a &lt;code&gt;sync&lt;/code&gt; command in place of the conventional &lt;code&gt;upgrade&lt;/code&gt; one might expect. Rather than upgrading to the latest &lt;em&gt;version&lt;/em&gt; of a package, we
rely on moss and our infrastructure tooling work in conjunction to ensure we can simply &lt;em&gt;synchronize&lt;/em&gt; the package selection with the the &amp;ldquo;tip&amp;rdquo; candidates
in the configured repositories, as ordered by priority. From a distro-builder PoV, we can now revert and pull builds. For a user PoV, you can remove a test
repository and &lt;code&gt;moss sync&lt;/code&gt; to go back to the official versions of packages.&lt;/p&gt;
&lt;p&gt;Generally speaking, when you &lt;code&gt;moss sync&lt;/code&gt; you will be seeing new packages, however. :smile: This feature is being built to enable a future feature: exported states. Want to try a new edition? Sync to the lockfile. Need to quickly and reproducibly deploy containers from a locked down configuration? You get the idea.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;sync.webp&#34; alt=&#34;moss sync&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h4&gt;Fully &lt;code&gt;async&lt;/code&gt;&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;fully-async&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#fully-async&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;The moss tool is now completely asynchronous, making efficient use of both coroutines and OS threads to perform as much work possible in the shortest space
of time. This allows us to download, fetch, check and unpack many packages at the same time without being blocked on network or disk, greatly speeding up
the fetch part of a transaction.&lt;/p&gt;
&lt;p&gt;This is achieved by building on the famous &lt;a href=&#34;https://tokio.rs/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;tokio&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; runtime and &lt;a href=&#34;https://github.com/seanmonstar/reqwest&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;:material-github: reqwest&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; crates, among others.&lt;/p&gt;
&lt;h3&gt;boulder&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;boulder&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#boulder&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;At the time of writing our port of boulder hasn&amp;rsquo;t quite &lt;em&gt;yet&lt;/em&gt; caught up with the original implementation, given all
of the ground we covered with moss. With that said, we decided to step back and evaluate where we could improve upon
the first version of boulder.&lt;/p&gt;
&lt;Aside title=&#34;Recap: What is boulder?&#34;&gt;
  Boulder is the tool we use to generate installable `.stone` packages from a YAML recipe, `stone.yml`.
  The recipe contains machine-readable metadata in a declarative format, along with &#34;steps&#34; (instructions)
  used to build the package.
&lt;p&gt;Leveraging a series of intelligent patterns and helpers, boulder can analyse and collect the build artefacts
into the correct subpackages and automatically discover most runtime dependencies, thus vastly decreasing
the workload for the developer.&lt;/p&gt;
  &lt;a class=&#34;btn btn-primary me-3 mb-4&#34; href=&#34;https://aerynos.dev/packaging/recipes/&#34;&gt;
    Learn More &lt;i class=&#34;fas fa-arrow-alt-circle-right ms-2&#34;&gt;&lt;/i&gt;
  &lt;/a&gt;
&lt;/Aside&gt;
&lt;p&gt;&lt;img src=&#34;boulder.webp&#34; alt=&#34;boulder in action&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h4&gt;User namespaces (rootless)&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;user-namespaces-rootless&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#user-namespaces-rootless&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Arguably one of the most important changes: &lt;code&gt;boulder&lt;/code&gt; no longer requires running as root. Even better, we make use of
user namespaces and execute using &lt;code&gt;clone&lt;/code&gt; - meaning we no longer need a separate binary (&lt;code&gt;mason&lt;/code&gt;) within the container
environment!&lt;/p&gt;
&lt;h4&gt;Superior error handling&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;superior-error-handling&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#superior-error-handling&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Thanks to everything being a self-contained binary, we can tell you up front that you&amp;rsquo;re using unknown action or definition
macros (i.e. &lt;code&gt;%(datadir)&lt;/code&gt;) before attempting any builds, saving you valuable time.&lt;/p&gt;
&lt;h4&gt;Breakpoints&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;breakpoints&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#breakpoints&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;When this was first proposed, I did a double take. Breakpoints.. in recipes&amp;hellip; ? No, seriously. Not only was it proposed,
but between ermo and tarkah, they only went and &lt;em&gt;implemented it&lt;/em&gt;. You can now use special macros within your recipe to add
debugging breakpoints in your recipe to drop to a shell within the container and debug the more difficult builds!&lt;/p&gt;
&lt;p&gt;Our documentation will be updated when the new boulder ships a stable build.&lt;/p&gt;
&lt;h4&gt;Unified codebase&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;unified-codebase&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#unified-codebase&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;We now build both &lt;code&gt;moss&lt;/code&gt; and &lt;code&gt;boulder&lt;/code&gt; from the &lt;code&gt;moss-rs&lt;/code&gt; repository, allowing them to share the same code and mechanisms
for dealing with dependencies, system roots, etc., allowing for far higher levels of integration than were previously possible.&lt;/p&gt;
&lt;p&gt;A feature we&amp;rsquo;re currently working on allows you to use a single directory for the system &amp;ldquo;root&amp;rdquo;, where all the unpacking, fetching
and databases happen, while almost &lt;em&gt;instantly&lt;/em&gt; creating new build roots!&lt;/p&gt;
&lt;h2&gt;What We Already Have&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;what-we-already-have&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#what-we-already-have&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;I get it. &amp;ldquo;All this rewriting - how will you ever make progress&amp;rdquo; ? It&amp;rsquo;s a fair question. We didn&amp;rsquo;t throw anything
away, quite the opposite. Our repos, tooling, are all still in use enabling us to build the distribution in parallel
to the ongoing rewrites.&lt;/p&gt;
&lt;h3&gt;Build infrastructure&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;build-infrastructure&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#build-infrastructure&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;For a long time, we&amp;rsquo;ve had our &lt;a href=&#34;https://dash.serpentos.com&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;:material-view-dashboard: dashboard&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; up and running for our build infrastructure.
Sure, we&amp;rsquo;re going to rewrite it beyond the &amp;ldquo;Proof of concept&amp;rdquo; stage when required - but for now it still serves us well. Admittedly there is
a deep issue within the &lt;code&gt;druntime&lt;/code&gt; causing thread leaks over time, but we have it restarting via &lt;code&gt;systemd&lt;/code&gt; every 24 hours as a bandaid. Needless
to say, we&amp;rsquo;re big fans of memory safety now.&lt;/p&gt;
&lt;p&gt;Our current deployment watches git repos in our &lt;a href=&#34;https://github.com/snekpit&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;:material-github: snekpit&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; collection, and automatically forms build
queues from the pending builds, ordering them by dependency. Using two of ermo&amp;rsquo;s beefy builders, the packages are automatically built and deployed
to our repository. Our workflow means that maintainers only have to merge a pull request for builds to appear in the &lt;code&gt;volatile&lt;/code&gt; repository.&lt;/p&gt;
&lt;h3&gt;Legacy tooling&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;legacy-tooling&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#legacy-tooling&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Despite having some warts, the build infrastructure is still able to use legacy &lt;code&gt;moss&lt;/code&gt; and &lt;code&gt;boulder&lt;/code&gt; to make our new builds available, and we&amp;rsquo;ve
been minimally patching these old tools to support our transition to the Rust based tooling. As of this moment, &lt;code&gt;moss-rs&lt;/code&gt; officially supersedes
the D version, and our new &lt;code&gt;boulder&lt;/code&gt; is quickly catching up.&lt;/p&gt;
&lt;p&gt;Long story short, we&amp;rsquo;re still building on all fronts and aren&amp;rsquo;t blocked anywhere.&lt;/p&gt;
&lt;h3&gt;Live repository&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;live-repository&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#live-repository&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Builds are published to our &lt;code&gt;volatile&lt;/code&gt; repository, and we do have a fully functioning software repository despite being quite small. Once we&amp;rsquo;re
happy with the new &lt;code&gt;moss&lt;/code&gt; we&amp;rsquo;ll speed up in our packaging efforts. With that said, we do have two kernels (&lt;code&gt;kvm&lt;/code&gt; and &lt;code&gt;desktop&lt;/code&gt;) and even &lt;code&gt;gtk-4&lt;/code&gt;
at this early stage!&lt;/p&gt;
&lt;h2&gt;The immediate future&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;the-immediate-future&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#the-immediate-future&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;OK let&amp;rsquo;s tldr this:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Rust ports are coming along fantastically&lt;/li&gt;
&lt;li&gt;moss has been replaced&lt;/li&gt;
&lt;li&gt;still making use of existing tools and infrastructure to build the OS&lt;/li&gt;
&lt;li&gt;actually building the fully bootstrapped, self-contained OS, built on libc++, clang, glibc, etc.&lt;/li&gt;
&lt;li&gt;actively pushing updates to binary repository with fully automated pipeline&lt;/li&gt;
&lt;li&gt;new stuff is :rocket: blazing fast&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;System triggers&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;system-triggers&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#system-triggers&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We&amp;rsquo;re experimenting with system triggers right now, execution units that run to fully bake the OS state after each transaction completes. In keeping
with our stateless philosophy (and pending adoption of &lt;code&gt;hermetic /usr&lt;/code&gt;), we need triggers that understand the union state of the operating system, not
individual per-package triggers.&lt;/p&gt;
&lt;p&gt;A YAML-based trigger recipe has been baked up, which deliberately avoids the use of shell helpers and execution security weaknesses by using an extended
variant of globs:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pattern&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/usr/lib/modules/(version:*)/*&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parse&lt;/span&gt;::&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fnmatch&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;Pattern&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Our new &lt;a href=&#34;https://github.com/serpent-os/moss-rs/tree/main/crates/fnmatch&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;:material-github: fnmatch&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; crate, heavily inspired by Python fnmatch, compiles specially format glob strings to Regex, extending with capture
groups for named variables. In YAML, it looks a bit like this:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;handlers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;depmod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;/sbin/depmod&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;-a&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;$(version)&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;## Link paths to handlers and filter on the type&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;paths&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/lib/modules/(version:*)/kernel&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;handlers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;depmod&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;directory&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Once we roll out the trigger support, we unblock the packaging of critical items like &lt;code&gt;gtk-3&lt;/code&gt; for gdm, as well as enable usable installations and ISOs.
Note that they differ from classical triggers due to the architecture of moss: they need to run in an isolated namespace (container) so we can ensure
the staged transaction won&amp;rsquo;t break. Additionally we cache and collect the trigger artefacts to speed up each filesystem operation, giving us a first:
versioned state artefacts.&lt;/p&gt;
&lt;h3&gt;Boot management&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;boot-management&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#boot-management&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Our plan is to build on my prior work in the Solus boot management design and &lt;a href=&#34;https://github.com/clearlinux/clr-boot-manager&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;:material-github: clr-boot-manager&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;, addressing some long standing shortcomings. Most importantly, our new module will not need to inspect or manage the OS filesystem
as &lt;code&gt;moss&lt;/code&gt; will be able to provide all of the relevant information (full accounting for all used paths in &lt;strong&gt;all&lt;/strong&gt; transactions).&lt;/p&gt;
&lt;p&gt;Initially we will focus on UEFI and supporting the &lt;a href=&#34;https://github.com/uapi-group/specifications/blob/main/specs/discoverable_partitions_specification.md&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;:material-github: Discoverable Partitions Specification&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; by way of &lt;code&gt;XBOOTLDR&lt;/code&gt; partitions, the &lt;code&gt;ESP&lt;/code&gt; and the &lt;a href=&#34;https://systemd.io/BOOT_LOADER_INTERFACE/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Boot Loader Interface&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. Currently we have no plans to support &lt;code&gt;Unified Kernel Images&lt;/code&gt; as the approach taken by CBM (and soon, moss) alleviates the
data concerns of dealing with &lt;code&gt;vfat&lt;/code&gt;. However, as and when UKIs gain configurable, standardised behaviour for &lt;code&gt;cmdline&lt;/code&gt; control we will investigate their
use. Until that point please note we prebuild our &lt;code&gt;initrd&lt;/code&gt; images and ship them directly in our packages, as Solus has done so for years already.&lt;/p&gt;
&lt;p&gt;The net gain for taking control of boot management will be the deduplication and garbage collection of assets installed to either the &lt;code&gt;ESP&lt;/code&gt; or &lt;code&gt;XBOOTLDR&lt;/code&gt;
partitions, along with generation of boot entries relevant to Serpent OS: Transaction specific entries allowing us to directly boot back to older installs
in case upgrades go wrong.&lt;/p&gt;
&lt;p&gt;Last, but certainly not least, this approach will make dual-booting with another OS less irritating by no longer being bound by a fixed ESP size.&lt;/p&gt;
&lt;h3&gt;Desktop&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;desktop&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#desktop&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Our plan is to produce a GNOME Shell based live ISO containing the bare basics to get everything else validated, and open the path to installations.
In short, it will include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Desktop.&lt;/li&gt;
&lt;li&gt;moss tooling&lt;/li&gt;
&lt;li&gt;web browser (firefox)&lt;/li&gt;
&lt;li&gt;terminal (potentially &lt;code&gt;gnome-console&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;flatpak&lt;/li&gt;
&lt;li&gt;Eventually: GNOME Software (integrated with flatpak+moss)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It should be obvious we&amp;rsquo;re not building a general purpose home-use distribution. However, we also won&amp;rsquo;t &lt;em&gt;stop&lt;/em&gt; people using Serpent OS for their needs,
and we plan to beef up the repository, fully support flatpak and eventually custom moss source recipe repos. (ala AUR)&lt;/p&gt;
&lt;h3&gt;Safety is important&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;safety-is-important&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#safety-is-important&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Our journey over the last few years through D, DIP1000, Rust and memory safety has been incredibly eye opening for us. To our own surprise,
memory safety has become a huge interest and concern for the team. Not only have we embarked on a full transition of our tooling to Rust,
we&amp;rsquo;ve started looking at the OS itself.&lt;/p&gt;
&lt;p&gt;As an early indication of our intent, our &lt;a href=&#34;https://curl.se/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;curl&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; package is now &lt;a href=&#34;https://github.com/snekpit/main/commit/7bccc31388a68b79ed42962501d27f97187b232c&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;built with the &lt;code&gt;rustls&lt;/code&gt; backend&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; and &lt;em&gt;not&lt;/em&gt; OpenSSL. Needless to say, we&amp;rsquo;re very keen to reduce the surface area for attacks by
adopting alternative, safer implementations where possible. Other projects we&amp;rsquo;re keeping a very close eye on include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/memorysafety/sudo-rs&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;:material-github: sudo-rs&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/uutils/coreutils&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;:material-github: uutils/coreutils&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Looking to next year&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;looking-to-next-year&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#looking-to-next-year&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;With most of us entering our holiday leave, and the new year practically around the corner, the Serpent OS team wishes you many happy returns and
a &lt;em&gt;wonderful&lt;/em&gt; new year. With one blocker being worked on (triggers), and the last on the horizon (boot management), your dream installation of
Serpent OS is firmly within reach.&lt;/p&gt;
&lt;p&gt;In the spirit of the season&amp;hellip;.. if you feel like supporting our project, you can help with the rising cost of living and our expanding hosting
requirements via GitHub Sponsors!&lt;/p&gt;
&lt;Icon name=&#34;fa6-solid:heart&#34;/&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/sponsors/ikeycode&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Sponsor us!&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Oxidised Moss</title>
      <link>http://localhost:1313/blog/blog/2023/09/06/oxidised-moss/</link>
      <pubDate>Wed, 06 Sep 2023 18:32:47 +0100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2023/09/06/oxidised-moss/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2023/09/06/oxidised-moss/Featured_hu_a376fcccb4fc480d.png" width="640" height="360"/>]]>
        
        &lt;p&gt;Allow me to start this post by stating something very important to me: I absolutely love the
D programming language, along with the expressivity and creative freedom it brings. Therefore
please do not interpret this post as an assassination piece.&lt;/p&gt;
&lt;p&gt;For a number of months now the Serpent OS project has stood rather still. While this could naively
be attributed to our shared plans with &lt;a href=&#34;https://getsol.us&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Solus&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; - a deeper, technical issue is
to be acredited.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;Featured.png&#34; alt=&#34;img&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h2&gt;D isn&amp;rsquo;t quite there &lt;em&gt;yet&lt;/em&gt;. But it will be, some day.&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;d-isnt-quite-there-yet-but-it-will-be-some-day&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#d-isnt-quite-there-yet-but-it-will-be-some-day&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Again, allow me to say I have thoroughly enjoyed my experience with D over the last 3 or so years,
it has been truly illuminating for me as an engineer. With that said, we have also become responsible
for an awful lot of code. As an engineering-led distribution + tooling project, our focus is that of
secure and auditable code paths. To that extent we pursued &lt;a href=&#34;https://github.com/dlang/DIPs/blob/master/DIPs/other/DIP1000.md&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;DIP1000&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; as far as practical and admit it has a way to go before addressing our immediate needs of memory safety.&lt;/p&gt;
&lt;p&gt;While we&amp;rsquo;re quite happy to be an upstream for Linux distributions by way of release channels and tooling
releases, we don&amp;rsquo;t quite have the resources to also be an upstream for the numerous D packages we&amp;rsquo;d need to
create and maintain to get our works over the finish line.&lt;/p&gt;
&lt;p&gt;With that said, I will still continue to use D in my own &lt;em&gt;personal&lt;/em&gt; projects, and firmly believe that one day
D will realise its true potential.&lt;/p&gt;
&lt;h2&gt;Rewarding contributors&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;rewarding-contributors&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rewarding-contributors&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Our priorities have shifted somewhat since the announcement of our shared venture with Solus, and we must make
architectural decisions based on the needs of all stakeholders involved, including the existing contributor pool.
Additionally, care should be taken to be somewhat populist in our choice of stacks in order to give contributors
industry-relevant experience to add to their résumé (CV).&lt;/p&gt;
&lt;h2&gt;Playing to strengths&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;playing-to-strengths&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#playing-to-strengths&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Typically Solus has been a Golang-oriented project, and has a number of experienced developers. With the addition
of the Serpent developers, the total cross-over development team has a skill pool featuring Rust and Go, as well as
various web stack technologies.&lt;/p&gt;
&lt;p&gt;Reconsidering the total project architecture including our automated builds, the following decisions have been made
that incorporate the requirements of being widely adopted/supported, robust ecosystems and established tooling:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Rust, for low level tooling and components. Chiefly: &lt;code&gt;moss&lt;/code&gt;, &lt;code&gt;boulder&lt;/code&gt;, &lt;code&gt;libstone&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ReactJS/TypeScript for our frontend work (Summit Web)&lt;/li&gt;
&lt;li&gt;Go - for our web / build infrastructure (Summit, Avalanche, Vessel, etc)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Lets start&amp;hellip; 2 days ago!&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;lets-start-2-days-ago&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#lets-start-2-days-ago&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The new infrastructure will be brought up using widely available modules, and designed to be scalable from the outset
as part of a Kubernetes deployment, with as minimal user interaction as needed. Our eventual plans include rebuilding
the entire distribution from source with heavy caching once some part of the dependency graph changes.&lt;/p&gt;
&lt;p&gt;This infrastructure will then be extended to support the Solus 4 series for quality of life improvements to Solus developers,
enabling a more streamlined dev workflow: TL;DR less time babysitting builds = more Serpent development focus.&lt;/p&gt;
&lt;p&gt;Our priority these past few days has been on the new &lt;a href=&#34;https://github.com/serpent-os/moss-rs&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;moss-rs&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; repository where we
have begun to reimplement &lt;code&gt;moss&lt;/code&gt; in Rust. So far we have a skeleton CLI powered by &lt;code&gt;clap&lt;/code&gt; with an in-progress library for reading
&lt;code&gt;.stone&lt;/code&gt; archives, our custom package format.&lt;/p&gt;
&lt;p&gt;The project is organised as a Rust workspace, with the view that &lt;code&gt;stone&lt;/code&gt;, &lt;code&gt;moss&lt;/code&gt; and &lt;code&gt;boulder&lt;/code&gt; will all live in the same tree.
Our hope is this vastly improves the onboarding experience and opens the doors (finally) to contributors.&lt;/p&gt;
&lt;h3&gt;Licensing&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;licensing&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#licensing&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;It should also be noted that the new tooling is made available under the terms of the Mozilla Public License (&lt;a href=&#34;https://spdx.org/licenses/MPL-2.0.html&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;MPL-2.0&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;).
After internal discussion, we felt the MPL offered the greatest level of defence against patent trolls while still ensuring our code
was widely free for all to respectfully use and adapt.&lt;/p&gt;
&lt;p&gt;Please also note that we have always, and continue to deliberately credit copyright as:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Copyright © 2020-2023 Serpent OS Developers
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is a virtual collective consisting of all whom have contributed to Serpent OS (per git logs) and is designed to prevent us from
being able to change the license down the line, i.e. a community protective measure.&lt;/p&gt;
&lt;h2&gt;Glad to be back&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;glad-to-be-back&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#glad-to-be-back&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Despite some sadness in the change of circumstances, we must make decisions that benefit us collectively as a community.
Please join us in raising a virtual glass to new pastures, and a brave new &lt;code&gt;blazing fast 🚀&lt;/code&gt; (TM) future for Serpent OS and Solus 5.&lt;/p&gt;
&lt;p&gt;Cheers!&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Snakes On A Boat</title>
      <link>http://localhost:1313/blog/blog/2023/04/21/snakes-on-a-boat/</link>
      <pubDate>Fri, 21 Apr 2023 22:12:56 +0100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2023/04/21/snakes-on-a-boat/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2023/04/21/snakes-on-a-boat/featured_hu_628c474a069bf60c.webp" width="640" height="360"/>]]>
        
        &lt;p&gt;We had intended to get a blog post out a little bit quicker, but the last month has been extremely
action packed. However, it has paid off immensely. As our friends at Solus &lt;a href=&#34;https://getsol.us/2023/04/18/a-new-voyage/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;recently announced&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;
it is time to embark on a new voyage.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;featured.webp&#34; alt=&#34;dashboard preview&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h3&gt;General gist of it&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;general-gist-of-it&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#general-gist-of-it&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;There is very little point in rehashing the post, so I&amp;rsquo;ll cover the essentials&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;We assisted the Solus team in deploying a complete new infrastructure. Some of this work is ongoing&lt;/li&gt;
&lt;li&gt;The package delivery pipeline is in place, meaning updates will soon reach users.&lt;/li&gt;
&lt;li&gt;We&amp;rsquo;re working towards a mutually beneficial future whereby Solus adopts our tooling.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Is Serpent OS over?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;is-serpent-os-over&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#is-serpent-os-over&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Oh no, no. The most practical angle to view this from is that Serpent OS is free to build and innovate to create the
basis of Solus 5. Outside of the distribution we&amp;rsquo;re still keen to continue development on our tooling
and strategies.&lt;/p&gt;
&lt;p&gt;It is therefore critical that we continue development, and find the best approach for both projects, to make
the transition to Solus 5 as seamless as possible. To that end we will still need to produce ISOs and have an
active community of users and testers. During this transition period, despite being two separate projects, we&amp;rsquo;re both
heading to a common goal and interest.&lt;/p&gt;
&lt;h3&gt;Finances&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;finances&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#finances&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We have an exciting journey ahead for all of us, and there are many moving parts involved. Until we&amp;rsquo;re at the point
of mutual merge, we will keep the entities and billing separate. Thus, funds to the Solus &lt;a href=&#34;https://opencollective.com/getsolus&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;OpenCollective&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;
are intended for use within Solus, whereas we currently use &lt;a href=&#34;https://github.com/sponsors/ikeycode?o=sd&amp;amp;sc=t&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitHub Sponsors&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;
for our own project needs.&lt;/p&gt;
&lt;p&gt;Currently Solus and Serpent OS share one server, which was essential for quick turnaround on infrastructure enabling.
At the end of this month Serpent OS will migrate from that server to a new, separate system, ensuring the projects
are billed separately.&lt;/p&gt;
&lt;p&gt;Long story short, if you wish to sponsor Serpent OS &lt;strong&gt;specifically&lt;/strong&gt;, please do so via &lt;a href=&#34;https://github.com/sponsors/ikeycode?o=sd&amp;amp;sc=t&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;our GitHub sponsors account&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; as our monthly running costs
will immediately rise at the end of this month. If you&amp;rsquo;re supporting Solus development, please do visit them and sponsor them =)&lt;/p&gt;
&lt;h3&gt;Next steps?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;next-steps&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#next-steps&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Glad you asked! Now that the dust is settling, we&amp;rsquo;re focusing on Serpent OS requirements, and helping Solus where we can.
Our immediate goals are to build a dogfooding system for a small collection of developers to run as an unsupported prealpha
configuration, allowing us to flesh out the tooling and processes.&lt;/p&gt;
&lt;p&gt;This will include a live booting GNOME ISO, and sufficient base packages to freely iterate on &lt;code&gt;moss&lt;/code&gt;, &lt;code&gt;boulder&lt;/code&gt;, etc as well
as our own infrastructure. Once we&amp;rsquo;ve attained a basic quality and have an installer option, those ISOs will be made available
to you guys!&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Infrastructure Launched!</title>
      <link>http://localhost:1313/blog/blog/2023/03/18/infrastructure-launched/</link>
      <pubDate>Sat, 18 Mar 2023 23:20:55 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2023/03/18/infrastructure-launched/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2023/03/18/infrastructure-launched/Featured_hu_d0ed57e71889578d.png" width="640" height="400"/>]]>
        
        &lt;p&gt;After many months and much work, our infrastructure is &lt;a href=&#34;https://dash.serpentos.com&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;finally online&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.
We&amp;rsquo;ve had a few restarts, but it&amp;rsquo;s now running fully online with 2 builders, ready to serve builds
around the clock.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;Firstly, I&amp;rsquo;d like to apologise for the delay since our last blog post. We made the decision to move
this website to static content, which took longer than expected. We&amp;rsquo;re still using our own D codebase,
but prebuilding the site (and fake &amp;ldquo;API&amp;rdquo;) so we can lower the load on our web server.&lt;/p&gt;
&lt;h3&gt;Introducing the Infra&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;introducing-the-infra&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#introducing-the-infra&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Our infrastructure is composed of 3 main components.&lt;/p&gt;
&lt;h4&gt;Summit&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;summit&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#summit&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;This is the page you can see over at &lt;a href=&#34;https://dash.serpentos.com&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dash.serpentos.com&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. It contains
the build scheduler. It monitors our git repositories, and as soon as it discovers any missing builds
it creates build tasks for them. It uses a graph to ensure parallel builds happen as much as possible,
and correctly orders (and blocks) builds based on build dependencies.&lt;/p&gt;
&lt;h4&gt;Avalanche&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;avalanche&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#avalanche&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;We have 2 instances of Avalanche, our builder tool, running. This accepts configuration + build requests
from Summit, reporting status and available builds.&lt;/p&gt;
&lt;h4&gt;Vessel&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;vessel&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#vessel&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;This is an internal repository manager, which accepts completed packages from an Avalanche instance.
Published packages land at &lt;a href=&#34;https://dev.serpentos.com&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dev.serpentos.com&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Next steps&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;next-steps&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#next-steps&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Super early days with the infra but we now have builds flowing as part of our continuous delivery solution.
Keeping this blog post short and sweet&amp;hellip; we&amp;rsquo;re about to package GNOME and start racing towards our first
&lt;strong&gt;real&lt;/strong&gt; ISOs!&lt;/p&gt;
&lt;h3&gt;Don&amp;rsquo;t forget&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;dont-forget&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#dont-forget&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;If you like what the project is doing, don&amp;rsquo;t forget to &lt;a href=&#34;https://github.com/sponsors/ikeycode?o=sd&amp;amp;sc=t&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sponsor&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;!&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Lift Off</title>
      <link>http://localhost:1313/blog/blog/2022/12/24/lift-off/</link>
      <pubDate>Sat, 24 Dec 2022 01:32:04 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2022/12/24/lift-off/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2022/12/24/lift-off/Featured_hu_2b9560a60925a6e1.webp" width="640" height="360"/>]]>
        
        &lt;p&gt;Enough of this &amp;ldquo;2 years&amp;rdquo; nonsense. We&amp;rsquo;re finally ready for lift off. It is with &lt;em&gt;immense pleasure&lt;/em&gt; we can
finally announce that Serpent OS has transitioned from a promise to a deliverable. Bye bye, phantomware!&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;Featured.webp&#34; alt=&#34;featured image&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h3&gt;We exist&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;we-exist&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#we-exist&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;As mentioned, we spent 2 years working on tooling and process. That&amp;rsquo;s .. well. Kinda dull, honestly. You&amp;rsquo;re
not here for the tooling, you&amp;rsquo;re here for the OS. To that end I made a decision to accelerate development of
the actual &lt;em&gt;Linux distro&lt;/em&gt; - and shift development of tooling into a parallel effort.&lt;/p&gt;
&lt;h3&gt;Infrastructure .. intelligently deferred&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;infrastructure--intelligently-deferred&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#infrastructure--intelligently-deferred&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;I deferred final enabling of the infrastructure until January to rectify the chicken/egg scenario whilst allowing
us to grow a base of contributors and an actual distro to work with. We&amp;rsquo;re in a good position with minimal blockers
so no concern there.&lt;/p&gt;
&lt;h3&gt;A real software collection&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;a-real-software-collection&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#a-real-software-collection&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;This is our term for the classical &amp;ldquo;package repository&amp;rdquo;. We&amp;rsquo;re using a temporary collection right now to store all
of the builds we produce. In keeping with the &lt;code&gt;Avalanche&lt;/code&gt; requirements, this is the &lt;strong&gt;volatile&lt;/strong&gt; software collection. Changes
a lot, hasn&amp;rsquo;t got a release policy.&lt;/p&gt;
&lt;h3&gt;A community.&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;a-community&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#a-community&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;It goes without saying, really, that our project isn&amp;rsquo;t remotely possible without a &lt;strong&gt;community&lt;/strong&gt;. I want to take the time
to personally thank everyone that stepped up to the plate lately and contributed to Serpent OS. Without the work of the
team, in which I include the contributors to our &lt;code&gt;venom&lt;/code&gt; recipe repository, an ISO was never possible. Additionally contributions
to tooling has helped us make significant strides.&lt;/p&gt;
&lt;p&gt;It should be noted we&amp;rsquo;ve practically folded our old &amp;ldquo;team&amp;rdquo; concept and ensured we operate across the board as a singular community,
with some members having additional responsibilities. Our belief is all in the community have equal share and say. With that said,
to the original &amp;ldquo;team&amp;rdquo;, members both past and present, I thank for their (long) support and contributions to the project.&lt;/p&gt;
&lt;h3&gt;An ISO.&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;an-iso&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#an-iso&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We actually went ahead and created our first ISO. OK that&amp;rsquo;s a lie, this is probably the 20th revision by now. And let&amp;rsquo;s be brutally
honest here:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;It sucks.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;We expected no less. However, the time is definitely here for us to begin our public iteration, transitioning from suckness to a project
worth using. In order to do that, we need to get ourselves to a point whereby we can dogfood our work and build a daily driver. Our focus
right now is building out the core technology and packaging to achieve those aims.&lt;/p&gt;
&lt;p&gt;So if you want to try our uninstallable, buggy ISO, chiefly created as a brief introduction to our package manager and toolchain, head to our
newly minted &lt;a href=&#34;http://localhost:1313/download&#34;&gt;Download&lt;/a&gt; page. Set your expectations low, ignore your dreams, and you will not be disappointed!&lt;/p&gt;
&lt;p&gt;All jokes aside, it took a long time to get to point where we could even construct our first, KVM-focused, UEFI-only &lt;code&gt;snekvalidator.iso&lt;/code&gt;. We now
have a baseline to improve on, a working contribution process, and a booting, self-hosting system.&lt;/p&gt;
&lt;p&gt;The ISO is built using 2 layered collections, the &lt;code&gt;protosnek&lt;/code&gt; collection containing our toolchain, and the new &lt;code&gt;volatile&lt;/code&gt; collection. Much of the
packaging work has been submitted by &lt;code&gt;venom&lt;/code&gt; contributors and the core team. Note you can install &lt;code&gt;neofetch&lt;/code&gt; which our very own Rune Morling (&lt;code&gt;ermo&lt;/code&gt;)
patched to support the Serpent OS logo.&lt;/p&gt;
&lt;p&gt;Boot it in Qemu (or certain Intel laptops) and play with moss now! Note, this ISO is not installable, and no upgrade path exists. It is simply
the beginnings of a public iteration process.&lt;/p&gt;
&lt;h3&gt;Next steps&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;next-steps&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#next-steps&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;In January we&amp;rsquo;ll launch our infrastructure to scale out contributions as well as to permit the mass-rebuilds that need to happen. We have to
enable our &lt;code&gt;-dbginfo&lt;/code&gt; packages and stripping, which were disabled due to a parallelism issue. We need to introduce our boot management based around
&lt;code&gt;systemd-boot&lt;/code&gt;, provide more kernels, do hardware enabling, introduce &lt;code&gt;moss-triggers&lt;/code&gt;, and much more. However, this is a &lt;strong&gt;pivotal moment&lt;/strong&gt; for our
project as we&amp;rsquo;ve finally become a &lt;strong&gt;real&lt;/strong&gt;, if not &lt;strong&gt;sucky&lt;/strong&gt;, distro. The future is incredibly bright, and we intend to deliver on every one of our
promises.&lt;/p&gt;
&lt;p&gt;As always, if you want to support our development, please consider &lt;a href=&#34;https://github.com/sponsors/ikeycode&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sponsoring&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; the work, or engaging with the community on Matrix or indeed
our &lt;a href=&#34;https://forums.serpentos.com&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;forums&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You can discuss this blog post, or leave feedback on the ISO, over at our &lt;a href=&#34;https://forums.serpentos.com/d/40-lift-off&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;forums&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>The Big Update</title>
      <link>http://localhost:1313/blog/blog/2022/09/14/the-big-update/</link>
      <pubDate>Wed, 14 Sep 2022 12:55:04 +0100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2022/09/14/the-big-update/</guid>
      <description>
        
        
        &lt;p&gt;Well - we&amp;rsquo;ve got some big news! The past few weeks have been an incredibly busy
time for us, and we&amp;rsquo;ve hit some major milestones.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h2&gt;Funding&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;funding&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#funding&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;After much deliberation - we&amp;rsquo;ve decided to pull out of Open Collective. Among other reasons, the fees
are simply too high and severely impact the funds available to us. In our early stages, the team consensus
is that funds generated are used to compensate my time working on Serpent OS.&lt;/p&gt;
&lt;p&gt;As such I&amp;rsquo;m now moving funding to my own &lt;a href=&#34;https://github.com/sponsors/ikeycode?o=sd&amp;amp;sc=t&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitHub Sponsors&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; page - please do migrate! It ensures your entire
donation makes it and keeps the lights on for longer =) Please remember I&amp;rsquo;m working &lt;strong&gt;full time&lt;/strong&gt; on Serpent OS
exclusively - I need your help to keep working.&lt;/p&gt;
&lt;h2&gt;Moved to GitHub&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;moved-to-github&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#moved-to-github&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We&amp;rsquo;ve pretty much completed our transition to GitHub. We&amp;rsquo;ve now got the following organisations:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/snekpit&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;snekpit&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; - Packaging work&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/serpent-os&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;serpent-os&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; - Main code development (moss/boulder/etc)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Forums&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;forums&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#forums&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Don&amp;rsquo;t forget - our forums are &lt;strong&gt;live&lt;/strong&gt; over at &lt;a href=&#34;https://forums.serpentos.com&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;forums.serpentos.com&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; - please feel
free to drop in and join in with the community =)&lt;/p&gt;
&lt;h2&gt;Rehash on the tooling&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;rehash-on-the-tooling&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rehash-on-the-tooling&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;OK so what exactly &lt;em&gt;are&lt;/em&gt; &lt;code&gt;moss&lt;/code&gt; and &lt;code&gt;boulder&lt;/code&gt;? In short - they&amp;rsquo;re the absolute core pieces of our distribution model.&lt;/p&gt;
&lt;h2&gt;&amp;ldquo;What is moss?&amp;rdquo;&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;what-is-moss&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#what-is-moss&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;On the surface, moss looks and feels roughly the same as just about any other traditional package manager out there.
Internally, however, its far more modern and has a few tricks up its sleeve. For instance, every time you initiate
an operation in moss, be it installation, removal, upgrade, etc, a new filesystem transaction is generated. In short,
if something is wrong with the new transaction - you can just boot to an older transaction when things worked fine.&lt;/p&gt;
&lt;p&gt;Now, it&amp;rsquo;s not implemented using bundles or filesystem specific functionality, internally its just intelligent use of
hardlinks and deduplication policies, and we have our own container format with zstd based payload compression. Our
strongly typed, deduplicating binary format is what powers moss.&lt;/p&gt;
&lt;p&gt;Behind the scenes we also use some other cool technology, such as LMDB for super reliable and speedy database access.
The net result is a next generation package management solution that offers all the benefits of traditional package
managers (i.e. granularity and composition) with new world features, like atomic updates, deduplication, and repository
snapshots.&lt;/p&gt;
&lt;h2&gt;boulder&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;boulder&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#boulder&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;It&amp;rsquo;s one thing to manage and install packages, it&amp;rsquo;s another entirely to &lt;strong&gt;build them&lt;/strong&gt;. &lt;code&gt;boulder&lt;/code&gt; builds conceptually
on prior art such as &lt;code&gt;pisi&lt;/code&gt; and the &lt;code&gt;package.yml&lt;/code&gt; format used in &lt;code&gt;ypkg&lt;/code&gt;. It is designed with automation
and ease of integration in mind, i.e. less time spent focusing on &lt;strong&gt;packaging&lt;/strong&gt; and more time on actually
getting the thing building and installing correctly.&lt;/p&gt;
&lt;p&gt;Boulder supports &amp;ldquo;macros&amp;rdquo; as seen in the RPM and ypkg world, to support consistent builds and integration.
Additionally it automatically splits up packages into the appropriate subpackages, and automatically scans
for binary, pkgconfig, perl and other dependencies during source analysis and build time. The end result
is some &lt;code&gt;.stone&lt;/code&gt; binary packages and a build manifest, which we use to flesh out our &lt;strong&gt;source package index&lt;/strong&gt;.&lt;/p&gt;
&lt;h2&gt;Major moss improvements&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;major-moss-improvements&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#major-moss-improvements&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We&amp;rsquo;ve spent considerable time reworking &lt;code&gt;moss&lt;/code&gt;, our package manager. It now features
a fresher (terminal) user interface, progress bars, and is rewritten to use the
&lt;a href=&#34;https://github.com/serpent-os/moss-db&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;moss-db&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; module encapsulating LMDB.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./nspawn.webp&#34; alt=&#34;nspawn&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s also possible to manipulate the binary collections (software repositories)
used by moss now. Note we&amp;rsquo;re going to rename &amp;ldquo;remote&amp;rdquo; to &amp;ldquo;collection&amp;rdquo; for consistency.&lt;/p&gt;
&lt;p&gt;At the time of writing:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mkdir destdir
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo moss remote add -D destdir protosnek https://dev.serpentos.com/protosnek/x86_64/stone.index
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo moss install -D destdir bash dash dbus dbus-broker systemd coreutils util-linux which moss nano
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo systemd-nspawn -b -D destdir&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This will be simplified once we introduce &lt;code&gt;virtual&lt;/code&gt; packages (Coming Soon ™)&lt;/p&gt;
&lt;h2&gt;Local Collections&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;local-collections&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#local-collections&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Boulder can now be instructed to utilise a local collection of stone packages, simplifying the development of large stack items.&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo boulder bi stone.yml -p local-x86_64&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Packages should be moved to &lt;code&gt;/var/cache/boulder/collections/local-x86_64&lt;/code&gt; and the index
can be updated by running:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo moss idx /var/cache/boulder/collections/local-x86_64&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;Self Hosting&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;self-hosting&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#self-hosting&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Serpent OS is now officially self hosting. Using our own packages, we&amp;rsquo;re able to
construct a root filesystem, then within that rootfs container we can use our own
build tooling (&lt;code&gt;boulder&lt;/code&gt;) to construct &lt;strong&gt;new builds&lt;/strong&gt; of our packages in a nested
container.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;protosnek&lt;/code&gt; collection has been updated to include the newest versions of moss
and boulder.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./self-hosting.webp&#34; alt=&#34;self hosting&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;Booting&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;booting&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#booting&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;As a fun experiment, we wanted to see how far along things are. Using a throwaway
kernel + initrd build, we were able to get Serpent OS booting using virtualisation (&lt;code&gt;qemu&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./booting.webp&#34; alt=&#34;booting&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;ISO When?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;iso-when&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#iso-when&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Right now everyone is working in the &lt;a href=&#34;https://github.com/snekpit&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;snekpit&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; organisation to
get our base packaging in order. I&amp;rsquo;m looking to freeze &lt;code&gt;protosnek&lt;/code&gt;, our bootstrap collection,
at the latest of tomorrow evening.&lt;/p&gt;
&lt;p&gt;We now support layered, priority based collections (repositories) and dependency solving across
collection boundaries, allowing us to build our new &lt;code&gt;main&lt;/code&gt; collection with &lt;code&gt;protosnek&lt;/code&gt; acting as
a bootstrap seed.&lt;/p&gt;
&lt;p&gt;Throughout this week, I&amp;rsquo;ll focus on getting Avalanche, Summit and Vessel into shape for PoC so
that we can enjoy automated builds of packages landing in the yet-to-be-launched &lt;code&gt;volatile&lt;/code&gt; collection.&lt;/p&gt;
&lt;p&gt;From there, we&amp;rsquo;re going to iterate + improve packaging, fixing bugs and landing features as we
discover the issues. Initially we&amp;rsquo;ll look to integrate &lt;strong&gt;triggers&lt;/strong&gt; in a stateless-friendly
fashion (our packages can only ship &lt;code&gt;/usr&lt;/code&gt; by design) - after that will come boot management.&lt;/p&gt;
&lt;p&gt;An early target will be Qemu support via a stripped &lt;code&gt;linux-kvm&lt;/code&gt; package to accelerate the bring up,
and we encourage everyone to join in the testing. We&amp;rsquo;re self hosting, we know how to boot, and
now we&amp;rsquo;re able to bring the awesome.&lt;/p&gt;
&lt;p&gt;I cannot stress how important the support to the project is. Without it - I&amp;rsquo;m unable to work full
time on the project. Please consider supporting my development work via &lt;a href=&#34;https://github.com/sponsors/ikeycode?o=sd&amp;amp;sc=t&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitHub Sponsors&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;I&amp;rsquo;m so broke they&amp;rsquo;ve started naming black holes after my IBAN.&lt;/p&gt;

&lt;/blockquote&gt;
&lt;p&gt;Thank you!&lt;/p&gt;
&lt;p&gt;You can discuss this blog post over on &lt;a href=&#34;https://forums.serpentos.com/d/20-the-big-update&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;our forums&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Infrastructure Update</title>
      <link>http://localhost:1313/blog/blog/2022/07/10/infrastructure-update/</link>
      <pubDate>Sun, 10 Jul 2022 11:26:05 +0100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2022/07/10/infrastructure-update/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2022/07/10/infrastructure-update/Featured_hu_df840369546415db.webp" width="640" height="427"/>]]>
        
        &lt;p&gt;Since the last post, I&amp;rsquo;ve pivoted to full time work on Serpent OS, which is
made all the more possible thanks to everyone supporting us via &lt;a href=&#34;https://opencollective.com/serpent-os&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;OpenCollective&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; &amp;lt;3.&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ve been working towards establishing an online infrastructure to support the automation of package &lt;strong&gt;builds&lt;/strong&gt;, while
revisiting some core components.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h2&gt;moss-db&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;moss-db&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#moss-db&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;During the development of the Serpent OS tooling we&amp;rsquo;ve been exploring the possibilities of D Lang, picking up new
practices and refining our approach as we go. Naturally, some of our older modules are somewhat &amp;hellip; &lt;em&gt;smelly&lt;/em&gt;.
Most noticeable is our &lt;code&gt;moss-db&lt;/code&gt; module, which was initially intended as a lightweight wrapper around &lt;a href=&#34;http://rocksdb.org/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;RocksDB&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In practice that required an encapsulation API written in D around the C API, and our own wrapping on top of that. Naturally,
it resulted in a very allocation-heavy implementation that just didn&amp;rsquo;t sit right with us, and due to the absurd complexity
of RocksDB was still missing quite a few features.&lt;/p&gt;
&lt;h2&gt;Enter LMDB&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;enter-lmdb&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#enter-lmdb&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We&amp;rsquo;re now using the &lt;a href=&#34;https://www.symas.com/lmdb&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Lightning Memory-Mapped Database&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; as the driver implementation
for moss-db. In short, we get rapid reads, ACID transactions, bulk inserts, you name it. Our implementation takes
advantage of multiple database indexes (&lt;code&gt;MDB_dbi&lt;/code&gt;) in LMDB to partition the database into internal components,
so that we can provide &amp;ldquo;buckets&amp;rdquo;, or collections. These internal DBs are used for bucket mapping to permit a
key-compaction strategy - iteration of top level buckets and key-value pairs within a bucket.&lt;/p&gt;
&lt;h2&gt;Hat tip, boltdb&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;hat-tip-boltdb&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#hat-tip-boltdb&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The majority of the API was designed with the &lt;a href=&#34;https://github.com/boltdb/bolt&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;boltdb&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; API in mind. Additionally
it was built with &lt;code&gt;-preview=dip1000&lt;/code&gt; and &lt;code&gt;-preview=in&lt;/code&gt; enabled, ensuring safely scoped memory use and no
room for memory lifetime issues. While we prefer the use of generics, the API is built with &lt;code&gt;immutable(ubyte[]&lt;/code&gt;)
as the internal key and value type.&lt;/p&gt;
&lt;p&gt;Custom types can simply implement &lt;code&gt;mossEncode&lt;/code&gt; or &lt;code&gt;mossDecode&lt;/code&gt; to be instantly serialisable into the database
as keys, values or bucket identifiers.&lt;/p&gt;
&lt;p&gt;Example API usage:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-d&#34; data-lang=&#34;d&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;Database&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/* setup the DB with lmdb:// URI */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/* Write transaction */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;auto&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;update&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;scope&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nd&#34;&gt;@safe&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;auto&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bucket&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;bucket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;letters&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bucket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;a&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/* do something with the error */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;view&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nd&#34;&gt;@safe&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;foreach&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bucket&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;buckets&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;foreach&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;iterator&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bucket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;cm&#34;&gt;/* do something with the key value pairs, decoded as strings */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;cm&#34;&gt;/* WILL NOT COMPILE. tx is const scope ref :) */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;tx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;removeBucket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;numbers&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NoDatabaseError&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;Next for moss&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;next-for-moss&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#next-for-moss&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Moss will be ported to the new DB API and we&amp;rsquo;ll gather some performance metrics,
while implementing features like expired state garbage collection (disk cleanup),
searching for names/descriptions, etc.&lt;/p&gt;
&lt;h2&gt;Avalanche&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;avalanche&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#avalanche&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Early version of avalanche, in development&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Avalanche is a core component of our upcoming infrastructure, providing the
service for running builds on a local node, and a controller to coordinate
a group of builders.&lt;/p&gt;
&lt;p&gt;Summit will be the publicly accessible project dashboard, and will be responsible
for coordinating incoming builds to Avalanche controllers and repositories.
Developers will submit builds to Summit and have them dispatched correctly.&lt;/p&gt;
&lt;p&gt;So far we have the core service process in place for the Controller + Node,
and now we&amp;rsquo;re working on persistence and handshake. TLDR; fancy use of
moss-db and JSON Web tokens over mandated SSL. This means our build infra
will be scalable from day 1 allowing multiple builders to be online very
early on.&lt;/p&gt;
&lt;h2&gt;Timescale&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;timescale&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#timescale&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We&amp;rsquo;re planning to get an early version of our infrastructure up and running
within the next 2 weeks, and get builds flowing =)&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Packaging Automation, Next Steps</title>
      <link>http://localhost:1313/blog/blog/2022/06/22/packaging-automation-next-steps/</link>
      <pubDate>Wed, 22 Jun 2022 17:23:14 +0100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2022/06/22/packaging-automation-next-steps/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2022/06/22/packaging-automation-next-steps/Featured_hu_b556d9361462b00c.webp" width="640" height="360"/>]]>
        
        &lt;p&gt;Hot damn we&amp;rsquo;ve been busy lately. No, &lt;a href=&#34;https://gitlab.com/groups/serpent-os/-/activity&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;really&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.
The latest development cycle saw us focus exclusively on &lt;code&gt;boulder&lt;/code&gt;, our build tooling. As of
today it features a proof of concept &lt;code&gt;boulder new&lt;/code&gt; subcommand for the automatic generation of
packaging templates from an upstream source (i.e. tarball).&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;Before we really start this blog post off, I&amp;rsquo;d like to thank everyone who is supporting the
project! All of the &lt;a href=&#34;https://opencollective.com/serpent-os&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;OpenCollective&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; contributions will make it easier for me to work full
time on Serpent OS =) Much love &amp;lt;3&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Look at all the buildiness&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;But, but build &lt;em&gt;flavours&lt;/em&gt; &amp;hellip;&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;but-but-build-flavours-&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#but-but-build-flavours-&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Alright you got me there, certain projects prefer to abstract the configuration, build and
installation of packages and be provided with some kind of hint to the build system, i.e.
manually setting &lt;code&gt;autotools&lt;/code&gt;, etc.&lt;/p&gt;
&lt;p&gt;Serpent OS packaging is declarative and well structured, and relies on the use of RPM-style
&amp;ldquo;macros&amp;rdquo; for distribution integration and common tasks to ensure consistent packaging.&lt;/p&gt;
&lt;p&gt;We prefer a self documenting approach that can be machine validated rather than depending
on introspection at the time of build. Our &lt;code&gt;stone.yml&lt;/code&gt; format is very flexible and powerful,
with automatic runtime dependencies and package splitting as standard.&lt;/p&gt;
&lt;p&gt;..Doesn&amp;rsquo;t mean we can&amp;rsquo;t make packaging &lt;strong&gt;even easier&lt;/strong&gt; though.&lt;/p&gt;
&lt;h2&gt;Build discovery&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;build-discovery&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#build-discovery&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Pointing boulder at an upstream source will perform a deep analysis of the sources to determine
the build system type, build dependencies, metadata, licensing etc. Right now it&amp;rsquo;s just getting
ready to leave POC stage so it has a few warts, however it does have support for generating
package skeletons for the following build systems:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cmake&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;meson&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;autotools&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We&amp;rsquo;re adding automation for Perl and Python packaging (and Golang, Rust, etc) so we can enforce consistency,
integration and ease without being a burden on developers. This will greatly reduce the friction
of contribution - allowing anyone to package for Serpent OS.&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;re also able to automatically discover build time dependencies during analysis and add those
to the skeleton &lt;code&gt;stone.yml&lt;/code&gt; file. We&amp;rsquo;ll enhance support for other build systems as we go, ensuring
that each new package is as close to done on creation as possible, with review and iteration left
to the developer.&lt;/p&gt;
&lt;h2&gt;License compliance&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;license-compliance&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#license-compliance&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;A common pain in the arse when packaging for &lt;em&gt;any&lt;/em&gt; Linux distribution is ensuring the package
information is &lt;em&gt;compliant&lt;/em&gt; in terms of licensing. As such we must know all of the licensing
information, as well as FSF and OSI compliance for our continuous integration testing.&lt;/p&gt;
&lt;p&gt;&amp;hellip;Finding all of that information is truly a painful process when conducted manually.
Thankfully &lt;code&gt;boulder&lt;/code&gt; can perform analysis of all licensing files within the project to
greatly improve compliance and packaging.&lt;/p&gt;
&lt;p&gt;Every license listed in a &lt;code&gt;stone.yml&lt;/code&gt; file must use a valid &lt;a href=&#34;https://spdx.dev/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;SPDX&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; identifier,
and be accurate. boulder now scans all license files, looking for matches with both SPDX IDs
as well as fuzzy-matching the text of input licenses to make a best-guess at the license ID.&lt;/p&gt;
&lt;p&gt;This has so far been highly accurate and correctly identifies many hundreds of licenses,
ensuring a compliant packaging process with less pain for the developers. Over time we&amp;rsquo;ll
optimise and improve this process to ensure compliance &lt;em&gt;for&lt;/em&gt; our developers rather than
blocking them.&lt;/p&gt;
&lt;p&gt;As of today we support the &lt;a href=&#34;https://reuse.software/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;REUSE&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; specification for expressing software licenses too!&lt;/p&gt;
&lt;h2&gt;Next on the list&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;next-on-the-list&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#next-on-the-list&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The next steps are honest-to-goodness exciting for us. Or should I say.. exiting?&lt;/p&gt;
&lt;h2&gt;bill&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;bill&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#bill&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Work formally begins now on Bootstrap Bill (Turner). Whilst we did successfully bootstrap Serpent OS
and construct the &lt;code&gt;Protosnek&lt;/code&gt; repository, the process for that is &lt;strong&gt;not&lt;/strong&gt; reproducible as &lt;code&gt;boulder&lt;/code&gt;
has gone through massive changes in this time.&lt;/p&gt;
&lt;p&gt;The new &lt;a href=&#34;https://gitlab.com/serpent-os/core/bill&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;project&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; will leverage &lt;code&gt;boulder&lt;/code&gt; and a newly
designed bootstrap process to eliminate all host contamination and bootstrap Serpent OS from
&lt;code&gt;stone.yml&lt;/code&gt; files, emitting an &lt;em&gt;immutable&lt;/em&gt; bootstrap repository.&lt;/p&gt;
&lt;p&gt;Layering support will land in &lt;code&gt;moss&lt;/code&gt; and &lt;code&gt;boulder&lt;/code&gt; to begin the infrastructure projects.&lt;/p&gt;
&lt;h2&gt;Build Submission (&amp;ldquo;Let&amp;rsquo;s Roll&amp;rdquo;)&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;build-submission-lets-roll&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#build-submission-lets-roll&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The aim is to complete &lt;code&gt;bill&lt;/code&gt; in a very short time so we can bring some initial infrastructure
online to facilitate the automatic build of submitted build jobs. We&amp;rsquo;ll use this process
to create our live repository, replacing the initial bootstrap repository from bill.&lt;/p&gt;
&lt;p&gt;At this point all of the tooling we have will come together to allow us all to very
quickly iterate on packaging, polish up &lt;code&gt;moss&lt;/code&gt; and race towards installed systems with
online updates.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>A Word From The Founder</title>
      <link>http://localhost:1313/blog/blog/2022/06/06/a-word-from-the-founder/</link>
      <pubDate>Mon, 06 Jun 2022 20:36:51 +0100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2022/06/06/a-word-from-the-founder/</guid>
      <description>
        
        
        &lt;p&gt;Well well, it&amp;rsquo;s been a long time since I personally wrote a post.. :) So let&amp;rsquo;s keep
this short and sweet, shall we? I&amp;rsquo;m returning to full time work on Serpent OS.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;The 6th of July will be my last day at my current employment having tendered my
30 day notice today. Despite having enjoyment at my current position, the reality
is that my passion and focus is Serpent OS.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m now in a transition process and will ramp up my efforts with Serpent OS.
Realistically I need to reduce the outgoing costs of the project and with
your help I can gain some level of financial support as we move through the
next stages of development. Worst case, I will only take on any part-time or
contractual gigs, allowing my primary focus to be Serpent OS.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ll begin accelerating works and enabling community contribution so we can
get the derailed-alpha train back on the tracks.&lt;/p&gt;
&lt;p&gt;I have absolute faith in this project, the community and our shared ability
to deliver the OS and tooling. To achieve it will require far more of my time
and I&amp;rsquo;m perfectly willing to give it.&lt;/p&gt;
&lt;p&gt;Thank you all to everyone who has been supporting the project, it is now
time to deliver. Not just another run of the mill distribution but a technically
competent and usable distribution that is not only different but &lt;em&gt;better&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s do this in the most grassroots and enjoyable way possible =)&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>RELR Brings Smaller Files, More Performance?</title>
      <link>http://localhost:1313/blog/blog/2022/04/05/relr-brings-smaller-files-more-performance/</link>
      <pubDate>Tue, 05 Apr 2022 11:12:54 +1000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2022/04/05/relr-brings-smaller-files-more-performance/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2022/04/05/relr-brings-smaller-files-more-performance/Featured_hu_9234b1554289c485.webp" width="640" height="360"/>]]>
        
        &lt;p&gt;import FigureScreenshotOne from &amp;ldquo;@/components/ui/FigureScreenshotOne.astro&amp;rdquo;
import featuredImage from &amp;ldquo;./Featured.webp&amp;rdquo;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;RELR&lt;/code&gt; is an efficient method of storing relative relocations (but is not yet available in &lt;code&gt;glibc&lt;/code&gt; upstream). This has a
significant reduction on file size often in the vicinity of 5% for libraries and even higher for PIE binaries. We also
take a look at the performance impact on enabling &lt;code&gt;RELR&lt;/code&gt; and that looks really good too! Smaller files with more
performance - you &lt;strong&gt;can&lt;/strong&gt; have your cake and eat it too!&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h2&gt;Delicious Size Savings&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;delicious-size-savings&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#delicious-size-savings&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Everyone enjoys smaller files, especially when it&amp;rsquo;s for free! &lt;code&gt;RELR&lt;/code&gt; provides a very efficient method of storing
relative relocations where it only requires a few percent compared to storing them in the &lt;code&gt;.rela.dyn&lt;/code&gt; section which is
what currently happens. However, it can&amp;rsquo;t store everything so the &lt;code&gt;.rela.dyn&lt;/code&gt; section remains (though much smaller).&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s an example of the sections of &lt;code&gt;libLLVM-13.so&lt;/code&gt; with and without &lt;code&gt;RELR&lt;/code&gt;. Here we see the &lt;code&gt;.rela.dyn&lt;/code&gt; section taking
up a whole 2MB! When enabling &lt;code&gt;RELR&lt;/code&gt;, &lt;code&gt;.rela.dyn&lt;/code&gt; shrinks down to just under 100KB while adding a new section
&lt;code&gt;.relr.dyn&lt;/code&gt; which is just over 20KB! That&amp;rsquo;s nearly a 1.9MB file size reduction, so you&amp;rsquo;ll get smaller packages, smaller
updates and it will be even faster to create delta packages from our servers. For reference, some of the biggest files
have a &lt;code&gt;.rela.dyn&lt;/code&gt; section over 10MB!&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: center&#34;&gt;Section&lt;/th&gt;
          &lt;th&gt;Without RELR&lt;/th&gt;
          &lt;th&gt;With RELR&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;.dynstr&lt;/td&gt;
          &lt;td&gt;2,285,738&lt;/td&gt;
          &lt;td&gt;2,285,723&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;.rela.dyn&lt;/td&gt;
          &lt;td&gt;2,006,472&lt;/td&gt;
          &lt;td&gt;97,464&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;.relr.dyn&lt;/td&gt;
          &lt;td&gt;-&lt;/td&gt;
          &lt;td&gt;21,688&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;.text&lt;/td&gt;
          &lt;td&gt;28,708,290&lt;/td&gt;
          &lt;td&gt;28,708,386&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;.dynamic&lt;/td&gt;
          &lt;td&gt;592&lt;/td&gt;
          &lt;td&gt;608&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;Total&lt;/td&gt;
          &lt;td&gt;44,853,987&lt;/td&gt;
          &lt;td&gt;42,966,764&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;Smaller, But at What Cost?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;smaller-but-at-what-cost&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#smaller-but-at-what-cost&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;While most of the discussion about &lt;code&gt;RELR&lt;/code&gt; is around the size savings, there&amp;rsquo;s been very little in terms of the
performance numbers of enabling &lt;code&gt;RELR&lt;/code&gt;. For most things, it&amp;rsquo;s not going to make a noticeable difference, as it should
only really impact loading of binaries. There&amp;rsquo;s one rule we have and that&amp;rsquo;s to measure everything! We care about every
little detail where many 1-2% improvements can add up to significant gains.&lt;/p&gt;
&lt;p&gt;First, we require a test to determine if we could detect changes between an &lt;code&gt;LLVM&lt;/code&gt; built with &lt;code&gt;RELR&lt;/code&gt; and one without.
The speed of the compiler is vital to a distro, where lackluster performance of the build system hurts all contributors
and anyone performing source based builds. &lt;code&gt;clang&lt;/code&gt; in this example was built using a shared &lt;code&gt;libLLVM&lt;/code&gt; so that it would
load the &lt;code&gt;RELR&lt;/code&gt; section and it&amp;rsquo;s large enough to be able to measure a difference in load times (if one exists). Building
&lt;code&gt;gettext&lt;/code&gt; was the chosen test (total time includes tarball extraction, configure, make and make install stages), rather
than a synthetic binary loading test to reflect real world usage. The configure stage is very long when building
&lt;code&gt;gettext&lt;/code&gt; so &lt;code&gt;clang&lt;/code&gt; is called many times for short compiles. Lets take a look at the results:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;no RELR:
[Build] Finished: 1 minute, 57 secs, 80 ms, 741 μs, and 2 hnsecs
[Build] Finished: 1 minute, 57 secs, 691 ms, 586 μs, and 4 hnsecs
[Build] Finished: 1 minute, 56 secs, 861 ms, 31 μs, and 8 hnsecs

RELR:
[Build] Finished: 1 minute, 55 secs, 244 ms, 213 μs, and 8 hnsecs
[Build] Finished: 1 minute, 55 secs, 400 ms, 158 μs, and 8 hnsecs
[Build] Finished: 1 minute, 55 secs, 775 ms, 40 μs, and 8 hnsecs

RELR&amp;#43;startup patch:
[Build] Finished: 1 minute, 54 secs, 979 ms, 166 μs, and 8 hnsecs
[Build] Finished: 1 minute, 54 secs, 820 ms, and 675 μs
[Build] Finished: 1 minute, 54 secs, 713 ms, 440 μs, and 3 hnsecs&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Here we see the base configuration was able to build &lt;code&gt;gettext&lt;/code&gt; in 117.21s on average. When we enabled &lt;code&gt;RELR&lt;/code&gt; in our
&lt;code&gt;LLVM&lt;/code&gt; build (all other packages were without &lt;code&gt;RELR&lt;/code&gt; still), the average build time decreased by 1.74s! That does not
sound like a lot, but the time spent loading &lt;code&gt;clang&lt;/code&gt; would only be a portion of the total, yet still gives a 1-2%
performance lift over the whole build. While we were reducing start up time, I ran another test, but this time adding a
patch to reduce paths searched on startup as well as enabling &lt;code&gt;RELR&lt;/code&gt;. This patch reduced the average build time by a
further 0.63s!&lt;/p&gt;
&lt;p&gt;That&amp;rsquo;s a 2.37s reduction in the build just from improving the &lt;code&gt;clang&lt;/code&gt; binary&amp;rsquo;s load time.&lt;/p&gt;
&lt;h2&gt;What This Means - RELR by Default&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;what-this-means---relr-by-default&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#what-this-means---relr-by-default&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;So what actually is &lt;code&gt;RELR&lt;/code&gt;? I can&amp;rsquo;t really do the topic justice, so will point you to a great blog post about RELR,
&lt;a href=&#34;https://maskray.me/blog/2021-10-31-relative-relocations-and-relr&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Relative Relocations and RELR&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. It&amp;rsquo;s quite technical
for the average reader, but definitely worth a read if you like getting into the details. To no surprise the author
(Fangrui Song) started the initial push for getting &lt;code&gt;RELR&lt;/code&gt; support upstream in &lt;code&gt;glibc&lt;/code&gt; (at the time of this post the
patch series has not yet been committed to &lt;code&gt;glibc&lt;/code&gt; git).&lt;/p&gt;
&lt;p&gt;What I can tell you, is that we&amp;rsquo;ve applied the requisite patches for &lt;code&gt;RELR&lt;/code&gt; support and enabled &lt;code&gt;RELR&lt;/code&gt; by default in
&lt;code&gt;boulder&lt;/code&gt; for builds. Our container has been rebuilt and all is working well with &lt;code&gt;RELR&lt;/code&gt; enabled. More measurements will
be done in future in the same controlled manner, particularly around PIE load times.&lt;/p&gt;
&lt;h2&gt;Caveats - The Hidden Details&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;caveats---the-hidden-details&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#caveats---the-hidden-details&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The performance benchmark was quite limited in terms of being an optimal case for &lt;code&gt;RELR&lt;/code&gt; as &lt;code&gt;clang&lt;/code&gt; is called thousands
of times in the build so on average improved load time by about 0.6-0.7ms. We can presume that using &lt;code&gt;RELR&lt;/code&gt; on smaller
files is unlikely to regress load times. It definitely gives us confidence that it would be about the same or better in
most situations, but not noticeable or measurable in most use cases. Minimizing build times is a pretty significant
target for us, so even these small gains are appreciated.&lt;/p&gt;
&lt;p&gt;The size savings can vary between packages and not everything can be converted into the &lt;code&gt;.relr.dyn&lt;/code&gt; section. The current
default use of &lt;code&gt;RELR&lt;/code&gt; is not without cost as it adds a version dependency on &lt;code&gt;glibc&lt;/code&gt;. We will ensure we ship a sane
implementation that minimizes or removes such overhead.&lt;/p&gt;
&lt;p&gt;It was also not straight forward to utilize &lt;code&gt;RELR&lt;/code&gt; in Serpent. The pending upstream &lt;code&gt;glibc&lt;/code&gt;
&lt;a href=&#34;https://sourceware.org/pipermail/libc-alpha/2022-February/136290.html&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;patch series&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; included a patch which caused
issues when enabling &lt;code&gt;RELR&lt;/code&gt; in Serpent OS (patch 3/5). As we utilize two toolchains, &lt;code&gt;gcc/bfd&lt;/code&gt; and &lt;code&gt;clang/lld&lt;/code&gt;, both
need to function independently to create outputs of a functional OS. However the part &amp;ldquo;Issue an error if there is a
DT_RELR entry without GLIBC_ABI_DT_RELR dependency nor GLIBC_PRIVATE definition.&amp;rdquo; meant that &lt;code&gt;glibc&lt;/code&gt; would &lt;strong&gt;refuse to
load files linked by &lt;code&gt;lld&lt;/code&gt; despite having the ability to load them&lt;/strong&gt;. &lt;code&gt;lld&lt;/code&gt; has supported &lt;code&gt;RELR&lt;/code&gt; for some time already,
but does not create the &lt;code&gt;GLIBC_ABI_DT_RELR&lt;/code&gt; dependency that is required by &lt;code&gt;glibc&lt;/code&gt;. I have added my
&lt;a href=&#34;https://sourceware.org/pipermail/libc-alpha/2022-March/136773.html&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;feedback&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; to the patch set upstream. &lt;code&gt;lld&lt;/code&gt; now has
support for this version dependency upstream if we ever decide to use it in future.&lt;/p&gt;
&lt;p&gt;After dropping the patch and patching &lt;code&gt;bfd&lt;/code&gt; to no longer generate the &lt;code&gt;GLIBC_ABI_DT_RELR&lt;/code&gt; dependency either, I was
finally able to build both &lt;code&gt;glibc&lt;/code&gt; and &lt;code&gt;LLVM&lt;/code&gt; with the same patches. With overcoming that hurdle, rebuilding the rest of
the repository went without a hitch, so we are now enjoying &lt;code&gt;RELR&lt;/code&gt; in all of our builds and is enabled by default.&lt;/p&gt;
&lt;p&gt;There is even further scope for more size savings, by switching the &lt;code&gt;rela.dyn&lt;/code&gt; section for the &lt;code&gt;rel.dyn&lt;/code&gt; section (this
is what is used for 32-bit builds and one of the reasons files are smaller!). &lt;code&gt;lld&lt;/code&gt; supports switching the section type,
but I don&amp;rsquo;t believe &lt;code&gt;glibc&lt;/code&gt; will read the output as it expects the &lt;code&gt;psABI&lt;/code&gt; specified section (something &lt;code&gt;musl&lt;/code&gt; can
handle though).&lt;/p&gt;
&lt;FigureScreenshotOne image={featuredImage} caption=&#34;34 wasted bytes with GLIBC_ABI_DT_RELR&#34;/&gt;
&lt;h2&gt;The Cost of Adding GLIBC_ABI_DT_RELR&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;the-cost-of-adding-glibc_abi_dt_relr&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#the-cost-of-adding-glibc_abi_dt_relr&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;A quick check of two equivalent builds (one adding the &lt;code&gt;GLIBC_ABI_DT_RELR&lt;/code&gt; version dependency and one not), there was an
increase of 34 bytes to the file&amp;rsquo;s sections (18 bytes to &lt;code&gt;.dynstr&lt;/code&gt; and 16 bytes to &lt;code&gt;.gnu.version_r&lt;/code&gt;). It also means
having to validate that the &lt;code&gt;GLIBC_ABI_DT_RELR&lt;/code&gt; version is present in the &lt;code&gt;libc&lt;/code&gt; and that the file using &lt;code&gt;RELR&lt;/code&gt; includes
this version dependency. This may not sound like much but it is completely unnecessary! Note that the testing provided
in this blog post is without &lt;code&gt;GLIBC_ABI_DT_RELR&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Regardless of what eventuates, these negatives won&amp;rsquo;t ship in Serpent OS. This will allow for us to support files that
include the version dependency (when appimage and other distros catch up) as it will still exist in &lt;code&gt;libc&lt;/code&gt;, but we won&amp;rsquo;t
have the version check in files, nor will &lt;code&gt;glibc&lt;/code&gt; check that the version exists before loading for packages built by
&lt;code&gt;boulder&lt;/code&gt;.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Making Deltas Great Again! (Part 1)</title>
      <link>http://localhost:1313/blog/blog/2022/02/11/making-deltas-great-again-1/</link>
      <pubDate>Fri, 11 Feb 2022 20:45:12 +1100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2022/02/11/making-deltas-great-again-1/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2022/02/11/making-deltas-great-again-1/Featured_hu_c0129d35cf464b03.webp" width="640" height="242"/>]]>
        
        &lt;p&gt;import FigureScreenshotOne from &amp;ldquo;@/components/ui/FigureScreenshotOne.astro&amp;rdquo;
import featuredImage from &amp;ldquo;./Featured.webp&amp;rdquo;&lt;/p&gt;
&lt;p&gt;In &lt;a href=&#34;http://localhost:1313/blog/2021/03/16/optimising-package-distribution&#34;&gt;Optimising Package Distribution&lt;/a&gt; we discussed some early
findings for implementing binary deltas in Serpent OS. While discussing the implementation we have found the
requirements to be suboptimal for what we were after. We provide a fresh look at the issue and what we can do to make it
useful in almost all situations without the drawbacks.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h2&gt;Deltas Have a Bad Reputation&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;deltas-have-a-bad-reputation&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#deltas-have-a-bad-reputation&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;I remember back in the early 2000s on Gentoo when someone set up a server to produce delta patches from source tarballs
to distribute to users with small data caps such as myself. When requesting the delta, the job would be added to the
queue (which occasionally could be minutes) and then created a small patch to download. This was so important at the
time to reduce the download size that the extra time was well worth it!&lt;/p&gt;
&lt;p&gt;Today things are quite different. The case for deltas has reduced for users as internet speeds have increased. Shrinking
20MB off a package size may be a second reduction for some, but 10 seconds for others. The largest issue is that deltas
have typically pushed extra computational effort onto the users computer in compensation for the smaller size. With a
fast internet connection that cost is a real burden where deltas take longer to install than simply downloading the full
package.&lt;/p&gt;
&lt;h2&gt;What&amp;rsquo;s so Bad About the Old Method?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;whats-so-bad-about-the-old-method&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#whats-so-bad-about-the-old-method&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The previous idea of using the full payload for deltas was very efficient in terms of distribution, but required changes
in how &lt;code&gt;moss&lt;/code&gt; handles packages to implement it. Having the previous payload available (and being fast) means storing the
old payloads on disk. This increases the storage requirements for the base system, although that can be reduced by
compressing the payloads to reduce disk usage (but increasing CPU usage at install time).&lt;/p&gt;
&lt;p&gt;To make it work well, we needed the following requirements:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Install all the files from a package and recreate the payload from the individual files. However, Smart System
Management allows users to avoid installing unneeded locale files and we would not be able to recreate the full
payload without them.&lt;/li&gt;
&lt;li&gt;Alternatively we can store the full payloads on disk. Then there becomes a tradeoff from doubling storage space or
additional overhead from compressing the payloads to reduce it.&lt;/li&gt;
&lt;li&gt;Significant memory requirements to use a delta when a package is large.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In short we weren&amp;rsquo;t happy with having to increase the disk storage requirements (potentially more than 2x) or the
increase in CPU time to create compressed payloads to minimize it. This was akin to the old delta model, of smaller
downloads but significantly slower updates.&lt;/p&gt;
&lt;h2&gt;Exploring an Alternative Approach&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;exploring-an-alternative-approach&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#exploring-an-alternative-approach&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Optimal compression generally benefits from combining multiple files into one archive than to compress each file
individually. With &lt;code&gt;zstd&lt;/code&gt; deltas, since you read in a dictionary (the old file), you already have good candidates for
compression matching. The real question was simply whether creating a delta for each file was a viable method for delta
distribution (packaged into a single payload of course).&lt;/p&gt;
&lt;p&gt;As the real benefit of deltas is reducing download size, the first thing to consider is the size impact. Using the same
package as the previous blog post (but with newer versions of &lt;code&gt;QtWebEngine&lt;/code&gt; and &lt;code&gt;zstd&lt;/code&gt;) we look at what happens when you
delta each file individually. Note that the package is quite unique in that the largest file is 76% of the total package
size and that delta creation time increased a lot for files larger than 15-20MB at maximum compression.&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;&lt;/th&gt;
          &lt;th&gt;Full Tarball&lt;/th&gt;
          &lt;th&gt;Individual Files&lt;/th&gt;
          &lt;th&gt;Full Tarball &amp;ndash;zstd=chainLog=30&lt;/th&gt;
          &lt;th&gt;Individual Files &amp;ndash;zstd=chainLog=30&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;Time to create&lt;/td&gt;
          &lt;td&gt;134.6s&lt;/td&gt;
          &lt;td&gt;137.6s&lt;/td&gt;
          &lt;td&gt;157.9s&lt;/td&gt;
          &lt;td&gt;150.9s&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Size of delta&lt;/td&gt;
          &lt;td&gt;30.8MB&lt;/td&gt;
          &lt;td&gt;29.8MB&lt;/td&gt;
          &lt;td&gt;28.3MB&lt;/td&gt;
          &lt;td&gt;28.6MB&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Peak Memory&lt;/td&gt;
          &lt;td&gt;1.77GB&lt;/td&gt;
          &lt;td&gt;1.64GB&lt;/td&gt;
          &lt;td&gt;4.77GB&lt;/td&gt;
          &lt;td&gt;2.64GB&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Quite surprisingly, the delta sizes were very close! Most surprising was that without increasing the size of the
chainLog in &lt;code&gt;zstd&lt;/code&gt;, the individual file approach actually resulted in smaller deltas! We can also see how much lower the
memory requirements were (and they would be much smaller when there isn&amp;rsquo;t one large file in the package!). Our locale
and doc trimming of files will still work nicely, as we don&amp;rsquo;t need to recreate the locale files that aren&amp;rsquo;t installed
(as we still don&amp;rsquo;t want them!).&lt;/p&gt;
&lt;p&gt;The architecture of &lt;code&gt;moss&lt;/code&gt; allows us to cache packages, where all cached packages are available for generating multiple
system roots including with our build tool &lt;code&gt;boulder&lt;/code&gt; without any need for the original package file. Therefore any need
to retain old payloads or packages is no longer required or useful, eliminating the drawbacks of the previous delta
approach. The memory requirements are also reduced as the maximum memory requirement scales with the size of the largest
file, rather than the entire package (which is generally a lot bigger). There are many packages containing hundreds of
MBs of uncompressed data and a few into the GBs. But the largest file I could find installed locally was only 140MB, and
only a handful over 100MB. This smaller increase in memory requirements is a huge improvement and the small increase in
memory use to extract the deltas is likely to go unnoticed by users.&lt;/p&gt;
&lt;p&gt;Well everything sounds pretty positive so far, there must be some drawback?&lt;/p&gt;
&lt;FigureScreenshotOne image={featuredImage} caption=&#34;&#34;/&gt;
&lt;h2&gt;The Impact on Package Cache Time&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;the-impact-on-package-cache-time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#the-impact-on-package-cache-time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;As the testing method for this article is quite simplistic (&lt;code&gt;bash&lt;/code&gt; loops and calls to &lt;code&gt;zstd&lt;/code&gt; directly), the additional
overhead from creating deltas for individual files I estimated to be about 20ms compared to a proper solution. The main
difference from the old delta method is how we extract the payloads and recreate the files of the new package. Using the
full package you simply extract the content payload and split it into its corresponding files. The new approach requires
two steps, extracting the payload (we could in theory not compress it) and then applying patches to the original files
to recreate the new ones. Note that times differ slightly from the previous table due to minor variations between test
runs.&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;&lt;/th&gt;
          &lt;th&gt;Normal Package&lt;/th&gt;
          &lt;th&gt;Individual Delta File Package&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;Time to Delta Files&lt;/td&gt;
          &lt;td&gt;-&lt;/td&gt;
          &lt;td&gt;148.0s (137 files)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Time to Compress Payload&lt;/td&gt;
          &lt;td&gt;78.6s&lt;/td&gt;
          &lt;td&gt;4.0s&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Size of Uncompressed Payload&lt;/td&gt;
          &lt;td&gt;165.8MB&lt;/td&gt;
          &lt;td&gt;28.9MB&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Size of Compressed Payload&lt;/td&gt;
          &lt;td&gt;51.3MB&lt;/td&gt;
          &lt;td&gt;28.6MB&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Instructions to Extract Payload&lt;/td&gt;
          &lt;td&gt;2,876.9m (349ms)&lt;/td&gt;
          &lt;td&gt;33.1m (34ms)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Instructions to Recreate Files&lt;/td&gt;
          &lt;td&gt;-&lt;/td&gt;
          &lt;td&gt;1,785.6m (452ms)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Total instructions to Extract&lt;/td&gt;
          &lt;td&gt;2,876.9m (349ms)&lt;/td&gt;
          &lt;td&gt;1,818.7m (486ms)&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;What&amp;rsquo;s important to note is that is this reflects a worst case scenario for the delta approach, where all 137 files were
different between the old and new version of the package. Package updates where files remain unchanged allows us to omit
them from the delta package altogether! So the delta approach not only saves time downloading files, but also requires
fewer CPU instructions to apply the update. It&amp;rsquo;s not quite a slam dunk though as reading the original file as a
dictionary results in an increase in elapsed time of extraction (though the extra time is likely much less than the time
saved downloading 20MB less!).&lt;/p&gt;
&lt;p&gt;In Part 2 we will look at some ways we can tweak the approach to balance the needed resources for creating delta
packages and to reduce the time taken to apply them.&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;
Note: This was intended to be a 2 part series as it contains a lot of information to digest.
However, Part 2 was committed and follows below.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;There&amp;rsquo;s more than one way to create a delta! This post follows on from the earlier analysis of creating some basic
delta packages. Where this approach, and the use of &lt;code&gt;zstd&lt;/code&gt;, really thrives is that it gives us options in how to manage
the overhead, from creating the deltas to getting them installed locally. Next we explore some ideas of how we can
minimize the caching time of delta files.&lt;/p&gt;
&lt;h2&gt;Improving Delta Cache Time&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;improving-delta-cache-time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#improving-delta-cache-time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;To get the best bang for your buck with deltas, it is essential to reduce the size of the larger files. My experience in
testing was that there wasn&amp;rsquo;t a significant benefit from creating deltas for small files. In this example, we only
create delta files when they are larger than a specific size while including the full version of files that are under
the cutoff. This reduces the number of delta files created without impacting the overall package size by much.&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;Only Delta Files Greater Than&lt;/th&gt;
          &lt;th&gt;Greater than 10KB&lt;/th&gt;
          &lt;th&gt;Greater than 100KB&lt;/th&gt;
          &lt;th&gt;Greater than 500KB&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;Time to Delta Files&lt;/td&gt;
          &lt;td&gt;146.1s (72 files)&lt;/td&gt;
          &lt;td&gt;146.3s (64 files)&lt;/td&gt;
          &lt;td&gt;139.4s (17 files)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Time to Compress Payload&lt;/td&gt;
          &lt;td&gt;3.9s&lt;/td&gt;
          &lt;td&gt;4.0s&lt;/td&gt;
          &lt;td&gt;8.3s&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Size of Uncompressed Payload&lt;/td&gt;
          &lt;td&gt;28.9MB&lt;/td&gt;
          &lt;td&gt;29.3MB&lt;/td&gt;
          &lt;td&gt;42.4MB&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Size of Compressed Payload&lt;/td&gt;
          &lt;td&gt;28.6MB&lt;/td&gt;
          &lt;td&gt;28.7MB&lt;/td&gt;
          &lt;td&gt;30.5MB&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Instructions to Extract Payload&lt;/td&gt;
          &lt;td&gt;37.8m (36ms)&lt;/td&gt;
          &lt;td&gt;34.7m (29ms)&lt;/td&gt;
          &lt;td&gt;299.1m (66ms)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Instructions to Recreate Files&lt;/td&gt;
          &lt;td&gt;1,787.7m (411ms)&lt;/td&gt;
          &lt;td&gt;1,815.0m (406ms)&lt;/td&gt;
          &lt;td&gt;1,721.4m (368ms)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Total instructions to Extract&lt;/td&gt;
          &lt;td&gt;1,825.5m (447ms)&lt;/td&gt;
          &lt;td&gt;1,849.7m (435ms)&lt;/td&gt;
          &lt;td&gt;2,020.5m (434ms)&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Here we see that by not creating deltas for files under 100KB, it barely impacts the size of the delta at all, while
reducing caching time by 50ms compared to creating a delta for every file (486ms from the previous blog post). It even
leads to up to a 36% reduction in CPU instructions to undertake caching through the delta than using the full package.
In terms of showing how effective this delta technique really is, I chose one of the worst examples and I would expect
that many deltas would be faster to cache when there&amp;rsquo;s files that are exact matches between the old and new package. The
largest file alone took 300ms to apply the delta, where overheads tend to scale a lot when you start getting to larger
files.&lt;/p&gt;
&lt;p&gt;There are also some steps we can take to make sure that caching a delta is almost always faster than the full package
(solving the only real drawback to users), only requiring Serpent OS resources to create these delta packages.&lt;/p&gt;
&lt;h2&gt;Creating More Efficient Deltas&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;creating-more-efficient-deltas&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#creating-more-efficient-deltas&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;For this article, all the tests have been run with &lt;code&gt;zstd --ultra -22 --zstd=chainLog=30&lt;/code&gt;&amp;hellip;until now! The individual
file delta approach is more robust at lower compression levels to keep package size small while reducing how long they
take to create. Lets take a look at the difference while also ensuring &lt;code&gt;--long&lt;/code&gt; is enabled. This testing combined with
the results above for only creating deltas for files larger than 10KB.&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;Individual Delta File Package&lt;/th&gt;
          &lt;th&gt;zstd -12&lt;/th&gt;
          &lt;th&gt;zstd -16&lt;/th&gt;
          &lt;th&gt;zstd -19&lt;/th&gt;
          &lt;th&gt;zstd -22&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;Time to Delta Files&lt;/td&gt;
          &lt;td&gt;6.7s&lt;/td&gt;
          &lt;td&gt;113.9s&lt;/td&gt;
          &lt;td&gt;142.3s&lt;/td&gt;
          &lt;td&gt;148.3s&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Time to Compress Payload&lt;/td&gt;
          &lt;td&gt;0.5s&lt;/td&gt;
          &lt;td&gt;3.2s&lt;/td&gt;
          &lt;td&gt;5.3s&lt;/td&gt;
          &lt;td&gt;4.0s&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Size of Uncompressed Payload&lt;/td&gt;
          &lt;td&gt;41.1MB&lt;/td&gt;
          &lt;td&gt;30.6MB&lt;/td&gt;
          &lt;td&gt;28.9MB&lt;/td&gt;
          &lt;td&gt;28.9MB&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Size of Compressed Payload&lt;/td&gt;
          &lt;td&gt;40.9MB&lt;/td&gt;
          &lt;td&gt;30.3MB&lt;/td&gt;
          &lt;td&gt;28.6MB&lt;/td&gt;
          &lt;td&gt;28.6MB&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Instructions to Extract Payload&lt;/td&gt;
          &lt;td&gt;46.5m (35ms)&lt;/td&gt;
          &lt;td&gt;51.2m (28ms)&lt;/td&gt;
          &lt;td&gt;42.6m (33ms)&lt;/td&gt;
          &lt;td&gt;37.8m (36ms)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Instructions to Recreate Files&lt;/td&gt;
          &lt;td&gt;1,773.7m (382ms)&lt;/td&gt;
          &lt;td&gt;1,641.5m (385ms)&lt;/td&gt;
          &lt;td&gt;1,804.2m (416ms)&lt;/td&gt;
          &lt;td&gt;1,810.9m (430ms)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Total instructions to Extract&lt;/td&gt;
          &lt;td&gt;1,820.2m (417ms)&lt;/td&gt;
          &lt;td&gt;1,692.7m (413ms)&lt;/td&gt;
          &lt;td&gt;1,846.8m (449ms)&lt;/td&gt;
          &lt;td&gt;1,848.7m (466ms)&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Compression levels 16-19 look quite interesting where you start to reduce the time taken to apply the delta as well
and only seeing a small increase in size. For comparison, at &lt;code&gt;-19&lt;/code&gt; it only took 9s to delta the remaining 39.8MB of
files when excluding the largest file (it was 15s at &lt;code&gt;-22&lt;/code&gt;). While the time taken between 19 and 22 was almost the same,
at &lt;code&gt;-19&lt;/code&gt; it took 27% fewer instructions to create the deltas than at &lt;code&gt;-22&lt;/code&gt; (&lt;code&gt;-16&lt;/code&gt; uses 64% fewer instructions than
&lt;code&gt;-22&lt;/code&gt;). It will need testing across a broader range of packages to see the overall impact and to evaluate a sensible
default.&lt;/p&gt;
&lt;p&gt;As a side effect of reducing the compression level, you also get another small decrease in the time to cache a package.
The best news of all is that these numbers are already out of date. Testing was performed last year with &lt;code&gt;zstd&lt;/code&gt; 1.5.0,
where there have been notable speed improvements to both compression and decompression that have been included in newer
releases. Great news given how fast it is already! Here&amp;rsquo;s a quick summary of how it all ties together.&lt;/p&gt;
&lt;h2&gt;Delta&amp;rsquo;s Are Back!&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;deltas-are-back&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#deltas-are-back&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This blog series has put forward a lot of data that might be difficult to digest&amp;hellip;but what does it mean for users of
Serpent OS? Here&amp;rsquo;s a quick summary of the advantages of using this delta method on individual files when compared to
fetching the full packages:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Package update sizes are greatly reduced to speed up fetching of package updates.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;moss&lt;/code&gt; architecture means that we have no need to leave packages on disk for later use, reducing the storage
footprint. In fact, we could probably avoid writes (except for the extracted package of course!) by downloading
packages to &lt;code&gt;tmpfs&lt;/code&gt; where you have sufficient free memory.&lt;/li&gt;
&lt;li&gt;Delta&amp;rsquo;s can be used for updating packages for packaging &lt;strong&gt;and&lt;/strong&gt; your installed system. There&amp;rsquo;s no need for a full
copy of the full original package for packaging. A great benefit when combined with the source repository.&lt;/li&gt;
&lt;li&gt;Delta&amp;rsquo;s are often overlooked due to being CPU intensive while most people have pretty decent internet speeds. This has
a lot to do with how they are implemented.&lt;/li&gt;
&lt;li&gt;With the current vision for Serpent OS deltas they will require fewer CPU instructions to use than full packages, but
may slightly increase the time to cache some packages (but we are talking ms). But we haven&amp;rsquo;t even considered the
reduction in time taken to download the delta vs the full package which more than makes up the difference!&lt;/li&gt;
&lt;li&gt;The memory requirements are reduced compared to the prior delta approach, especially if you factor in extracting the
payload in memory (possibly using &lt;code&gt;tmpfs&lt;/code&gt;) as part of installation.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Getting More Bang for Your Buck&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;getting-more-bang-for-your-buck&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#getting-more-bang-for-your-buck&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;There&amp;rsquo;s still plenty more work to be done for implementing delta&amp;rsquo;s in Serpent OS and they likely aren&amp;rsquo;t that helpful
early on. To make delta packages sustainable and efficient over the long run, we can make them even better and reduce
some wastage. Here are some more ideas in how to make deltas less resource intensive and better for users:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;As we delta each file individually, we could easily use two or more threads to speed up caching time. Using this
package as an example, two threads would reduce the caching time to 334ms, the time the largest file took to recreate
plus the time to extract the payload. Now the delta takes less time and CPU to cache than the full package!&lt;/li&gt;
&lt;li&gt;&lt;code&gt;zstd&lt;/code&gt; gives us options to tradeoff some increase in delta size to reduce the resources needed to create delta
packages. This testing was performed with &lt;code&gt;--ultra -22 --zstd=chainLog=30&lt;/code&gt; which is quite slow, but produces the
smallest files. Even reducing the compression level to &lt;code&gt;-16 --long&lt;/code&gt; didn&amp;rsquo;t result in a large increase in delta size.&lt;/li&gt;
&lt;li&gt;We always have the option to not create deltas for small packages to ease the burden, but in reality the biggest
overhead is created from large files.&lt;/li&gt;
&lt;li&gt;When creating deltas, you typically generate them for multiple prior releases. We can use smart criteria when to stop
delta generation from earlier releases for instance if they save less than 10% total size or less than 100KB. A delta
against an earlier release will almost always be larger than versus a more recent release.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Even Better than These Numbers Suggest&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;even-better-than-these-numbers-suggest&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#even-better-than-these-numbers-suggest&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;While the numbers included have been nothing short of remarkable, they don&amp;rsquo;t quite reflect how good this approach will
be. The results shown lack some of the key advantages of our delta approach such as excluding files that are unchanged
between the two packages. Other things that will show better results are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When package updates include minimal changes between versions (and smaller files), we would expect the average package
to be much closer in elapsed time than indicated in these results.&lt;/li&gt;
&lt;li&gt;A quick test using a delta of two package builds of the same source version resulted in a 13MB delta (rather than the
28.6MB delta we had here). On top of that it took 62% fewer CPU instructions and less time (295ms) than the full
package to extract (349ms) without resorting to multi-threading.&lt;/li&gt;
&lt;li&gt;Delta creation of the average package will be quite fast where the largest files are &amp;lt; 30MB. In our example, one file
is 76% of the package size (126MB) but can take nearly 95% of the total creation time!&lt;/li&gt;
&lt;li&gt;We will be applying features to our packages that will reduce file sizes (such as the much smaller RELR relocations
and identical code folding), making the approach even better, but that will be for a future blog post.&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>Can Hardly Contain Myself, Plus a Bonus</title>
      <link>http://localhost:1313/blog/blog/2022/01/20/can-hardly-contain-myself-plus-a-bonus/</link>
      <pubDate>Thu, 20 Jan 2022 18:08:07 +1100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2022/01/20/can-hardly-contain-myself-plus-a-bonus/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2022/01/20/can-hardly-contain-myself-plus-a-bonus/Featured_hu_a46468dd6d1689d9.webp" width="640" height="360"/>]]>
        
        &lt;p&gt;One of the core steps for building a package is setting up a minimal environment with only the required (and stated)
dependencies. Currently we have been building our stones in an &lt;code&gt;systemd-nspawn&lt;/code&gt; container, where the root contains every
package that&amp;rsquo;s been built so far. This makes the environment extremely difficult to reproduce!&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;Today we announce &lt;code&gt;moss-container&lt;/code&gt;, a simple but flexible container creator that we can integrate for proper
containerized builds.&lt;/p&gt;
&lt;h2&gt;Versatile For Many Use Cases&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;versatile-for-many-use-cases&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#versatile-for-many-use-cases&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Containers have a multitude of uses for a Linux distro, but our immediate use case is for reproducible container builds
for &lt;code&gt;boulder&lt;/code&gt;. However, we have plans to use &lt;code&gt;moss-container&lt;/code&gt; for testing, validation and benchmarking purposes as well.
Therefore it&amp;rsquo;s important to consider all workloads, so features like &lt;code&gt;fakeroot&lt;/code&gt; and &lt;code&gt;networking&lt;/code&gt; can be toggled on or
off depending on what features are needed.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;moss-container&lt;/code&gt; takes care of everything, the device nodes in the &lt;code&gt;/dev&lt;/code&gt; tree, mounting directories as &lt;code&gt;tmpfs&lt;/code&gt; so the
environment is left in a clean state, and mounting the &lt;code&gt;/sys&lt;/code&gt; and &lt;code&gt;/proc&lt;/code&gt; special file-systems. These are essential for
a fully functioning container where programs like &lt;code&gt;python&lt;/code&gt; and even &lt;code&gt;clang&lt;/code&gt; won&amp;rsquo;t work without them. And best of all,
it&amp;rsquo;s very fast so fits in well with the rest of our tooling!&lt;/p&gt;
&lt;p&gt;The next step is integrating &lt;code&gt;moss-container&lt;/code&gt; into &lt;code&gt;boulder&lt;/code&gt;, so that builds become reproducible across machines, and
makes it much easier for users to run builds on their host machines.&lt;/p&gt;
&lt;h2&gt;moss Now Understands Repositories&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;moss-now-understands-repositories&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#moss-now-understands-repositories&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Previously (but not covered in the blogs) work was also done on &lt;code&gt;moss&lt;/code&gt; so that it can understand and fetch &lt;code&gt;stone&lt;/code&gt;
packages from an online repo. This ties in nicely with the &lt;code&gt;moss-container&lt;/code&gt; work and is a requirement for finishing up a
proper build process for Serpent OS. We are now one step closer to having a full distribution cycle from building
packages and pushing those packages as system updates!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Container with functioning device nodes&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;Check Out The Development&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;check-out-the-development&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#check-out-the-development&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In case you&amp;rsquo;ve missed it, &lt;code&gt;ikey&lt;/code&gt; has been streaming some of the development of the tooling on his
&lt;a href=&#34;https://www.twitch.tv/ikeydoherty&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Twitch channel&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;. DLang is not as commonly used as other languages, so check it out
to see the advantages it brings. Streams are typically announced on twitter, or give him a follow to see when he next
goes live!&lt;/p&gt;
&lt;h2&gt;Bonus Content Refresh&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;bonus-content-refresh&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#bonus-content-refresh&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This year we&amp;rsquo;ve had a considerable number of new visitors and interest in Serpent OS. Unfortunately the content on the
website had been a bit stale and untouched for some time. There was some confusion and misunderstanding over some of the
terms and content. Some of the common issues were:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Subscriptions is a loaded term relating to software&lt;/li&gt;
&lt;li&gt;Subscriptions only referred to a fraction of the smart features&lt;/li&gt;
&lt;li&gt;Seemed targeted at advanced users with too many technical terms&lt;/li&gt;
&lt;li&gt;Lack of understanding around what moss and boulder do&lt;/li&gt;
&lt;li&gt;That features would add complexity when the tools were actually removing the complexity&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The good news is that a good chunk of it has been redone, including two new pages for our core tools &lt;code&gt;boulder&lt;/code&gt; and
&lt;code&gt;moss&lt;/code&gt;. &lt;code&gt;Subscriptions&lt;/code&gt; has been renamed to &lt;code&gt;Smart System Management&lt;/code&gt; to reflect its broader nature (which you can read
about &lt;a href=&#34;http://localhost:1313/tooling&#34;&gt;here&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Much of the content has also had a refresh or a rewrite, so if you&amp;rsquo;ve seen it before, it will likely be a lot easier to
digest now. But this isn&amp;rsquo;t the final state of the content, as more features will need to be added and there&amp;rsquo;s still a
few rough edges (and I like to rewrite things every once in awhile). Many ideas have been raised by our community in the
&lt;a href=&#34;https://matrix.to/#/#serpentos:matrix.org&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;matrix channel&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;, so a shout-out to the good folks we have hanging out there.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Performance Corner: Small Changes Pack a Punch</title>
      <link>http://localhost:1313/blog/blog/2021/12/14/performance-corner-small-changes-pack-a-punch/</link>
      <pubDate>Tue, 14 Dec 2021 18:14:23 +1100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/12/14/performance-corner-small-changes-pack-a-punch/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/12/14/performance-corner-small-changes-pack-a-punch/Featured_hu_17c9257dc425fed3.webp" width="640" height="382"/>]]>
        
        &lt;p&gt;Here we have another round of changes to make packages smaller and show just how much we care about performance and
efficiency! Today we are focusing mainly on &lt;code&gt;moss-format&lt;/code&gt; changes to reduce the size of its payloads. The purpose of
these changes is to reduce the size of packages, DB storage for transactions and memory usage for &lt;code&gt;moss&lt;/code&gt;. These changes
were made just before we moved out of bootstrap, so we wouldn&amp;rsquo;t have to rebuild the world after changing the format.
Lets get started!&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h2&gt;Squeezing Out the Last Blit of Performance&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;squeezing-out-the-last-blit-of-performance&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#squeezing-out-the-last-blit-of-performance&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;code&gt;Blitting&lt;/code&gt; in Serpent OS is the process of setting up a root, using hardlinks of files installed in the &lt;code&gt;moss&lt;/code&gt; store to
construct the system &lt;code&gt;/usr&lt;/code&gt; directory. Some initial testing showed &lt;code&gt;buildPath&lt;/code&gt; using about 3% of the total events
when installing a package with many files. As a system is made up of over 100,000 files, that&amp;rsquo;s a lot of paths that need
to be calculated! Performance is therefore important to minimize time taken and power consumed.&lt;/p&gt;
&lt;p&gt;After running a few benchmarks of &lt;code&gt;buildPath&lt;/code&gt;, there were a few tweaks which could improve the performance. Rather than
calculating the full path of the file, we can reuse the constant root path for each file instead, reducing &lt;code&gt;buildPath&lt;/code&gt;
events by 15%. Here we see some callgrind data from this small change (as it was difficult to pickup in the noise).&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;Before:
   48,766,347 ( 1.50%)  /usr/include/dlang/ldc/std/path.d:pure nothrow @safe immutable(char)[] std.path.buildPath
   34,241,805 ( 1.05%)  /usr/include/dlang/ldc/std/utf.d:pure nothrow @safe immutable(char)[] std.path.buildPath
   14,363,684 ( 0.44%)  /usr/include/dlang/ldc/std/range/package.d:pure nothrow @safe immutable(char)[] std.path.buildPath

After:
   40,357,800 ( 1.25%)  /usr/include/dlang/ldc/std/path.d:pure nothrow @safe immutable(char)[] std.path.buildPath
   29,523,966 ( 0.91%)  /usr/include/dlang/ldc/std/utf.d:pure nothrow @safe immutable(char)[] std.path.buildPath
   12,814,283 ( 0.40%)  /usr/include/dlang/ldc/std/range/package.d:pure nothrow @safe immutable(char)[] std.path.buildPath&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;Only Record What&amp;rsquo;s Needed!&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;only-record-whats-needed&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#only-record-whats-needed&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Our &lt;code&gt;Index Payload&lt;/code&gt; is used for extracting the &lt;code&gt;Content Payload&lt;/code&gt; into its hashed file names. As it has one job (and then
discarded), we could hone in on including only the information we needed. Previously an entry was a 32 byte key and
storing a 33 byte hash. We have now integrated the hash as a &lt;code&gt;ubyte[16]&lt;/code&gt; field, cut other unneeded fields so that we can
fit the whole entry into 32 bytes. That&amp;rsquo;s a 51% reduction in the size of the &lt;code&gt;Index Payload&lt;/code&gt; and about 25% smaller when
compressed.&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;Before: Index [Records: 3688 Compression: Zstd, Savings: 60.61%, Size: 239.72 KB]
After:  Index [Records: 3688 Compression: Zstd, Savings: 40.03%, Size: 118.02 KB]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;Too Many Entries Makes for a Large Payload&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;too-many-entries-makes-for-a-large-payload&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#too-many-entries-makes-for-a-large-payload&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;One of the bugbears about the Layout Payload, was the inclusion of &lt;code&gt;Directory&lt;/code&gt; paths for every single directory. This is
handy in that directories can be created easily before any files are included (to ensure they exist), but it comes at a
price. The issue was twofold, the extra entries made inspecting the file list take longer and also made the &lt;code&gt;Layout Payload&lt;/code&gt; larger than it needed to be. Therefore directories are no longer included as Layout entries with the exceptions
of empty directories and directories with different permissions. Lets compare &lt;code&gt;nano&lt;/code&gt; and &lt;code&gt;glibc&lt;/code&gt; builds before and
after the change:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;nano
Before: Layout [Records: 174 Compression: Zstd, Savings: 80.58%, Size: 13.78 KB]
After:  Layout [Records:  93 Compression: Zstd, Savings: 73.49%, Size:  9.15 KB]

glibc
Before: Layout [Records: 7879 Compression: Zstd, Savings: 86.88%, Size: 755.00 KB]
After:  Layout [Records: 6813 Compression: Zstd, Savings: 86.24%, Size: 689.20 KB]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;A surprisingly large impact from a small change, with 1,000 fewer entries for &lt;code&gt;glibc&lt;/code&gt; and cutting the Layout Payload
size of &lt;code&gt;nano&lt;/code&gt; by a third. What it shows is that it&amp;rsquo;s hugely beneficial where locales are involved and % size reduction
increases where you have fewer files. To give an example of how bad it could be, the KDE Frameworks package
&lt;code&gt;ktexteditor&lt;/code&gt; would have produced 300 entries in the Layout Payload, where 200 of those would have been for directories!
I&amp;rsquo;d estimate a 50% reduction in the Layout Payload size for this package! Here&amp;rsquo;s an example of how a locale file used
to be stored (where only the last line is added now).&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;  - /usr/share/locale [Directory]
  - /usr/share/locale/bg [Directory]
  - /usr/share/locale/bg/LC_MESSAGES [Directory]
  - /usr/share/locale/bg/LC_MESSAGES/nano.mo -&amp;gt; ec5b82819ec2355d4e7bbccc7d78ce60 [Regular]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This will be exceptionally useful for keeping the &lt;code&gt;LayoutDB&lt;/code&gt; slimmer and faster as the number of packages grows.&lt;/p&gt;
&lt;h2&gt;Cutting Back 1 Byte at a Time&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;cutting-back-1-byte-at-a-time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#cutting-back-1-byte-at-a-time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Next we removed recording the timestamps of files, which for reproducible builds, is often a number of little relevance
as you have to force them all to a fixed number. As &lt;code&gt;moss&lt;/code&gt; is de-duplicating for files, there&amp;rsquo;s a second issue where two
packages could have different timestamps for the same hash. Therefore it was considered an improvement to simply exclude
timestamps altogether. This improved install time as we no longer overwrite the timestamps and made the payload more
compressible due to replacing it with 8 bytes of padding. Unfortunately we weren&amp;rsquo;t quite able to free up 16 bytes to
reduce the size of each entry, but will be something to pursue in future.&lt;/p&gt;
&lt;p&gt;Another quick improvement was reducing the lengths of paths for each entry. &lt;code&gt;moss&lt;/code&gt; creates system roots and switches
between them by changing the &lt;code&gt;/usr&lt;/code&gt; symlink. Therefore, all system files need to be installed into &lt;code&gt;/usr&lt;/code&gt; or they will
not make up your base system. Therefore we have no need to store &lt;code&gt;/usr&lt;/code&gt; in the Payload so we strip &lt;code&gt;/usr/&lt;/code&gt; from the
paths (the extra / gives us another byte off!) which we recreate on install. This improved the uncompressed size of the
Payload, with only a minor reduction when compressed.&lt;/p&gt;
&lt;p&gt;Combined these result in about a 5% decrease in the compressed and uncompressed size of the &lt;code&gt;Layout Payload&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;Before: Layout [Records: 6812 Compression: Zstd, Savings: 86.24%, Size: 689.10 KB]
After: Layout [Records: 6812 Compression: Zstd, Savings: 86.20%, Size: 655.00 KB]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;Storing the Hash Efficiently&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;storing-the-hash-efficiently&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#storing-the-hash-efficiently&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Using the same method for the &lt;code&gt;Index Payload&lt;/code&gt;, we are now storing the hash as &lt;code&gt;ubyte[16]&lt;/code&gt;, but not directly in the
&lt;code&gt;Payload Entry&lt;/code&gt;. This gives us a sizeable reduction of 17 bytes per entry which is the most significant of all the
&lt;code&gt;Layout Payload&lt;/code&gt; changes. As the extra space was unneeded, it compressed well so only resulted in a small reduction in
the compressed Payload size.&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;Before: Layout [Records: 6812 Compression: Zstd, Savings: 86.20%, Size: 655.00 KB]
After: Layout [Records: 6812 Compression: Zstd, Savings: 83.92%, Size: 539.26 KB]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Planning payload changes&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;Hang On, Why am I Getting Faster Installation?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;hang-on-why-am-i-getting-faster-installation&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#hang-on-why-am-i-getting-faster-installation&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;As a side-effect of small code rewrites to implement these changes, we&amp;rsquo;ve seen a nice decrease in time to install
packages. There are fewer entries to iterate over with the removal of directories and &lt;code&gt;buildPath&lt;/code&gt; is now only called
once for each path. It goes to show that focusing on the small details leads to less, more efficient and faster code.
Here we find that we have now essentially halved the number of events related to &lt;code&gt;buildPath&lt;/code&gt; with all the changes
resulting in about a 5% reduction in install time. Note that for this test, over 80% of time is spent in &lt;code&gt;zstd&lt;/code&gt;
decompressing the package which we haven&amp;rsquo;t optimized (yet!). Here&amp;rsquo;s another look the &lt;code&gt;buildPath&lt;/code&gt; numbers factoring in
all the changes:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;Before:
   48,766,347 ( 1.50%)  /usr/include/dlang/ldc/std/path.d:pure nothrow @safe immutable(char)[] std.path.buildPath
   34,241,805 ( 1.05%)  /usr/include/dlang/ldc/std/utf.d:pure nothrow @safe immutable(char)[] std.path.buildPath
   14,363,684 ( 0.44%)  /usr/include/dlang/ldc/std/range/package.d:pure nothrow @safe immutable(char)[] std.path.buildPath

After:
   25,145,625 ( 0.79%)  /usr/include/dlang/ldc/std/path.d:pure nothrow @safe immutable(char)[] std.path.buildPath
   17,967,216 ( 0.57%)  /usr/include/dlang/ldc/std/utf.d:pure nothrow @safe immutable(char)[] std.path.buildPath
    7,761,417 ( 0.24%)  /usr/include/dlang/ldc/std/range/package.d:pure nothrow @safe immutable(char)[] std.path.buildPath&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;Summing it All Up&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;summing-it-all-up&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#summing-it-all-up&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;It was a pretty awesome weekend of work (a few weeks ago now), making some quick changes that will improve &lt;code&gt;Serpent OS&lt;/code&gt;
a great deal for a long time to come. This also means we have integrated all the quick format changes so we won&amp;rsquo;t have
to rebuild packages while bringing up the repos.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s a quick summary of the results of all these small changes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;51% reduction in the uncompressed size of the Index Payload&lt;/li&gt;
&lt;li&gt;25% reduction in the compressed size of the Index Payload&lt;/li&gt;
&lt;li&gt;29-50% reduction in the uncompressed size of the Layout Payload (much more with fewer files and more locales)&lt;/li&gt;
&lt;li&gt;12-15% reduction in the compressed size of the Layout Payload&lt;/li&gt;
&lt;li&gt;5% faster package installation for our benchmark (800ms to 760ms)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These are some pretty huge numbers and even excluded the massive improvements we made in the previous blog!&lt;/p&gt;
&lt;h2&gt;What if We Include the Previous Changes?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;what-if-we-include-the-previous-changes&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#what-if-we-include-the-previous-changes&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;I&amp;rsquo;m glad you asked, cause I was curious too! Here we see a before and after with all the changes included. For the
&lt;code&gt;Layout Payload&lt;/code&gt; we see a ~45% reduction in the compressed and uncompressed size. For the &lt;code&gt;Index Payload&lt;/code&gt; we have
reduced the uncompressed size by 67% and the compressed size by 56%. Together resulting in halving the compressed and
uncompressed size of the metadata of our stone packages!&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;Before:
Payload: Layout [Records: 5441 Compression: Zstd, Savings: 83.13%, Size: 673.46 KB] (113.61 KB compressed)
Payload: Index [Records: 2550 Compression: Zstd, Savings: 55.08%, Size: 247.35 KB] (111.11 KB compressed)

After:
Payload: Layout [Records: 4718 Compression: Zstd, Savings: 83.62%, Size: 374.42 KB] (61.33 KB compressed)
Payload: Index [Records: 2550 Compression: Zstd, Savings: 39.85%, Size: 81.60 KB] (49.01 KB compressed)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Now we proceed towards bringing up repos to enjoy our very efficient packages!&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Out of the Bootstrap - Towards Serpent OS</title>
      <link>http://localhost:1313/blog/blog/2021/12/02/out-of-the-bootstrap-towards-serpent-os/</link>
      <pubDate>Thu, 02 Dec 2021 18:07:12 +1100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/12/02/out-of-the-bootstrap-towards-serpent-os/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/12/02/out-of-the-bootstrap-towards-serpent-os/Featured_hu_fdc7e2cd0bafb172.webp" width="640" height="719"/>]]>
        
        &lt;p&gt;The initial &lt;code&gt;stone&lt;/code&gt; packages that will seed the first Serpent OS repo have now been finalized! This means that work
towards setting up the infrastructure for live package updates begins now. We plan on taking time to streamline the
processes with a focus of fixing issues at the source. In this way we can make packaging fast and efficient so we can
spend time working on features rather than package updates.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h2&gt;The End of Bootstrap&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;the-end-of-bootstrap&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#the-end-of-bootstrap&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Bootstrapping a distribution involves building a new toolchain and many packages needed to support it. For us bootstrap
was getting us to the point where we have built &lt;code&gt;stone&lt;/code&gt; packages that we can use to start an initial repository with
full working dependencies. This has been enabled by integrating dependencies into &lt;code&gt;moss&lt;/code&gt;, creating the first repo index.
Of note is that it is already enabled for 32bit support, so we have you covered there. While this is the end of
bootstrap, the fun has only just begun!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;The first install from the bootstrap&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;Where to Next?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;where-to-next&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#where-to-next&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The next goal is to make Serpent OS self-hosting, where we can build packages in a container and update the repo index
with the newly built packages. It is essentially a live repository accessible from the internet. There&amp;rsquo;s still plenty of
improvements to be made with the tooling, but will soon enable more users to participate in bringing Serpent OS into
fruition.&lt;/p&gt;
&lt;h2&gt;Becoming More Inclusive&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;becoming-more-inclusive&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#becoming-more-inclusive&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;While there&amp;rsquo;s a strong focus in Serpent OS on performance, the decision has been made to lower the initial requirements
for users. Despite AVX2 being an older technology, there are still computers sold today that don&amp;rsquo;t support it. Because
of this (and already having interested users who don&amp;rsquo;t have newer machines), the baseline requirement for Serpent OS
will be &lt;code&gt;x86_64-v2&lt;/code&gt;, which only requires SSE4.2.&lt;/p&gt;
&lt;p&gt;It was always the plan to add support for these machines, just later down the track. In reality, this makes a lot more
sense, as there will be many cases where building 2 versions of a package provides little value. This is where a package
takes a long time to build and doesn&amp;rsquo;t result in a notable performance improvement. We will always need the &lt;code&gt;x86_64-v2&lt;/code&gt;
version of a package to be compatible with the older machines. With this approach we can reduce the build server
requirements without a noticeable impact to users as only a few packages you use will be without extra optimizations
(and probably don&amp;rsquo;t benefit from them anyway).&lt;/p&gt;
&lt;p&gt;I want to make it clear that this will be temporary, with impactful &lt;code&gt;x86_64-v3+&lt;/code&gt; packages rolling out as soon as
possible. This change paves the way to integrate our technology stack taking care of your system for you and increases
its priority. Users meeting the requirements of the &lt;code&gt;x86_64-v3+&lt;/code&gt; instruction set (this includes additional instructions
beyond &lt;code&gt;x86_64-v3&lt;/code&gt;) will automatically start installing these faster packages as they become available. Our
&lt;code&gt;subscriptions&lt;/code&gt; model will seamlessly take care of everything for you behind the scenes so you don&amp;rsquo;t need to read a
wiki or forum to learn how to get these faster packages. We can utilize the same approach in future for our &lt;code&gt;ARM&lt;/code&gt; stack,
offering more optimized packages where it provides the most benefit.&lt;/p&gt;
&lt;p&gt;Note that from the bootstrap, most packages built in under 15s and only three took longer than 2 minutes.&lt;/p&gt;
&lt;h2&gt;Trying Out Some Tweaks From the Get Go&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;trying-out-some-tweaks-from-the-get-go&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#trying-out-some-tweaks-from-the-get-go&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;While the project is young is a great time to test out new technologies. The use of &lt;code&gt;clang&lt;/code&gt; and &lt;code&gt;lld&lt;/code&gt; open up new
possibilities to reduce file sizes, shorten load times and decrease memory usage. Some of these choices may have
impacts on compatibility, so testing them out will be the best way to grasp that. Making sure that you can run apps like
Steam is vital to the experience, so whatever happens we will make sure it works. The good news is that due to the
unique architecture of Serpent OS, we can push updates that break compatibility with just a reboot, so if we ever feel
the need to change the &lt;code&gt;libc&lt;/code&gt;, we can make the change without you having to reinstall! More importantly, we can test
major stack updates by rebooting into a staged update and go straight back to the old system, regardless of your file
system.&lt;/p&gt;
&lt;h2&gt;Speed Packaging!&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;speed-packaging&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#speed-packaging&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In the early days of the repository, tooling to make creating new packages as simple as possible is vital for
efficiency. Spending some time automating as much of the process as possible will take weeks off bringing up Serpent OS.
By making packaging as easy as possible will also help users when creating their own packages. While it would be faster
to work around issues, the build tooling upgrades will benefit everyone.&lt;/p&gt;
&lt;p&gt;The other way we&amp;rsquo;ll be speeding up the process is by holding back some of the tuning options by default. &lt;code&gt;LTO&lt;/code&gt; for
instance can result in much longer build times so will not initially be the default. The same is true for debug
packages, where it slows down progress without any tangible benefit.&lt;/p&gt;
&lt;h2&gt;Things Are Happening!&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;things-are-happening&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#things-are-happening&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We hope you are as excited as we are!&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>It All Depends</title>
      <link>http://localhost:1313/blog/blog/2021/11/23/it-all-depends/</link>
      <pubDate>Tue, 23 Nov 2021 23:45:06 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/11/23/it-all-depends/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/11/23/it-all-depends/Featured_hu_27ee0018c1fd4411.webp" width="640" height="427"/>]]>
        
        &lt;p&gt;It all depends.. it really does. On shared libraries.. interpreters.. &lt;code&gt;pkg-config&lt;/code&gt; providers
and packages. It&amp;rsquo;s the same story for all &amp;ldquo;package managers&amp;rdquo;, how do we ensure that the
installed software has everything it needs at runtime?&lt;/p&gt;
&lt;p&gt;Our merry crew has been involved in designing and building Linux distributions for a very, very
long time, so we didn&amp;rsquo;t want to simply repeat history.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Using updated moss&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Thanks to many improvements across our codebase, including &lt;code&gt;moss-deps&lt;/code&gt;, we automatically analyse
the assets in a package (rapidly too) to determine any dependencies we can add without requiring
the maintainer to list them. This is similar in nature to RPM&amp;rsquo;s behaviour.&lt;/p&gt;
&lt;p&gt;As such we encode dependencies into our (endian-aware, binary) format which is then stored in the
local installation database. Global providers are keyed for quick access, and the vast majority
of packages will not explicitly depend on another package&amp;rsquo;s &lt;em&gt;name&lt;/em&gt;, rather, they&amp;rsquo;ll depend on
a capability or provider. For subpackage dependencies that usually depend on &amp;ldquo;NEVRA&amp;rdquo; equality
(i.e. matching against a name with a minimum version, release, matching epoch and architecture),
we&amp;rsquo;ll introduce a lockstep dependency that can only be resolved from its origin source (repo).&lt;/p&gt;
&lt;p&gt;Lastly, we&amp;rsquo;ll always ensure there is no possibility for &amp;ldquo;partial update&amp;rdquo; woes. With these
considerations, we have no need to support &lt;code&gt;&amp;gt;=&lt;/code&gt; style dependencies, and instead rely on
strict design goals and maintainer responsibility.&lt;/p&gt;
&lt;h2&gt;First and foremost!&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;first-and-foremost&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#first-and-foremost&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The rapid move we&amp;rsquo;re enjoying from concept, to prototype, and soon to be fully fledged Linux distribution,
is only possible with the amazing community support. The last few months have seen us pull off some amazing
feats, and we&amp;rsquo;re now executing on our first public milestones. With your help, more and more hours can be
spent getting us ready for release, and would probably help to insulate my shed office! (Spoiler: its
plastic and electric heaters are expensive =))&lt;/p&gt;
&lt;h2&gt;The Milestones&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;the-milestones&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#the-milestones&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We have created our initial milestones that our quite literally our escape trajectory from
bootstrap to distro. We&amp;rsquo;re considerably closer now, hence this open announcement.&lt;/p&gt;
&lt;h2&gt;&lt;a href=&#34;https://gitlab.com/groups/serpent-os/-/milestones/1]&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;v0.0&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;: Container (&lt;code&gt;systemd-nspawn&lt;/code&gt;)&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;v00-container-systemd-nspawn&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#v00-container-systemd-nspawn&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Our first release medium will be a &lt;code&gt;systemd-nspawn&lt;/code&gt; compatible container image. Our primary
driver for this is to allow us to add encapsulation for our build tool, &lt;code&gt;boulder&lt;/code&gt;, permitting
us to create distributable builder images to seed our infrastructure and first public binary
repository.&lt;/p&gt;
&lt;h2&gt;&lt;a href=&#34;https://gitlab.com/groups/serpent-os/-/milestones/2&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;v0.1&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;: Bootable &amp;ldquo;image&amp;rdquo;&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;v01-bootable-image&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#v01-bootable-image&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Once our build infra is up and running (honestly a lot of work has been completed for this in
advance) we&amp;rsquo;ll work towards our first 0.1 image. This will initially target VM usage, with
a basic console environment and tooling (&lt;code&gt;moss&lt;/code&gt;, &lt;code&gt;boulder&lt;/code&gt;, etc).&lt;/p&gt;
&lt;h2&gt;And then..&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;and-then&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#and-then&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We have a clear linear path ahead of us, with each stage unlocking the next. During the development
of &lt;code&gt;v0.0&lt;/code&gt; and &lt;code&gt;v0.1&lt;/code&gt; we&amp;rsquo;ll establish our build and test infrastructure, and begin hosting our
package sources and binaries. At this point we can enter a rapid development cycle with
incremental, and considerable improvements. Such as a usable desktop experience and installer.. :)&lt;/p&gt;
&lt;h2&gt;Recent changes&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;recent-changes&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#recent-changes&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;I haven&amp;rsquo;t blogged in quite a while, as I&amp;rsquo;ve been deep in the trenches working on our core features.
As we&amp;rsquo;ve expressed before, we tend to work on the more complex systems &lt;em&gt;first&lt;/em&gt; and then glue them
together after to form a cohesive hole. The last few days have involved plenty of glue, and we now
have distinct package management features.&lt;/p&gt;
&lt;h2&gt;Refactor&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;refactor&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#refactor&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Replaced defunct InstallDB with reusable MetaDB for local installation of archives as well as
forming the backbone of repository support.&lt;/li&gt;
&lt;li&gt;Added &lt;code&gt;ActivePackagesPlugin&lt;/code&gt; to identify installed packages&lt;/li&gt;
&lt;li&gt;Swapped non cryptographic hash usage with &lt;code&gt;xxhash&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Dependencies&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;dependencies&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#dependencies&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Introduced new Transaction type to utilise a directed acyclical graph for dependency solving.&lt;/li&gt;
&lt;li&gt;Reworked moss-deps into plugins + registry core for all resolution operations.&lt;/li&gt;
&lt;li&gt;Locally provided &lt;code&gt;.stone&lt;/code&gt; files handled by &lt;code&gt;CobblePlugin&lt;/code&gt; to ensure we depsolve from this
set too.&lt;/li&gt;
&lt;li&gt;New Transaction set management for identifying state changes and ensuring full resolution
of target system state.&lt;/li&gt;
&lt;li&gt;Shared library and interpreter (DT_INTERP) dependencies and producers automatically encoded
into packages and resolved by depsolver.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Package Installation&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;package-installation&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#package-installation&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We handle locally provided &lt;code&gt;.stone&lt;/code&gt; packages passed to the &lt;code&gt;install&lt;/code&gt; command identically to
those found in a repository.  This eliminates a lot of special casing for local archives and
allows us to find dependencies within the provided set, before looking to the system and the
repositories.&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
    &lt;img src=&#34;./Install.webp&#34; title=&#34;Installing packages&#34; alt=&#34;Install&#34;  loading=&#34;lazy&#34; /&gt;
    &lt;figcaption&gt;Installing packages&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Dependency resolution is performed now for our package installation and is validated at
multiple points, allowing a package like nano to depend on compact automatic dependencies:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-d&#34; data-lang=&#34;d&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;Dependency&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DependencyType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;SharedLibraryName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;libc.so.6(x86_64)&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Note our format and database are binary and endian aware. The dependency type only requires
1 byte of storage and no string comparisons.&lt;/p&gt;
&lt;h2&gt;List packages&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;list-packages&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#list-packages&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Thanks to the huge refactor, we can now trivially access the installed packages as a list.
This code will be reused for a &lt;code&gt;list available&lt;/code&gt; command in future.&lt;/p&gt;
&lt;p&gt;Example &lt;code&gt;list installed&lt;/code&gt; output:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;                   file (5.4) - File type identification utility
             file-32bit (5.4) - Provides 32-bit runtime libraries for file
       file-32bit-devel (5.4) - Provides development files for file-32bit
             file-devel (5.4) - Development files for file
                   nano (5.5) - GNU Text Editor&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;figure&gt;
    &lt;img src=&#34;./ListInstalled.webp&#34; title=&#34;Listing installed packages&#34; alt=&#34;ListInstalled&#34;  loading=&#34;lazy&#34; /&gt;
    &lt;figcaption&gt;Listing installed packages&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2&gt;Inspect archives&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;inspect-archives&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#inspect-archives&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;For debugging and development purposes, we&amp;rsquo;ve moved our old &amp;ldquo;info&amp;rdquo; command to a new
&amp;ldquo;inspect&amp;rdquo; command to work directly on local &lt;code&gt;.stone&lt;/code&gt; files. This displays extended
information on the various payloads and their compression stats.&lt;/p&gt;
&lt;p&gt;For general users - the new &lt;code&gt;info&lt;/code&gt; command displays basic metadata and package
dependencies.&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
    &lt;img src=&#34;./Info.webp&#34; title=&#34;Display package information&#34; alt=&#34;Info&#34;  loading=&#34;lazy&#34; /&gt;
    &lt;figcaption&gt;Display package information&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2&gt;Package Removal&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;package-removal&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#package-removal&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Upon generating a new system state, &amp;ldquo;removed&amp;rdquo; packages are simply no longer installed. As such
no live mutation is performed. As of today we can now request the removal of packages from the
current state, which generates a new filtered state. Additionally we remove all reverse dependencies,
direct and transitive. This is accomplished by utilising a transposed copy of the directed acyclical
graph, identifying the relevant subgraph and occluding the set from the newly generated state.&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
    &lt;img src=&#34;./Remove.webp&#34; title=&#34;Remove packages&#34; alt=&#34;Remove&#34;  loading=&#34;lazy&#34; /&gt;
    &lt;figcaption&gt;Remove packages&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2&gt;Lastly&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;lastly&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#lastly&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The past few weeks have been especially enjoyable. I&amp;rsquo;ve truly had a fantastic time working on the project
and cannot wait for the team and I to start offering our first downloads, and iterate as a truly new
Linux distribution that borrows some ideas from a lot of great places, and fuses them into something
awesome.&lt;/p&gt;
&lt;p&gt;Keep toasty - this train isn&amp;rsquo;t slowing down.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Performance Corner: Faster Builds, Smaller Packages</title>
      <link>http://localhost:1313/blog/blog/2021/11/05/performance-corner-faster-builds-smaller-packages/</link>
      <pubDate>Fri, 05 Nov 2021 19:23:32 +1100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/11/05/performance-corner-faster-builds-smaller-packages/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/11/05/performance-corner-faster-builds-smaller-packages/Featured_hu_71fa9f3e59402b4e.webp" width="640" height="360"/>]]>
        
        &lt;p&gt;&lt;code&gt;Performance Corner&lt;/code&gt; is a new series where we highlight to you some changes in Serpent OS that may not be obvious, but
show a real improvement. Performance is a broad term that also covers efficiency, so things like making files smaller,
making things faster or reducing power consumption. In general things that are unquestionably improvements with little
or no downside. While the technical details may be of interest to some, the main purpose is to highlight the real
benefit to users and/or developers that will make using Serpent OS a more enjoyable experience. Show me the numbers!&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;Here we focus on a few performance changes &lt;code&gt;Ikey&lt;/code&gt; has been working on to the build process that are showing some pretty
awesome results! If you end up doing any source builds, you&amp;rsquo;ll be thankful for these improvements. Special thanks to
&lt;code&gt;ermo&lt;/code&gt; for the research into hash algorithms and enabling our ELF processing.&lt;/p&gt;
&lt;h2&gt;Start From the Beginning&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;start-from-the-beginning&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#start-from-the-beginning&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;When measuring changes, it&amp;rsquo;s always important to know where you&amp;rsquo;re starting from. Here are some results from a recent
&lt;code&gt;glibc&lt;/code&gt; build, but before these latest changes were incorporated.&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;Payload: Layout [Records: 5441 Compression: Zstd, Savings: 83.13%, Size: 673.46 KB]
Payload: Index [Records: 2550 Compression: Zstd, Savings: 55.08%, Size: 247.35 KB]
Payload: Content [Records: 2550 Compression: Zstd, Savings: 81.46%, Size: 236.72 MB]
 ==&amp;gt; &amp;#39;BuildState.Build&amp;#39; finished [4 minutes, 6 secs, 136 ms, 464 μs, and 7 hnsecs]
 ==&amp;gt; &amp;#39;BuildState.Analyse&amp;#39; finished [21 secs, 235 ms, 300 μs, and 2 hnsecs]
 ==&amp;gt; &amp;#39;BuildState.ProducePackages&amp;#39; finished [25 secs, 624 ms, 996 μs, and 8 hnsecs]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The build time is a little high, but a lot of that is due to a slow compiler on the host machine. But analysing and
producing packages was also taking a lot longer than it needed to.&lt;/p&gt;
&lt;h2&gt;The Death of moss-jobs in boulder&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;the-death-of-moss-jobs-in-boulder&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#the-death-of-moss-jobs-in-boulder&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In testing an equivalent build outside of &lt;code&gt;boulder&lt;/code&gt;, the build stages were about 5% faster. Testing under &lt;code&gt;perf&lt;/code&gt;, the
jobs system was a bit excessive for the needs of &lt;code&gt;boulder&lt;/code&gt;, polling for work when we already know the times when
parallel jobs would be useful. Removing &lt;code&gt;moss-jobs&lt;/code&gt; allowed for simpler codepaths using multiprocessing techniques from
the core language. This work is integrated in &lt;code&gt;moss-deps&lt;/code&gt; and the excess overhead of the build has now been eliminated.&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;Before:
 ==&amp;gt; &amp;#39;BuildState.Build&amp;#39; finished [4 minutes, 6 secs, 136 ms, 464 μs, and 7 hnsecs]
 ==&amp;gt; &amp;#39;BuildState.Analyse&amp;#39; finished [21 secs, 235 ms, 300 μs, and 2 hnsecs]
After:
[Build] Finished: 3 minutes, 53 secs, 386 ms, 306 μs, and 4 hnsecs
[Analyse] Finished: 8 secs, 136 ms, 22 μs, and 8 hnsecs&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The new results reflect a 26s reduction in the overall build time. But only 13s of this relates to the &lt;code&gt;moss-jobs&lt;/code&gt;
removal. The other major change is making the analyse stage parallel in &lt;code&gt;moss-deps&lt;/code&gt; (a key part of why we wanted
parallelism to begin with). Decreasing the time from 21.2s to 8.1s is a great achievement despite it doing more work as
we&amp;rsquo;ve also added ELF scanning for dependency information in-between these results.&lt;/p&gt;
&lt;h2&gt;New Hashing Algorithm&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;new-hashing-algorithm&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#new-hashing-algorithm&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;One of the unique features in &lt;code&gt;moss&lt;/code&gt; is using hashes for file names which allows full deduplication within packages,
the running system, previous system roots and for source builds with &lt;code&gt;boulder&lt;/code&gt;. Initially this was hooked up using
&lt;code&gt;sha256&lt;/code&gt;, but it was proving to be a bit of a slowdown.&lt;/p&gt;
&lt;p&gt;Enter &lt;code&gt;xxhash&lt;/code&gt;, the hash algorithm by Yann Collet for use in fast decompression software such as &lt;code&gt;lz4&lt;/code&gt; and &lt;code&gt;zstd&lt;/code&gt; (and
now in many places!). This is seriously fast, with the potential to produce hashes faster than RAM can feed the CPU. The
hash is merely used as a unique identifier in the context of deduplication, not a cryptographic verification of origin.
&lt;code&gt;XXH3_128bit&lt;/code&gt; has been chosen due to it having an almost zero probability of a collision across 10s of millions of
files.&lt;/p&gt;
&lt;p&gt;The benefit is actually two-fold. First of all, the hash length is halved from &lt;code&gt;sha256&lt;/code&gt;, so there&amp;rsquo;s savings in the
package metadata. This shouldn&amp;rsquo;t be understated as hash data is generally not as compressible as typical text and there
are packages with a lot of files! Here the metadata for the Layout and Index payloads has reduced by 232KB! That&amp;rsquo;s about
a 25% reduction with no other changes.&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;Before:
Payload: Layout [Records: 5441 Compression: Zstd, Savings: 83.13%, Size: 673.46 KB]
Payload: Index [Records: 2550 Compression: Zstd, Savings: 55.08%, Size: 247.35 KB]
After:
Payload: Layout [Records: 5441 Compression: Zstd, Savings: 86.66%, Size: 522.97 KB]
Payload: Index [Records: 2550 Compression: Zstd, Savings: 60.02%, Size: 165.75 KB]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Compressed this turns out to be about a 89KB reduction in the package size. For larger packages, this probably doesn&amp;rsquo;t
mean much but could help a lot more with delta packages. For deltas, we will be including the full metadata of the
Layout and Index payloads, so the difference will be more significant there.&lt;/p&gt;
&lt;p&gt;The other benefit of course is the speed and the numbers speak for themselves! A further 6.4s reduction in build time
removing most of the delay at the end of the build for the final package. This will also improve speeds for caching or
validating a package.&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;Before:
 ==&amp;gt; &amp;#39;BuildState.Analyse&amp;#39; finished [21 secs, 235 ms, 300 μs, and 2 hnsecs]
After:
[Analyse] Finished: 1 sec, 688 ms, 681 μs, and 8 hnsecs&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;With these changes combined, building packages can take 12x less time in the analyse stage, while reducing the size of
the metadata and the overall package. We do expect the analyse time to increase in future as we add more dependency
types, debug handling and stripping, but with the integrated parallel model, we can minimize the increase in time.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Building&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;We&amp;rsquo;re Not Done Yet&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;were-not-done-yet&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#were-not-done-yet&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The first installment of &lt;code&gt;Performance Corner&lt;/code&gt; shows some great wins to the Serpent OS tools and architecture. This is
just the beginning and there will likely be a follow up soon (you may have also noticed that it takes too long to make
the packages), and there&amp;rsquo;s a couple more tweaks to further decrease the size of the metadata. Kudos to &lt;code&gt;Ikey&lt;/code&gt; for
getting these implemented!&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Optimal File Locality</title>
      <link>http://localhost:1313/blog/blog/2021/10/04/optimal-file-locality/</link>
      <pubDate>Mon, 04 Oct 2021 16:49:12 +1100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/10/04/optimal-file-locality/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/10/04/optimal-file-locality/Featured_hu_d3377f6e9af65273.webp" width="640" height="206"/>]]>
        
        &lt;p&gt;File locality in this post refers to the order of files in our content payload. Yes that&amp;rsquo;s right, we&amp;rsquo;re focused on the
small details and incremental improvements that combined add up to significant benefits! All of this came about from
testing the efficiency of content payload in &lt;code&gt;moss-format&lt;/code&gt; and how well it compared against a plain tarball. One day
&lt;code&gt;boulder&lt;/code&gt; was looking extremely inefficient and then retesting the following day was proving to be extremely efficient
without any changes made to &lt;code&gt;boulder&lt;/code&gt; or &lt;code&gt;moss-format&lt;/code&gt;. What on Earth was going on?&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h2&gt;Making Sure you Aren&amp;rsquo;t Going Crazy!&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;making-sure-you-arent-going-crazy&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#making-sure-you-arent-going-crazy&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;To test the efficiency our content payload, the natural choice was to compare it to a tarball containing the same files.
When first running the test the results were quite frankly awful! Our payload was 10% larger than the equivalent
tarball! It was almost unbelievable in a way, so the following day I repeated the test again only this time the content
payload was smaller than the tarball. This didn&amp;rsquo;t actually make sense, I made the tarball with the same files, but
only changed the directory it was created from. Does it really matter?&lt;/p&gt;
&lt;h2&gt;File Locality Really Matters!&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;file-locality-really-matters&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#file-locality-really-matters&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Of course it does (otherwise it would be a pretty crappy blog post!). When extracting a &lt;code&gt;.stone&lt;/code&gt; package it creates two
directories, &lt;code&gt;mossExtract&lt;/code&gt; where the sha256sum named files are stored and &lt;code&gt;mossInstall&lt;/code&gt; where those files are
hardlinked to their full path name. The first day I created the tarball from &lt;code&gt;mossInstall&lt;/code&gt; and the second day I
realised that creating the tarball from &lt;code&gt;mossExtract&lt;/code&gt; would provide the closest match to the content payload since it
was a direct comparison. When compressing the tarballs to match the &lt;code&gt;.stone&lt;/code&gt; compression level, the tarball compressed
from &lt;code&gt;mossInstall&lt;/code&gt; was 10% smaller, despite the uncompressed tarball being slightly larger.&lt;/p&gt;
&lt;h2&gt;Compression Wants to Separate Apples and Oranges&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;compression-wants-to-separate-apples-and-oranges&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#compression-wants-to-separate-apples-and-oranges&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In simplistic terms, the way compression works is comparing data that it&amp;rsquo;s currently reading versus data that it&amp;rsquo;s read
earlier in the file. &lt;code&gt;zstd&lt;/code&gt; has some great options like &lt;code&gt;--long&lt;/code&gt; that increases the distance in which these matches can
be made at the cost of increased memory use. To limit memory use while making compression and decompression fast, it
takes shortcuts that reduce the compression ratio. For optimal compression, you want files that are most similar to
each other to be as close as possible. You won&amp;rsquo;t get as many matches from a text file to an ELF file as you would from a
similar looking text file.&lt;/p&gt;
&lt;h2&gt;Spot the Difference&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;spot-the-difference&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#spot-the-difference&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Files in &lt;code&gt;mossExtract&lt;/code&gt; are listed in their sha256sum order, which is basically random, where files in &lt;code&gt;mossInstall&lt;/code&gt; are
ordered by their path. Sorting files by path actually does some semblance of sorting where binaries are in &lt;code&gt;/usr/bin&lt;/code&gt;
and libraries are in &lt;code&gt;/usr/lib&lt;/code&gt; bringing them closer together. This is in no way a perfect order, but is a large
improvement on a random order (up to 10% in our case!).&lt;/p&gt;
&lt;p&gt;Our &lt;code&gt;glibc&lt;/code&gt; package has been an interesting test case for &lt;code&gt;boulder&lt;/code&gt;, where an uncompressed tarball of the install
directory was just under 1GB. As &lt;code&gt;boulder&lt;/code&gt; stores files by their sha256sum, it is able to deduplicate files that
are the same even when the build hasn&amp;rsquo;t used symlinks or hardlinks to prevent the wasted space. In this case, the
deduplication reduced the uncompressed size of the payload by 750MB alone (that&amp;rsquo;s a lot of duplicate locale data!). In
the &lt;code&gt;python&lt;/code&gt; package, it removes 1,870 duplicate cache files to reduce the installation size.&lt;/p&gt;
&lt;p&gt;As part of the deduplication process &lt;code&gt;boulder&lt;/code&gt; would sort files by sha256sum to remove duplicate hashes. If two files
have the same sha256sum, then only one copy needs to be stored. It also felt clean with the output of &lt;code&gt;moss info&lt;/code&gt;
looking nice where the hashes are listed in alphabetical order. But it was having a significant negative impact on
package sizes so that needed to be addressed by resorting the files by path order (a simple one-liner), making the
content payload more efficient than a tarball once again.&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: center&#34;&gt;Compression Level&lt;/th&gt;
          &lt;th&gt;sha256sum Order&lt;/th&gt;
          &lt;th&gt;File path Order&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;1&lt;/td&gt;
          &lt;td&gt;72,724,389&lt;/td&gt;
          &lt;td&gt;70,924,858&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;6&lt;/td&gt;
          &lt;td&gt;65,544,322&lt;/td&gt;
          &lt;td&gt;63,372,056&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;12&lt;/td&gt;
          &lt;td&gt;49,066,505&lt;/td&gt;
          &lt;td&gt;44,039,782&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;16&lt;/td&gt;
          &lt;td&gt;45,365,415&lt;/td&gt;
          &lt;td&gt;40,785,385&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;19&lt;/td&gt;
          &lt;td&gt;26,643,334&lt;/td&gt;
          &lt;td&gt;24,134,820&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;22&lt;/td&gt;
          &lt;td&gt;16,013,048&lt;/td&gt;
          &lt;td&gt;15,504,806&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Testing has shown that higher compression levels (and enabling &lt;code&gt;--long&lt;/code&gt;) is more forgiving of a suboptimal file order
(3-11% smaller vs only 2-5% smaller when using &lt;code&gt;--long&lt;/code&gt;). The table above is without &lt;code&gt;--long&lt;/code&gt; so the difference is
larger.&lt;/p&gt;
&lt;h2&gt;Hang On, Why Don&amp;rsquo;t You&amp;hellip;&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;hang-on-why-dont-you&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#hang-on-why-dont-you&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;There&amp;rsquo;s certainly something to this and sorting by file order is a first step. In future we can consider creating an
efficient order for files to improve locality. Putting all the ELF, image or text files together in the payload will
help to shave a bit off our package sizes at only the cost to sort the files. However, we don&amp;rsquo;t want to go crazy here,
the biggest impact on reducing package sizes will be using deltas as the optimal package delivery system (and there will
be a followup on this approach shortly). The &lt;code&gt;moss-format&lt;/code&gt; content payload is quite simple and contains no filenames or
paths in it. Therefore it&amp;rsquo;s effectively costless to switch around the order of files, so we can try out a few things and
see what happens.&lt;/p&gt;
&lt;h2&gt;An Academic Experiment&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;an-academic-experiment&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#an-academic-experiment&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;To prove the value of &lt;code&gt;moss-format&lt;/code&gt; and the content payload, I tried out some crude sorting methods and their impact on
compression for the package. As you want similar files chunked together, it divided the files into 4 groups, still
sorted by their path order in their corresponding chunk:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;gz:&lt;/strong&gt; gzipped files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;data:&lt;/strong&gt; non-text files that weren&amp;rsquo;t ELF&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;elf:&lt;/strong&gt; ELF files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;text:&lt;/strong&gt; text files (bash scripts, perl etc)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Path order vs optimal order&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;As the chart shows, you can get some decent improvements from reordering files within the tarball when grouping files
in logical chunks. At the highest compression level, the package is reduced by 0.83% without any impact on compression
or decompression time. In the compression world, such a change would be greatly celebrated!&lt;/p&gt;
&lt;p&gt;Also important to note was that just moving the gzipped files to the front of the payload was able to capture 40% of the
size improvement at high compression levels, but had slightly worse compression at levels 1-4. So simple changes to the
order (in this case moving non-compressible files to the edge of the payload) can provide a reduction in size at the
higher levels that we care about. We don&amp;rsquo;t want to spend a long time analyzing files for a small reduction in package
size, so we can start off with some basic concepts like this. Moving files that don&amp;rsquo;t compress a lot such as already
compressed files, images and video to the start of payload meaning that the remaining files are closer together. We also
need to test out a broader range of packages and the impact any changes would have on them.&lt;/p&gt;
&lt;h2&gt;Food For Thought?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;food-for-thought&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#food-for-thought&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;So ultimately the answer to the original question (was &lt;code&gt;moss-format&lt;/code&gt; efficient?), the answer is yes! While there are
some things that we still want to change to make it even better, in its current state package creation time was faster
and overheads were lower than with compressing an equivalent tarball. The compressed tarball at &lt;code&gt;zstd -16&lt;/code&gt; was 700KB
larger than the full &lt;code&gt;.stone&lt;/code&gt; file (which contains a bit more data than the tarball).&lt;/p&gt;
&lt;p&gt;The unique format also proves its worth in that we can make further adjustments to increase performance, reduce memory
requirements and reduce package sizes. What this experiment shows is that file order really does matter, but using the
basic sorting method of filepath gets you most of the way there and is likely good enough for most cases.&lt;/p&gt;
&lt;p&gt;Here are some questions we can explore in future to see whether there&amp;rsquo;s greater value in tweaking the file order:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Do we sort ELF files by path order, file name or by size?&lt;/li&gt;
&lt;li&gt;Does it matter the order of chunks in the file? (i.e. ELF-Images-Text vs Images-Text-ELF)&lt;/li&gt;
&lt;li&gt;How many categories do we need to segregate and order?&lt;/li&gt;
&lt;li&gt;Can we sort by extension? (i.e. for images, all the png files will be together and the jpegs together)&lt;/li&gt;
&lt;li&gt;Do we simply make a couple of obvious changes to order and leave &lt;code&gt;zstd&lt;/code&gt; to do the heavy lifting?&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>Unpacking the Build Process: Part 2</title>
      <link>http://localhost:1313/blog/blog/2021/09/20/unpacking-the-build-process-2/</link>
      <pubDate>Mon, 20 Sep 2021 16:04:12 +1000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/09/20/unpacking-the-build-process-2/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/09/20/unpacking-the-build-process-2/Featured_hu_5309a5a5bb100b9e.webp" width="640" height="195"/>]]>
        
        &lt;p&gt;import FigureScreenshotOne from &amp;ldquo;@/components/ui/FigureScreenshotOne.astro&amp;rdquo;
import featuredImage from &amp;ldquo;./Featured.webp&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Part 2 looks at the core of the build process, turning the source into compiled code. In Serpent OS this is handled by
our build tool &lt;code&gt;boulder&lt;/code&gt;. It is usually the part of the build that takes the longest, so where speed ups have the most
impact. How long it takes is largely down to the performance of your compiler and what compile flags you are building
with.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;This post follows on from &lt;a href=&#34;http://localhost:1313/blog/2021/08/25/unpacking-the-build-process-1&#34;&gt;Part 1&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Turning Source into Compiled Code&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;turning-source-into-compiled-code&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#turning-source-into-compiled-code&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The steps for compiling code are generally quite straight-forward:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Setting up the build (cmake, configure, meson)&lt;/li&gt;
&lt;li&gt;Compiling the source (in parallel threads)&lt;/li&gt;
&lt;li&gt;Installing the build into a package directory&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This will build software compiled against packages installed on your system. It&amp;rsquo;s a bit more complicated when packaging
as we first set up an environment to compile in (Part 1). But even then you have many choices to make and each can have
an impact on how long it takes to compile the code. Do you build with Link Time Optimizations (LTO) or Profile Guided
Optimizations (PGO), do you build the package for performance or for the smallest size? Then there&amp;rsquo;s packages that
benefit considerably from individual tuning flags (like &lt;code&gt;-fno-semantic-interposition&lt;/code&gt; with &lt;code&gt;python&lt;/code&gt;). With so many
possibilities, &lt;code&gt;boulder&lt;/code&gt; helps us utilize them through convenient configuration options.&lt;/p&gt;
&lt;h2&gt;What Makes boulder so Special?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;what-makes-boulder-so-special&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#what-makes-boulder-so-special&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;As I do a lot of packaging and performance tuning, &lt;code&gt;boulder&lt;/code&gt; is where I spend most of my time. Here are some key
features that &lt;code&gt;boulder&lt;/code&gt; brings to make my life easier.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ultimate control over build C/CXX/LDFLAGS via the tuning key&lt;/li&gt;
&lt;li&gt;Integrated 2 stage context sensitive PGO builds with a single line workload&lt;/li&gt;
&lt;li&gt;Able to switch between &lt;code&gt;gnu&lt;/code&gt; and &lt;code&gt;llvm&lt;/code&gt; toolchains easily&lt;/li&gt;
&lt;li&gt;Rules based package creation&lt;/li&gt;
&lt;li&gt;Control the extraction locations for multiple upstream tarballs&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;boulder&lt;/code&gt; will also be used to generate and amend our &lt;code&gt;stone.yml&lt;/code&gt; files to take care of as much as possible
automatically. This is only the beginning for &lt;code&gt;boulder&lt;/code&gt; as it will continue to be expanded to learn new tricks to make
packaging more automated and able to bring more information to help packagers know when they can improve their
&lt;code&gt;stone.yml&lt;/code&gt;, or alert them that something might be missing.&lt;/p&gt;
&lt;p&gt;Serpent OS is focused on the performance of produced packages, even if that means that builds will take longer to
complete. This is why we have put in significant efforts to speed up the compiler and setup tools in order to offset and
minimize the time needed to enable greater performance.&lt;/p&gt;
&lt;h2&gt;Why do You Care so Much About Setup Time?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;why-do-you-care-so-much-about-setup-time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#why-do-you-care-so-much-about-setup-time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;My initial testing focused on the performance of &lt;code&gt;clang&lt;/code&gt; as well as the time taken to run &lt;code&gt;cmake&lt;/code&gt; and &lt;code&gt;configure&lt;/code&gt;. This
lays the foundation for all future work in expanding the Serpent OS package archives at a much faster pace. On the
surface, running &lt;code&gt;cmake&lt;/code&gt; can be a small part of the overall build. However, it is important in that it utilizes a single
thread, so is not sped up by adding more CPU cores like the compile time is. With a more compile heavy build, our
highly tuned compiler can build the source in around 75s. So tuning the setup step to run in 5s rather than 10s actually
reduces the overall build time by an additional 6%!&lt;/p&gt;
&lt;p&gt;There are many smaller packages where the setup time is an even higher proportion of the overall build and becomes more
relevant as you increase the numbers of threads on the builder. For example, when building &lt;code&gt;nano&lt;/code&gt; on the host, the
configure step takes 13.5s, while the build itself takes only 2.3s, so there&amp;rsquo;s significant gains to be had from speeding
up the setup stage of a build (which we will absolutely be taking advantage of!).&lt;/p&gt;
&lt;h2&gt;A Closer Look at the clang Compiler&amp;rsquo;s Performance&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;a-closer-look-at-the-clang-compilers-performance&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#a-closer-look-at-the-clang-compilers-performance&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;A first cut of the compiler results were shared earlier in &lt;a href=&#34;http://localhost:1313/blog/2021/08/02/initial-performance-testing&#34;&gt;Initial Performance Testing&lt;/a&gt;,
and given the importance to overall build time, I&amp;rsquo;ve been taking a closer look. In the post I said that &lt;code&gt;&amp;quot;At stages where I would have expected to be ahead already, the compile performance was only equal&amp;quot;&lt;/code&gt; and now I have identified the
discrepancy.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve tested multiple configurations for the &lt;code&gt;clang&lt;/code&gt; compiler and noticed that changing the default standard C++ library
makes a difference to the time of this particular build. The difference in the two runs is compiling &lt;code&gt;llvm-ar&lt;/code&gt; with the
LLVM libraries of &lt;code&gt;compiler-rt/libc++/libunwind&lt;/code&gt; or the GNU libraries of &lt;code&gt;libgcc/libstdc++&lt;/code&gt;. And just to be clear, this
is increasing the time of compiling &lt;code&gt;llvm-ar&lt;/code&gt; with &lt;code&gt;libc++&lt;/code&gt; vs &lt;code&gt;libstdc++&lt;/code&gt; and not to do with the performance of either
library. The &lt;code&gt;clang&lt;/code&gt; compiler itself is built with &lt;code&gt;libc++&lt;/code&gt; in both cases as it produces a faster compiler.&lt;/p&gt;
&lt;FigureScreenshotOne image={featuredImage} caption=&#34;&#34;/&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;Test using clang&lt;/th&gt;
          &lt;th&gt;Serpent LLVM libs&lt;/th&gt;
          &lt;th&gt;Serpent GNU libs&lt;/th&gt;
          &lt;th&gt;Host&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;cmake&lt;/code&gt; LLVM&lt;/td&gt;
          &lt;td&gt;5.89s&lt;/td&gt;
          &lt;td&gt;5.67s&lt;/td&gt;
          &lt;td&gt;10.58s&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Compile -j4 &lt;code&gt;llvm-ar&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;126.16s&lt;/td&gt;
          &lt;td&gt;112.51s&lt;/td&gt;
          &lt;td&gt;155.32s&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;configure&lt;/code&gt; gettext&lt;/td&gt;
          &lt;td&gt;36.64s&lt;/td&gt;
          &lt;td&gt;36.98s&lt;/td&gt;
          &lt;td&gt;63.55s&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The host now takes &lt;code&gt;38% longer&lt;/code&gt; than the Serpent OS clang when building with the same GNU libraries and is much more in
line with my expectations. Next steps will be getting &lt;code&gt;bolt&lt;/code&gt; and &lt;code&gt;perf&lt;/code&gt; integrated into Serpent OS to see if we can
shave even more time off the build.&lt;/p&gt;
&lt;p&gt;What remains unclear is whether this difference is due to something specifically in the &lt;code&gt;LLVM&lt;/code&gt; build or whether it would
translate to other C++ packages. I haven&amp;rsquo;t noticed a 10% increase in build time when performing the full compiler
build with &lt;code&gt;libc++&lt;/code&gt; vs &lt;code&gt;libstdc++&lt;/code&gt;.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Unpacking the Build Process: Part 1</title>
      <link>http://localhost:1313/blog/blog/2021/08/25/unpacking-the-build-process-1/</link>
      <pubDate>Wed, 25 Aug 2021 19:04:12 +1000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/08/25/unpacking-the-build-process-1/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/08/25/unpacking-the-build-process-1/Featured_hu_97571f7d058f92f4.webp" width="640" height="315"/>]]>
        
        &lt;p&gt;import FigureScreenshotOne from &amp;ldquo;@/components/ui/FigureScreenshotOne.astro&amp;rdquo;
import featuredImage from &amp;ldquo;./Featured.webp&amp;rdquo;&lt;/p&gt;
&lt;p&gt;While the build process (or packaging as it&amp;rsquo;s commonly referred to) is largely hidden to most users, it forms a
fundamental and important aspect to the efficiency of development. In Serpent OS this efficiency also extends to
users via source based builds for packages you may want to try/use that aren&amp;rsquo;t available as binaries upstream.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;The build process can be thought of in three distinct parts, setting up the build environment, compiling the source
and post build analysis plus package creation. Please note that this process hasn&amp;rsquo;t been finalized in Serpent OS so
we will be making further changes to the process where possible.&lt;/p&gt;
&lt;h2&gt;Setting up the Build Environment&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;setting-up-the-build-environment&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#setting-up-the-build-environment&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Some key parts to setting up the build environment:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Downloading packages needed as dependencies for the build&lt;/li&gt;
&lt;li&gt;Downloading upstream source files used in the build&lt;/li&gt;
&lt;li&gt;Fetching and analyzing the latest repository index&lt;/li&gt;
&lt;li&gt;Creating a reproducible environment for the build (chroot, container or VM for example)&lt;/li&gt;
&lt;li&gt;Extracting and installing packages into the environment&lt;/li&gt;
&lt;li&gt;Extracting tarballs for the build (this is frequently incorporated as part of the build process instead)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;While the focus of early optimization work has been on build time performance, there&amp;rsquo;s more overhead to creating
packages time than simply compiling code. Now the compiler is in a good place, we can explore the rest of the
build process.&lt;/p&gt;
&lt;h2&gt;Packaging is More than just Compile Time&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;packaging-is-more-than-just-compile-time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#packaging-is-more-than-just-compile-time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;There&amp;rsquo;s been plenty of progress in speeding up the creation of the build environment such as parallel downloads to
reduce connection overhead and using &lt;code&gt;zstd&lt;/code&gt; for the fast decompression of packages. But there&amp;rsquo;s more that we can
do to provide an optimal experience to our packagers.&lt;/p&gt;
&lt;p&gt;Some parts of the process are challenging to optimize as while you can download multiple files at once to ensure
maximum throughput, you are still ultimately limited by your internet speed. When packaging regularly (or building
a single package multiple times), downloaded files are cached so become a one off cost. One part we have taken
particular interest in speeding up is extracting and installing packages into the environment.&lt;/p&gt;
&lt;FigureScreenshotOne image={featuredImage} caption=&#34;Eight seconds (for a small number of dependencies) that don&#39;t need to be endlessly repeated&#34;/&gt;
&lt;h2&gt;The Dynamic Duo: boulder and moss&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;the-dynamic-duo-boulder-and-moss&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#the-dynamic-duo-boulder-and-moss&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Installing packages to a clean environment can be the most time consuming part of setting up the build (excluding
fetching files which is highly variable). Serpent OS has a massive advantage with the design of &lt;code&gt;moss&lt;/code&gt; where
packages are cached (extracted on disk) and ready to be used by multiple roots, including the creation of clean
build environments for &lt;code&gt;boulder&lt;/code&gt;. Having experienced a few build systems in action, setting up the root could take
quite some time with a large number of dependencies (even getting over a minute). &lt;code&gt;moss&lt;/code&gt; avoids the cost of extracting
packages entirely every build by utilizing its cache!&lt;/p&gt;
&lt;p&gt;There are also secondary benefits to how &lt;code&gt;moss&lt;/code&gt; handles packages via its caches where disk writes are reduced by only
needing to extract packages a single time. But hang on, won&amp;rsquo;t you be using &lt;code&gt;tmpfs&lt;/code&gt; for builds? Of course we will have
RAM builds as an option and there are benefits there too! When extracting packages to the RAM disk, it consumes memory
which can add up to more than a GB before the build even begins. &lt;code&gt;moss&lt;/code&gt; allows for us to start with an empty &lt;code&gt;tmpfs&lt;/code&gt; so
we can perform larger builds before exhausting the memory available on our system.&lt;/p&gt;
&lt;p&gt;Another great benefit is due to the atomic nature of &lt;code&gt;moss&lt;/code&gt;. This means that we can add packages to be cached as
soon as they&amp;rsquo;re fetched while waiting for the remaining files to finish downloading (both for &lt;code&gt;boulder&lt;/code&gt; and system
updates). Scheduling jobs becomes much more efficient and we can have the build environment available in moments after
the last file is downloaded!&lt;/p&gt;
&lt;p&gt;&lt;code&gt;moss&lt;/code&gt; allows us to eliminate one of the bigger time sinks in setting up builds, enabling developers and
contributors alike to be more efficient in getting work done for Serpent OS. With greater efficiency it may become
possible to provide a second architecture for older machines (if the demand arises).&lt;/p&gt;
&lt;h2&gt;Part 1?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;part-1&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#part-1&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Yes, there&amp;rsquo;s plenty more to discuss so there will be more follow up posts showing the cool features Serpent OS is doing
to both reduce the time taken to build packages and in making packages easier to create so stay tuned!&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>A Rolling Boulder Gathers No Moss</title>
      <link>http://localhost:1313/blog/blog/2021/08/10/a-rolling-boulder-gathers-no-moss/</link>
      <pubDate>Tue, 10 Aug 2021 12:02:37 +0100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/08/10/a-rolling-boulder-gathers-no-moss/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/08/10/a-rolling-boulder-gathers-no-moss/Featured_hu_c8a3043cc1072599.webp" width="640" height="360"/>]]>
        
        &lt;p&gt;We actually did it. Super pleased to announce that &lt;code&gt;moss&lt;/code&gt; is now capable
of installing and removing packages. Granted, super rough, but gotta start
somewhere right?&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Transactional system roots &amp;#43; installation in moss&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;OK let&amp;rsquo;s recap. A moss archive is super weird, and consists of multiple
containers, or payloads. We use a strongly typed binary format, per-payload
compression (Currently &lt;code&gt;zstd&lt;/code&gt;), and don&amp;rsquo;t store files in a typical archive
fashion.&lt;/p&gt;
&lt;p&gt;Instead a &lt;code&gt;.stone&lt;/code&gt; file (moss archive) has a Content Payload, which is
a compressed &amp;ldquo;megablob&amp;rdquo; of all the unique files in a given package. The
various files contained within that &amp;ldquo;megablob&amp;rdquo; are described in an IndexPayload,
which simply contains some IDs and offsets, acting much like a lookup table.&lt;/p&gt;
&lt;p&gt;That data alone doesn&amp;rsquo;t actually tell us &lt;strong&gt;where files go&lt;/strong&gt; on the filesystem
when installed. For that, we have a specialist Layout Payload, encoding the
final layout of the package on disk.&lt;/p&gt;
&lt;p&gt;As can be imagined, the weirdness made it quite difficult to install in
a trivial fashion.&lt;/p&gt;
&lt;h2&gt;Databases&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;databases&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#databases&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Well, persistence really. Thanks to &lt;code&gt;RocksDB&lt;/code&gt; and our new &lt;code&gt;moss-db&lt;/code&gt; project,
we can trivially store information we need from each package we &amp;ldquo;precache&amp;rdquo;.
Primarily, we store full system states within our new StateDB, which at
present is simply a series of package ID selections grouped by a unique
64-bit integer.&lt;/p&gt;
&lt;p&gt;Additionally we remember the layouts within the LayoutDB so that we can
eventually recreate said layout on disk.&lt;/p&gt;
&lt;h2&gt;Precaching&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;precaching&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#precaching&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Before we actually commit to an install, we try to precache all of the stone
files in our pool. So we unpack the content payload (&amp;ldquo;megablob&amp;rdquo;), split it
into various unique files in the pool ready for use. At this point we also
record the Layouts, but do not &amp;ldquo;install&amp;rdquo; the package to a system root.&lt;/p&gt;
&lt;h2&gt;Blitting&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;blitting&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#blitting&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This is our favourite step. When our cache is populated, we gather all
relevant layouts for the current selections, and then begin applying them
in a &lt;strong&gt;new&lt;/strong&gt; system root. All directories and symlinks are created as normal,
whereas any regular file is hardlinked from the pool. This process takes a
fraction of a second and gives us completely clean, deduplicated system roots.&lt;/p&gt;
&lt;p&gt;Currently these live in &lt;code&gt;/.moss/store/root/$ID/usr&lt;/code&gt;. To complete the transaction,
we update &lt;code&gt;/usr&lt;/code&gt; to point to the new &lt;code&gt;usr&lt;/code&gt; tree &lt;strong&gt;atomically&lt;/strong&gt; assuming that
a reboot isn&amp;rsquo;t needed. In future, boot switch logic will update the tree for us.&lt;/p&gt;
&lt;h2&gt;Removal&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;removal&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#removal&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Removal is quite the same as installation. We simply remove the package IDs
from the new state selections (copied from the last state) and blit a new
system root, finally updating the atomic &lt;code&gt;/usr&lt;/code&gt; pointer.&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
    &lt;img src=&#34;./Removal.webp&#34; title=&#34;Removal of packages with moss. Everything is a transaction&#34; alt=&#34;Removal&#34;  loading=&#34;lazy&#34; /&gt;
    &lt;figcaption&gt;Removal of packages with moss. Everything is a transaction&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2&gt;Tying it all together&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;tying-it-all-together&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#tying-it-all-together&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We retain classic package management traits such as having granular selections,
multiple repositories, etc, whilst sporting advanced features like full system
deduplication and transactions/rollbacks.&lt;/p&gt;
&lt;p&gt;When we&amp;rsquo;re far enough along, it&amp;rsquo;ll be possible to boot back to the last working
transaction without requiring an internet connection. Due to the use of pooling
and hardlinks, each transaction tree is only a few KiB, with files shared between
each transaction/install.&lt;/p&gt;
&lt;h2&gt;On the list..&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;on-the-list&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#on-the-list&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We need some major cleanups, better error handling, logging, timed functions,
and an eventloop driven process to allow parallel fetching/precaching prior
to final system rootfs construction.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s taken us a very long time to get to this point, and there is still more
work to be done. However this is a major milestone and we can now start
adding features and polish.&lt;/p&gt;
&lt;p&gt;Once the required features are in place, we&amp;rsquo;ll work on the much needed
pre alpha ISO :) If you fancy helping us get to that stage quicker, do
check out our OpenCollective! (We won&amp;rsquo;t limit prealpha availability,
don&amp;rsquo;t worry :))&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Moss DB Progress</title>
      <link>http://localhost:1313/blog/blog/2021/08/03/moss-db-progress/</link>
      <pubDate>Tue, 03 Aug 2021 14:16:16 +0100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/08/03/moss-db-progress/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/08/03/moss-db-progress/Featured_hu_6c97e3e6f3a31d8.webp" width="640" height="360"/>]]>
        
        &lt;p&gt;import FigureScreenshotOne from &amp;ldquo;@/components/ui/FigureScreenshotOne.astro&amp;rdquo;
import featuredImage from &amp;ldquo;./Featured.webp&amp;rdquo;&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ll try to make this update as brief as I can but it&amp;rsquo;s certainly an important one, so
let&amp;rsquo;s dive right into it. The last few weeks have been rough but work on our package manager
has still been happening. Today we&amp;rsquo;re happy to reveal another element of the equation: moss-db.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;FigureScreenshotOne image={featuredImage} caption=&#34;Putting moss-db to the test&#34;/&gt;
&lt;p&gt;&lt;code&gt;moss-db&lt;/code&gt; is an abstract API providing access to simplistic &amp;ldquo;Key Value&amp;rdquo; stores. We had initially used
some payload based files as databases but that introduced various hurdles, so we decided to take
a more abstract approach to not tie ourselves to any specific implementation of a database.&lt;/p&gt;
&lt;p&gt;Our main goal with &lt;code&gt;moss-db&lt;/code&gt; is to encapsulate the &lt;a href=&#34;https://rocksdb.org/&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;RocksDB&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; library, providing sane, idiomatic access
to a key value store.&lt;/p&gt;
&lt;h2&gt;High level requirements&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;high-level-requirements&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#high-level-requirements&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;At the highest level, we needed something that could store arbitrary keys and values, grouped
by some kind of common key (commonly known as &amp;ldquo;buckets&amp;rdquo;). We&amp;rsquo;ve succeeded in that abstraction,
which also required us to fork a &lt;code&gt;rocksdb-binding&lt;/code&gt; to add the &lt;code&gt;Transform&lt;/code&gt; APIs required.&lt;/p&gt;
&lt;p&gt;Additionally we required idiomatic range behaviours for iteration, as well as generic access
patterns. To that affect we can now &lt;code&gt;foreach&lt;/code&gt; a bucket, pipe it through the awesomely powerful
&lt;code&gt;std.algorithm&lt;/code&gt; APIs, and automatically encode/decode keys and values through our generic APIs
when implementing the &lt;code&gt;mossdbEncode()&lt;/code&gt; and &lt;code&gt;mossdbDecode()&lt;/code&gt; functions for a specific &lt;strong&gt;type&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;In a nutshell, this was the old, ugly, hard way:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-d&#34; data-lang=&#34;d&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;cm&#34;&gt;/* old, hard way */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kd&#34;&gt;auto&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nameZ&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toStringz&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;age&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;ubyte&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ageEncoded&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nativeToBigEndian&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ageEncoded&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setDatum&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;cast&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;ubyte&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[])&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nameZ&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;..&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strlen&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nameZ&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)]),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ageEncoded&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;And this is the new, shmexy way:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-d&#34; data-lang=&#34;d&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;john&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;user 100&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;bobby is my name&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;auto&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;john&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;found&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;writeln&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;auto&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;user 100&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;found&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;writeln&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;It&amp;rsquo;s quite easy to see the new API lends itself robustly to our needs, so that
we may implement stateful, strongly typed databases for moss.&lt;/p&gt;
&lt;h2&gt;Next Steps&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;next-steps&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#next-steps&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Even though some APIs in &lt;code&gt;moss-db&lt;/code&gt; may still be lacking (remove, for example)
we&amp;rsquo;re happy that it can provide the foundation for our next steps. We now need
to roll out the new &lt;code&gt;StateDB&lt;/code&gt;, &lt;code&gt;MetaDB&lt;/code&gt; and &lt;code&gt;LayoutDB&lt;/code&gt;, to record system states,
package metadata, and filesystem layout information, respectively.&lt;/p&gt;
&lt;p&gt;With those 3 basic requirements in place we can combine the respective works
into installation routines. Which, clearly, warrants another blog post &amp;hellip; :)&lt;/p&gt;
&lt;p&gt;For now you can see the relevant projects on our &lt;a href=&#34;https://gitlab.com/serpent-os/core&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitLab&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; project.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Initial Performance Testing</title>
      <link>http://localhost:1313/blog/blog/2021/08/02/initial-performance-testing/</link>
      <pubDate>Mon, 02 Aug 2021 11:28:24 +1000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/08/02/initial-performance-testing/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/08/02/initial-performance-testing/Featured_hu_81495fbce4f6782e.webp" width="640" height="282"/>]]>
        
        &lt;p&gt;With further progress on &lt;code&gt;boulder&lt;/code&gt;, we can now build native stone packages with some easy tweaks such as profile
guided optimizations (PGO) and link time optimizations (LTO). That means we can take a first look at what the
performance of the first cut of Serpent OS shows for the future. The tests have been conducted using
&lt;a href=&#34;https://github.com/sunnyflunk/benchmarking-tools&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;benchmarking-tools&lt;/code&gt;&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; with Serpent OS measured in a &lt;code&gt;chroot&lt;/code&gt; on
the same host with the same kernel and config.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;One of the key focuses for early in the project is on reducing build time. Every feature can either add or subtract
from the time it takes to produce a package. With a source/binary hybrid model, users will greatly benefit from the
faster builds as well. In terms of what I&amp;rsquo;ve targeted in these tests is the performance of &lt;code&gt;clang&lt;/code&gt; and testing some
compiler flag options on &lt;code&gt;cmake&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Clang Shows its Promise&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;clang-shows-its-promise&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#clang-shows-its-promise&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;code&gt;clang&lt;/code&gt; has always been a compiler with a big future. The performance credentials have also been improving each release
and are now starting to see it perform strongly against its &lt;code&gt;GNU&lt;/code&gt; counterpart. It is common to hear that &lt;code&gt;clang&lt;/code&gt; is slow
and produces less optimized code. I will admit that most distros provide a slow build of &lt;code&gt;clang&lt;/code&gt;, but that will not be
the case in Serpent OS.&lt;/p&gt;
&lt;p&gt;It is important to note that in this comparison the Host distro has pulled in some patches from &lt;code&gt;LLVM-13&lt;/code&gt; that greatly
improve the performance of &lt;code&gt;clang&lt;/code&gt;. Prior to this, their tests actually took &lt;code&gt;50% longer&lt;/code&gt; for &lt;code&gt;cmake&lt;/code&gt; and &lt;code&gt;configure&lt;/code&gt;
but only &lt;code&gt;10% longer&lt;/code&gt; for compiling. &lt;code&gt;boulder&lt;/code&gt; does not yet support patching in builds so the packages are completely
vanilla.&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;Test using clang&lt;/th&gt;
          &lt;th&gt;Serpent&lt;/th&gt;
          &lt;th&gt;Host&lt;/th&gt;
          &lt;th&gt;Difference&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;cmake&lt;/code&gt; LLVM&lt;/td&gt;
          &lt;td&gt;5.89s&lt;/td&gt;
          &lt;td&gt;10.58s&lt;/td&gt;
          &lt;td&gt;79.7%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Compile -j4 &lt;code&gt;llvm-ar&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;126.16s&lt;/td&gt;
          &lt;td&gt;155.32s&lt;/td&gt;
          &lt;td&gt;23.1%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;configure&lt;/code&gt; gettext&lt;/td&gt;
          &lt;td&gt;36.64s&lt;/td&gt;
          &lt;td&gt;63.55s&lt;/td&gt;
          &lt;td&gt;73.4%&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Based on the results during testing, the performance of &lt;code&gt;clang&lt;/code&gt; in Serpent OS still has room to improve and was just a
quick tuning pass. At stages where I would have expected to be ahead already, the compile performance was only equal
(but &lt;code&gt;cmake&lt;/code&gt; and &lt;code&gt;configure&lt;/code&gt; were still well ahead).&lt;/p&gt;
&lt;h2&gt;GCC Matters Too!&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;gcc-matters-too&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#gcc-matters-too&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;While &lt;code&gt;clang&lt;/code&gt; is the default compiler in Serpent OS, there may be instances where the performance is not quite where it
could be. It is common to see software have more optimized code paths where they are not tested with &lt;code&gt;clang&lt;/code&gt; upstream. As
an example, here&amp;rsquo;s a couple of patches in flac (&lt;a href=&#34;https://github.com/xiph/flac/commit/67ea8badadd3e63b8e8af5fe837d075104569330&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;1&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;,
&lt;a href=&#34;https://github.com/xiph/flac/commit/d4a1b345dd16591ff6f17c67ee519afebe2f9792&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;2&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;) that demonstrate this being improved.
Using &lt;code&gt;benchmarking-tools&lt;/code&gt;, it is easy to see where &lt;code&gt;gcc&lt;/code&gt; and &lt;code&gt;clang&lt;/code&gt; builds are running different functions via &lt;code&gt;perf&lt;/code&gt;
results.&lt;/p&gt;
&lt;p&gt;In circumstances where the slowdown is due to hitting poor optimization paths in &lt;code&gt;clang&lt;/code&gt;, we always have the option to
build packages using &lt;code&gt;gcc&lt;/code&gt;, where the &lt;code&gt;GNU&lt;/code&gt; toolchain is essential for building &lt;code&gt;glibc&lt;/code&gt;. Therefore having a solid &lt;code&gt;GNU&lt;/code&gt;
toolchain is important but small compile time improvements won&amp;rsquo;t be noticed by users or developers as much.&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;Test using gcc&lt;/th&gt;
          &lt;th&gt;Serpent&lt;/th&gt;
          &lt;th&gt;Host&lt;/th&gt;
          &lt;th&gt;Difference&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;cmake&lt;/code&gt; LLVM&lt;/td&gt;
          &lt;td&gt;7.00s&lt;/td&gt;
          &lt;td&gt;7.95s&lt;/td&gt;
          &lt;td&gt;13.6%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Compile &lt;code&gt;llvm-ar&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;168.11s&lt;/td&gt;
          &lt;td&gt;199.07s&lt;/td&gt;
          &lt;td&gt;18.4%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;configure&lt;/code&gt; gettext&lt;/td&gt;
          &lt;td&gt;45.45s&lt;/td&gt;
          &lt;td&gt;51.93s&lt;/td&gt;
          &lt;td&gt;14.3%&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;An OS is More Than Just a Compiler&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;an-os-is-more-than-just-a-compiler&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#an-os-is-more-than-just-a-compiler&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;While the current bootstrap exists only as a starting point for building the rest of Serpent OS, there are some other
packages we can easily test and compare. Here&amp;rsquo;s a summary of those results.&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;Test&lt;/th&gt;
          &lt;th&gt;Serpent&lt;/th&gt;
          &lt;th&gt;Host&lt;/th&gt;
          &lt;th&gt;Difference&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;Pybench&lt;/td&gt;
          &lt;td&gt;1199.67ms&lt;/td&gt;
          &lt;td&gt;1024.33ms&lt;/td&gt;
          &lt;td&gt;-14.6%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;xz&lt;/code&gt; Compress Kernel (-3 -T1)&lt;/td&gt;
          &lt;td&gt;42.67s&lt;/td&gt;
          &lt;td&gt;46.57s&lt;/td&gt;
          &lt;td&gt;9.1%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;xz&lt;/code&gt; Compress Kernel (-9 -T4)&lt;/td&gt;
          &lt;td&gt;71.25s&lt;/td&gt;
          &lt;td&gt;76.12s&lt;/td&gt;
          &lt;td&gt;6.8%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;xz&lt;/code&gt; Decompress Kernel&lt;/td&gt;
          &lt;td&gt;8.03s&lt;/td&gt;
          &lt;td&gt;8.18s&lt;/td&gt;
          &lt;td&gt;1.9%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;zlib&lt;/code&gt; Compress Kernel&lt;/td&gt;
          &lt;td&gt;12.60s&lt;/td&gt;
          &lt;td&gt;13.17s&lt;/td&gt;
          &lt;td&gt;4.5%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;zlib&lt;/code&gt; Decompress Kernel&lt;/td&gt;
          &lt;td&gt;5.14s&lt;/td&gt;
          &lt;td&gt;5.21s&lt;/td&gt;
          &lt;td&gt;1.4%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;zstd&lt;/code&gt; Compress Kernel (-8 -T1)&lt;/td&gt;
          &lt;td&gt;5.77s&lt;/td&gt;
          &lt;td&gt;7.06s&lt;/td&gt;
          &lt;td&gt;22.3%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;zstd&lt;/code&gt; Compress Kernel (-19 -T4)&lt;/td&gt;
          &lt;td&gt;51.87s&lt;/td&gt;
          &lt;td&gt;66.52s&lt;/td&gt;
          &lt;td&gt;28.3%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;zstd&lt;/code&gt; Decompress Kernel&lt;/td&gt;
          &lt;td&gt;2.90s&lt;/td&gt;
          &lt;td&gt;3.08s&lt;/td&gt;
          &lt;td&gt;6.3%&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;State of the Bootstrap&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;state-of-the-bootstrap&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#state-of-the-bootstrap&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;From my experiences with testing the bootstrap, it is clear there&amp;rsquo;s some cobwebs in there that require some more iterations
of the toolchain.
There also seems to be some slowdowns in not including all the dependencies of some packages. Once more packages are included,
naturally all the testing will be redone and help influence the default compiler flags of the project.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s not yet clear the experience of using &lt;code&gt;libc++&lt;/code&gt; vs &lt;code&gt;libstdc++&lt;/code&gt; with the &lt;code&gt;clang&lt;/code&gt; compiler. Once the cobwebs are out and
Serpent OS further developed, the impact (if any) should become more obvious. There are also some parts not yet included in
&lt;code&gt;boulder&lt;/code&gt; such as stripping files, LTO and other flags by default that will speed up loading libraries. At this stage this is
deliberate until integrating outputs from builds (such as symbol information).&lt;/p&gt;
&lt;p&gt;But this provides an excellent platform to build out the rest of the OS. The raw speed of the &lt;code&gt;clang&lt;/code&gt; compiler will make
iterating and expanding the package set a real joy!&lt;/p&gt;
&lt;h2&gt;Hang On, What&amp;rsquo;s Going on With Python?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;hang-on-whats-going-on-with-python&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#hang-on-whats-going-on-with-python&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Very astute of you to notice! &lt;code&gt;python&lt;/code&gt; in its current state is an absolute minimal build of &lt;code&gt;python&lt;/code&gt; in order to run &lt;code&gt;meson&lt;/code&gt;.
However, I did an &lt;code&gt;analyze&lt;/code&gt; run in &lt;code&gt;benchmarking-tools&lt;/code&gt; where it became obvious that they were doing completely different
things.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Apples and oranges comparison&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;For now I&amp;rsquo;ll simply be assuming this will sort itself out when &lt;code&gt;python&lt;/code&gt; is built complete with all its functionality. And
before anyone wants to point the finger at &lt;code&gt;clang&lt;/code&gt;, you get the same result with &lt;code&gt;gcc&lt;/code&gt;.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Boulder Keeps On Rolling</title>
      <link>http://localhost:1313/blog/blog/2021/07/27/boulder-keeps-on-rolling/</link>
      <pubDate>Tue, 27 Jul 2021 16:05:23 +1100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/07/27/boulder-keeps-on-rolling/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/07/27/boulder-keeps-on-rolling/Featured_hu_a782b05911c2ddd4.webp" width="640" height="445"/>]]>
        
        &lt;p&gt;Squirrelling away in the background has been some great changes to bring &lt;code&gt;boulder&lt;/code&gt; closer to its full potential. Here&amp;rsquo;s
a quick recap of some of the more important ones.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Boulder hard at work&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;Key Changes to Boulder&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;key-changes-to-boulder&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#key-changes-to-boulder&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Fixed a path issue that prevented manifests from being written for 32bit builds&lt;/li&gt;
&lt;li&gt;Added keys to control where the tarballs are extracted to
&lt;ul&gt;
&lt;li&gt;This results in a greatly simplified setup stage when using multiple upstreams&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;More customizations to control the final c{,xx}flags exported to the build&lt;/li&gt;
&lt;li&gt;Added a key to run at the start of every stage so definitions can be exported easily in the &lt;code&gt;stone.yml&lt;/code&gt; file&lt;/li&gt;
&lt;li&gt;Fixed an issue where duplicate hash files were being included in the Content Payload
&lt;ul&gt;
&lt;li&gt;This resulted in reducing the Content Payload size by 750MB of a glibc build with duplicate locale files&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Finishing touches on profile guided optimization (PGO) builds - including clang&amp;rsquo;s context-sensitive PGO
&lt;ul&gt;
&lt;li&gt;Fixed a few typos in the macros to make it all work correctly&lt;/li&gt;
&lt;li&gt;Profile flags are now added to the build stages&lt;/li&gt;
&lt;li&gt;Added the llvm profile merge steps after running the workload&lt;/li&gt;
&lt;li&gt;Recreate a clean working directory at the start of each PGO phase&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;With all this now in place, the build stages of &lt;code&gt;boulder&lt;/code&gt; are close to completion. But don&amp;rsquo;t worry, there&amp;rsquo;s plenty more
great features to come to make building packages for Serpent OS simple, flexible and performant. Next steps will be testing
out these new features to see how much they can add to the overall &lt;code&gt;stage4&lt;/code&gt; performance.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Let There Be Databases</title>
      <link>http://localhost:1313/blog/blog/2021/05/18/let-there-be-databases/</link>
      <pubDate>Tue, 18 May 2021 10:31:32 +0100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/05/18/let-there-be-databases/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/05/18/let-there-be-databases/Featured_hu_aefdc32eb897e01f.webp" width="640" height="427"/>]]>
        
        &lt;p&gt;We haven&amp;rsquo;t been too great on sharing progress lately, so welcome to an overdue update on
timelines, progress, and database related shmexiness.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Emerging DB design&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;OK, so you may remember &lt;code&gt;moss-format&lt;/code&gt;, our module for reading and writing moss binary archives.
It naturally contains much in the way of binary serialisation support, so we&amp;rsquo;ve extended the
format to support &amp;ldquo;database&amp;rdquo; files. In reality, they are more like tables binary encoded into
a single file, identified by a filepath.&lt;/p&gt;
&lt;p&gt;The DB archives are currently stored &lt;strong&gt;without&lt;/strong&gt; compression to ensure 0-copy mmap() access
when loading from disk, as a premature optimisation. This may change in future if we find the
DB files taking up too much disk space.&lt;/p&gt;
&lt;p&gt;So far we&amp;rsquo;ve implemented a &amp;ldquo;StateMetaDB&amp;rdquo;, which stores metadata on every recorded State on
the system, and right now I&amp;rsquo;m in the progress of implementing the &amp;ldquo;StateEntriesDB&amp;rdquo;, which is
something akin to a binary encoded dpkg selections file with candidate specification reasons.&lt;/p&gt;
&lt;p&gt;Next on the list is the LayoutsDB (file manifests) and the CacheDB, for recording refcounts
of every cached file in the OS pool.&lt;/p&gt;
&lt;h2&gt;Integration with Serpent ECS&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;integration-with-serpent-ecs&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#integration-with-serpent-ecs&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;An interesting trial we&amp;rsquo;re currently implementing is to hook the DB implementation up to
our Entity Component system from the Serpent Engine, in order to provide fast, cache coherent,
in memory storage for the DB. It&amp;rsquo;s implemented using many nice DLang idioms, allowing the full
use of &lt;code&gt;std.algorithm&lt;/code&gt; APIs:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-d&#34; data-lang=&#34;d&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;auto&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;states&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;std.algorithm&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kd&#34;&gt;auto&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;view&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;View&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ReadOnly&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;entityManager&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;view&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;withComponents&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;StateMetaArchetype&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;StateDescriptor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;timestamp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;cm&#34;&gt;/* Write the DB back in ascending numerical order */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;states&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;array&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;sort&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;each&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;writeOne&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;Tying it all together&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;tying-it-all-together&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#tying-it-all-together&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Ok, so you can see we need basic DB types for storing the files for each moss archive, plus each
cache and state entry. If you look at the ECS code above, it becomes quite easy to imagine how this
will impact installation of archives. Our new install code will simply modify the existing state,
cache the incoming package, and apply the layout from the DB to disk, before committing the new
DB state.&lt;/p&gt;
&lt;p&gt;In essence, our DB work is the current complex target, and installation is a &amp;lt;50 line trick
tying it all together.&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-d&#34; data-lang=&#34;d&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;cm&#34;&gt;/* Pseudocode */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;State&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;newState&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;foreach&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pkgID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;currentState&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;filter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;reason&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SelectionReason&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Explicit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;kd&#34;&gt;auto&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fileSet&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;layoutDB&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pkgID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;fileSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;sort&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;each&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;applyLayout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;cm&#34;&gt;/* Record into new state */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Til next time -&lt;/p&gt;
&lt;p&gt;Ikey&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Moss Unlocked</title>
      <link>http://localhost:1313/blog/blog/2021/03/20/moss-unlocked/</link>
      <pubDate>Sat, 20 Mar 2021 14:07:30 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/03/20/moss-unlocked/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/03/20/moss-unlocked/Featured_hu_2c51e6f32e95b703.webp" width="640" height="427"/>]]>
        
        &lt;p&gt;Well, it&amp;rsquo;s not all doom and gloom these days. We&amp;rsquo;ve actually made some
significant progress in the last few days, so it seems a good time to
share a progress update.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Extracting content from moss archives&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;moss can now extract&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;moss-can-now-extract&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#moss-can-now-extract&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Oh yeah, that totally happened. So, we can now successfully build moss
packages from &lt;code&gt;boulder&lt;/code&gt; and then extract them to disk once again with
&lt;code&gt;moss&lt;/code&gt;. This might sound totally uninteresting, but it demonstrates
that our format is actually working as intended.&lt;/p&gt;
&lt;p&gt;Admittedly the code is super rough within &lt;code&gt;moss&lt;/code&gt; and somewhat proof
of concept, however we&amp;rsquo;re able to extract the contents of the moss
archive and rebuild the layout on disk.&lt;/p&gt;
&lt;h2&gt;What makes extraction difficult?&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;what-makes-extraction-difficult&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#what-makes-extraction-difficult&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Well, quirky new format for one. A moss archive currently consists of
4 &amp;ldquo;payloads&amp;rdquo;, or major sections:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;MetaPayload&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Contains all package &lt;strong&gt;information&lt;/strong&gt;, with strongly typed keys.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;IndexPayload&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Contains the IDs of all unique files (hash) and their offsets within
the ContentPayload&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;LayoutPayload&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;A sequence of specialised structs describing the final &amp;ldquo;layout&amp;rdquo; of the
package on disk, with attributes, paths, and for regular files, the ID
of the file in the ContentPayload to build this file &lt;strong&gt;from&lt;/strong&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ContentPayload&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;A binary blob containing every unique file from the package, in an order
described by the &lt;code&gt;IndexPayload&lt;/code&gt;. The files are stored sequentially with
no gaps.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Additionally, each payload is independently compressed using &lt;code&gt;zstd&lt;/code&gt;. In order
to extract files to disk, we must first decompress &lt;code&gt;ContentPayload&lt;/code&gt; to a
temporary file. Next, we blit each file from the &amp;ldquo;megablob&amp;rdquo; to the cache store,
using the &lt;code&gt;IndexPayload&lt;/code&gt; to understand the offsets. Finally, we apply the
instructions in &lt;code&gt;LayoutPayload&lt;/code&gt; to construct the final layout on disk, hardlinking
the cache assets into their final locations, setting attributes, etc.&lt;/p&gt;
&lt;p&gt;Net result? Deduplication on a per package basis, and a system-wide deduplication
policy allowing sharing of identical assets on disk between multiple packages.
This will also power our core update mechanism, whereby each update is atomic,
and is simply the difference on disk from the previous version, permitting a
powerful rollback mechanism.&lt;/p&gt;
&lt;h2&gt;Room for improvement&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;room-for-improvement&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#room-for-improvement&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;figure&gt;
    &lt;img src=&#34;./Multiple.webp&#34; title=&#34;Extracting multiple moss archives&#34; alt=&#34;Multiple&#34;  loading=&#34;lazy&#34; /&gt;
    &lt;figcaption&gt;Extracting multiple moss archives&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;There are areas where we&amp;rsquo;re doing things inefficiently, and we&amp;rsquo;ll certainly improve
that in future revisions of the important. For example, &lt;code&gt;IndexPayload&lt;/code&gt; actually
wastes some bytes by storing redundant information that can be calculated at
runtime. Additionally, we want to use the zstd C APIs directly to gain the level
of control we &lt;strong&gt;actually need&lt;/strong&gt;. We&amp;rsquo;re also going to wrap the &lt;code&gt;copy_file_range&lt;/code&gt;
syscall to make extraction of the content payload more efficient and not rely on
userspace copies.&lt;/p&gt;
&lt;p&gt;However, we&amp;rsquo;re working towards a prealpha, and some inefficiencies are OK. Our
first port of call will be a prealpha image constructed from &lt;code&gt;.stone&lt;/code&gt; files, produced
by &lt;code&gt;boulder&lt;/code&gt;, installed by &lt;code&gt;moss&lt;/code&gt;. This will validate our toolchain and tooling
and serve as a jumping off point for the project.&lt;/p&gt;
&lt;p&gt;Stay tuned, there is a whole bunch of awesome coming now that moss is officially
unlocked and progressing.&lt;/p&gt;
&lt;h2&gt;And finally&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;and-finally&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#and-finally&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;I want to thank everyone who is currently supporting the project. I also want to personally
thank you for your understanding of the setbacks of real life, given the difficult times myself
and my family have been going through. I hope it is clear that I remain committed to the
project and it&amp;rsquo;s future, which is why we&amp;rsquo;re transparently run and funded via &lt;a href=&#34;https://opencollective.com/serpent-os&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;OpenCollective&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Despite the rough times, work continues, and awesome people join our ranks on a regular basis.
Stability is on the immediate horizon and work with Serpent OS grows exponentially. You can
be part of our journey, and help us build an amazing community and project that outlives us
all.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Optimising Package Distribution</title>
      <link>http://localhost:1313/blog/blog/2021/03/16/optimising-package-distribution/</link>
      <pubDate>Tue, 16 Mar 2021 22:19:12 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/03/16/optimising-package-distribution/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/03/16/optimising-package-distribution/Featured_hu_56e14e276fd51a88.webp" width="640" height="424"/>]]>
        
        &lt;p&gt;Getting updates as fast as possible to users has made deltas a popular and sought after feature for distributing
packages. Over the last couple of days, I&amp;rsquo;ve been investigating various techniques we can look at to support deltas in
&lt;code&gt;moss&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h2&gt;Trade-offs Between Packages and Deltas&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;trade-offs-between-packages-and-deltas&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#trade-offs-between-packages-and-deltas&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Minimising the size of updates is particularly valuable where files are downloaded many times and even better if they&amp;rsquo;re
updated infrequently. With a rolling release, packages will be updated frequently, so creating deltas can become
resource intensive, especially if supporting updates over a longer period of time. Therefore it&amp;rsquo;s important to get the
right balance between compression speed, decompression memory and minimising file size.&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;&lt;/th&gt;
          &lt;th&gt;Package priorities&lt;/th&gt;
          &lt;th&gt;How best to meet these needs&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;Developers&lt;/td&gt;
          &lt;td&gt;Creation speed&lt;/td&gt;
          &lt;td&gt;Quickly created packages&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Users&lt;/td&gt;
          &lt;td&gt;File size and update speed&lt;/td&gt;
          &lt;td&gt;Size minimised deltas&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;From the users point of view, minimising file size and upgrade time are important priorities, but for a developer, the
speed at which packages are created and indexed is vital to progression. Deltas are different to packages in that they
aren&amp;rsquo;t required immediately, so there&amp;rsquo;s minimal impact in taking longer to minimise their size. By getting deltas right,
we can trade-off the size of packages to speed up development, while users will not be affected and fetch only size
optimised deltas.&lt;/p&gt;
&lt;h2&gt;Test Case - QtWebEngine&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;test-case---qtwebengine&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#test-case---qtwebengine&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;QtWebEngine provides a reasonable test case where the package is a mix of binaries, resources and translations, but
above average in size (157.3MB uncompressed). The first trade-off for speed over size has already been made by
incorporating &lt;code&gt;zstd&lt;/code&gt; in moss over &lt;code&gt;xz&lt;/code&gt;, where even with max compression &lt;code&gt;zstd&lt;/code&gt; is already 5.6% larger than using &lt;code&gt;xz&lt;/code&gt;.
This is of course due to the amazing decompression speeds where &lt;code&gt;zstd&lt;/code&gt; is magnitudes faster.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Compression levels with zstd&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;With maximum compression, large packages can take over a minute to compress. With a moderate increase in size, one can
reduce compression time by 2-10x. While making me happier as a developer, it does create extra network load during
updates.&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;Full Package&lt;/th&gt;
          &lt;th&gt;zstd -16 -T0&lt;/th&gt;
          &lt;th&gt;zstd -16&lt;/th&gt;
          &lt;th&gt;zstd -19 -T0&lt;/th&gt;
          &lt;th&gt;zstd -19&lt;/th&gt;
          &lt;th&gt;zstd -22&lt;/th&gt;
          &lt;th&gt;xz -9&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;Time to create&lt;/td&gt;
          &lt;td&gt;5.4s&lt;/td&gt;
          &lt;td&gt;26.8s&lt;/td&gt;
          &lt;td&gt;27.8s&lt;/td&gt;
          &lt;td&gt;56.0s&lt;/td&gt;
          &lt;td&gt;70.6s&lt;/td&gt;
          &lt;td&gt;66.5s&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Size of package&lt;/td&gt;
          &lt;td&gt;52.6MB&lt;/td&gt;
          &lt;td&gt;52.6MB&lt;/td&gt;
          &lt;td&gt;49.2MB&lt;/td&gt;
          &lt;td&gt;49.2MB&lt;/td&gt;
          &lt;td&gt;48.4MB&lt;/td&gt;
          &lt;td&gt;45.9MB&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;Deltas to the Rescue!&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;deltas-to-the-rescue&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#deltas-to-the-rescue&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;There are two basic methods for deltas. One simple method is to include only files that have been changed since the
earlier release. With reproducible builds, it is typical to create the same file from the same inputs. However, with a
rolling release model, files will frequently have a small change from dependency changes and new versions of the package
itself. In these circumstances the delta size starts to get closer to the full package anyway. As a comparison to other
delta techniques, this approach resulted in a 38.2MB delta as it was a rebuild of the same version at a different time
so the resources and translations were unchanged (and therefore omitted from the delta).&lt;/p&gt;
&lt;p&gt;An alternative is a binary diff, which is a significant improvement when files have small changes between releases.
&lt;code&gt;bsdiff&lt;/code&gt; has long been used for this purpose and trying it out (without knowing much about it) I managed to create a
delta of 33.2MB, not a bad start at all.&lt;/p&gt;
&lt;p&gt;To highlight the weakness of the simple method, when you compare the delta across a version change, the simple delta was
only a 7% reduction of the full package (as most files have changed), while using an optimal binary diff, it still
managed to achieve a respectable 31% size reduction.&lt;/p&gt;
&lt;h2&gt;A New Contender&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;a-new-contender&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#a-new-contender&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;While looking into alternatives, I happened to &lt;a href=&#34;https://github.com/facebook/zstd/releases/tag/v1.4.5&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;stumble across&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt;
a new feature in &lt;code&gt;zstd&lt;/code&gt; which can be used to create deltas. As we already use &lt;code&gt;zstd&lt;/code&gt; heavily it should make integration
easier. &lt;code&gt;--patch-from&lt;/code&gt; allows &lt;code&gt;zstd&lt;/code&gt; to use the old uncompressed package as a dictionary to create the newer package. In
this way common parts between the releases will be reused in order to reduce the file size. Playing around I quickly
achieved the same size as &lt;code&gt;bsdiff&lt;/code&gt;, and with a few tweaks was able to further reduce the delta by a &lt;strong&gt;further 23.5%!&lt;/strong&gt;
The best part is that it has the same speedy decompression as &lt;code&gt;zstd&lt;/code&gt;, so it will recreate most packages from deltas in
the blink of an eye!&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;Delta&lt;/th&gt;
          &lt;th&gt;only changed files&lt;/th&gt;
          &lt;th&gt;bsdiff&lt;/th&gt;
          &lt;th&gt;zstd -19&lt;/th&gt;
          &lt;th&gt;zstd -22&lt;/th&gt;
          &lt;th&gt;zstd -22 &amp;ndash;zstd=chainLog=30&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;Time to create&lt;/td&gt;
          &lt;td&gt;60.8s&lt;/td&gt;
          &lt;td&gt;153.0s&lt;/td&gt;
          &lt;td&gt;85.5s&lt;/td&gt;
          &lt;td&gt;111.6s&lt;/td&gt;
          &lt;td&gt;131.8s&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Size of delta&lt;/td&gt;
          &lt;td&gt;38.2MB&lt;/td&gt;
          &lt;td&gt;33.2MB&lt;/td&gt;
          &lt;td&gt;33.3MB&lt;/td&gt;
          &lt;td&gt;28.5MB&lt;/td&gt;
          &lt;td&gt;25.4MB&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;Next Steps&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;next-steps&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#next-steps&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;There&amp;rsquo;s certainly a lot of information to digest, but the next step is to integrate a robust delta solution into the
&lt;code&gt;moss&lt;/code&gt; format. I really like the &lt;code&gt;zstd&lt;/code&gt; approach, where you can tune for speed with an increase in size if desired. With
minimising on delta size, users can benefit from smaller updates while developers can benefit from faster package
creation times.&lt;/p&gt;
&lt;p&gt;Some final thoughts for future consideration:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;zstd&lt;/code&gt; has seen many improvements over the years, so I believe that ratios and performance will see incremental
improvements over time. Release &lt;a href=&#34;https://github.com/facebook/zstd/releases/tag/v1.4.7&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;1.4.7&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; already brought
significant improvements to deltas (which are reflected in this testing).&lt;/li&gt;
&lt;li&gt;The highest compression levels (&lt;code&gt;--ultra&lt;/code&gt;) are single threaded in &lt;code&gt;zstd&lt;/code&gt;, so delta creation can be done in parallel to
maximise utilisation.&lt;/li&gt;
&lt;li&gt;Over optimising the tunables can have a negative impact on both speed and size. As an example,
&lt;code&gt;--zstd=targetLength=4096&lt;/code&gt; did result in a 2KB reduction in size at the same speed, but when applied to different inputs
(kernel source tree), it not only made it larger by a few hundred bytes, but added &lt;strong&gt;4 minutes&lt;/strong&gt; to delta creation!&lt;/li&gt;
&lt;li&gt;Memory usage of applying deltas can be high for large packages (1.74GB for the kernel source tree) as it has to ingest
the full size of the original uncompressed package. It is certainly possible to split up payloads with some delta users
even creating patches on a per file basis. It is a bit more complicated when library names change version numbers each
release with only the SONAME symlink remaining unchanged.&lt;/li&gt;
&lt;li&gt;There&amp;rsquo;s always the option to repack packages at higher compression levels later (when deltas are created). This solves
getting the package &amp;rsquo;live&amp;rsquo; ASAP and minimises the size (eventually), but adds some complication.&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>Moss Format: Read Write Support</title>
      <link>http://localhost:1313/blog/blog/2021/02/17/moss-format-read-write-support/</link>
      <pubDate>Wed, 17 Feb 2021 22:35:11 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/02/17/moss-format-read-write-support/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/02/17/moss-format-read-write-support/Featured_hu_7c8e5ad68e4fa843.webp" width="640" height="427"/>]]>
        
        &lt;p&gt;It&amp;rsquo;s been 8 days since our last blogpost and a lot of development work has happened
in that time. Specifically, we&amp;rsquo;ve completely reworked the internals of the &lt;code&gt;moss-format&lt;/code&gt;
module to support read/write operations.. Which means installation is coming soon (TM)&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Development work on moss-format&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;So, many commits have been made to the core repositories, however the most
important project to focus on right now is &lt;code&gt;moss-format&lt;/code&gt;, which we used to
define and implement our binary and source formats. This module is shared
between &lt;code&gt;boulder&lt;/code&gt;, our build tool, and &lt;code&gt;moss&lt;/code&gt;, our package manager.&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ve removed the old enumeration approach from the &lt;code&gt;Reader&lt;/code&gt; class, instead
requiring that it processes &lt;strong&gt;data&lt;/strong&gt; payloads in-place, deferring reading the
&lt;strong&gt;content&lt;/strong&gt; payload streams. We&amp;rsquo;ve also enforced strong typing to allow
safe and powerful APIs:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-d&#34; data-lang=&#34;d&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;moss.format.binary.payload.meta&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MetaPayload&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kd&#34;&gt;auto&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;reader&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Reader&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;File&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;rb&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kd&#34;&gt;auto&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;metadata&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;reader&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;payload&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MetaPayload&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h1&gt;&lt;/h1&gt;&lt;p&gt;Right now we can read and write our &lt;code&gt;MetaPayload&lt;/code&gt; from and to the stream,
allowing us to encode &amp;amp; decode the metadata associated with the package,
with strong type information (i.e. &lt;code&gt;Uint64&lt;/code&gt;, &lt;code&gt;String&lt;/code&gt;, etc.)&lt;/p&gt;
&lt;h2&gt;Next Steps&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;next-steps&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#next-steps&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We need to restore the &lt;code&gt;IndexPayload&lt;/code&gt;, &lt;code&gt;LayoutPayload&lt;/code&gt; and &lt;code&gt;ContentPayload&lt;/code&gt;
definitions. The first two are simply &lt;strong&gt;data&lt;/strong&gt; payloads and will largely
follow the design of the newly reimplemented &lt;code&gt;MetaPayload&lt;/code&gt;. Then we restore
&lt;code&gt;ContentPayload&lt;/code&gt; support, and this will allow the next steps: unpack, install.&lt;/p&gt;
&lt;p&gt;Many of the babysteps required are done now, which power our binary format.
The design of the API is done in a way which will allow powerful manipulation
via the &lt;code&gt;std.algorithm&lt;/code&gt; and &lt;code&gt;std.range&lt;/code&gt; APIs, enabling extremely simple and
reliable installation routines.&lt;/p&gt;
&lt;p&gt;It might seem odd that we&amp;rsquo;ve spent so much time on the core &lt;strong&gt;format&lt;/strong&gt;,
however I should point out that the design of the format is central to the
OS design. Our installation routine is &lt;strong&gt;not&lt;/strong&gt; unpacking of an archive.&lt;/p&gt;
&lt;p&gt;With our binary format, the stream contains multiple PayloadHeaders,
with fixed lengths, type, tag, version, and compression information.
It is up to each Payload implementation to then parse the binary
data contained within. Currently our Payloads are compressed using ZSTD, though
other compression algorithms are supported.&lt;/p&gt;
&lt;p&gt;So, we have the &lt;code&gt;MetaPayload&lt;/code&gt; for metadata. Additionally, we encode all &lt;strong&gt;unique&lt;/strong&gt;
files in the package in a single compressed payload, the &lt;code&gt;ContentPayload&lt;/code&gt;. The
offset to each unique file (by hash) is stored within the &lt;code&gt;IndexPayload&lt;/code&gt;, and
the filesystem layout is encoded as data within the &lt;code&gt;LayoutPayload&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;In order to unpack a moss package, the &lt;code&gt;ContentPayload&lt;/code&gt; blob will be decompressed
to a temporary location. Then, each struct within the &lt;code&gt;IndexPayload&lt;/code&gt; can be used
to copy portions (&lt;code&gt;copy_file_range&lt;/code&gt;) of the blob to the cache store for permanence. We skip each Index
if its already present within the cache. Finally, the target filesystem is populated
with a view of all installed packages using the &lt;code&gt;LayoutPayload&lt;/code&gt; structs, creating
a shallow installation using hardlinks and directories.&lt;/p&gt;
&lt;p&gt;The net result is deep deduplication, atomic updates, and flexibility for the user.
Once we add transactions it&amp;rsquo;ll be possible to boot an older version of the OS using
the deduplication capabilities for offline recovery. Additionally there is no requirement
for file deletion, rename or modification for an update to succeed.&lt;/p&gt;
&lt;h2&gt;Nutshell&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;nutshell&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#nutshell&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Huge progress. Major excitement. Such wow. Soon alphas.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Unlocking Moss</title>
      <link>http://localhost:1313/blog/blog/2021/02/09/unlocking-moss/</link>
      <pubDate>Tue, 09 Feb 2021 12:45:34 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/02/09/unlocking-moss/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/02/09/unlocking-moss/Featured_hu_5339e7cd767cb560.webp" width="640" height="427"/>]]>
        
        &lt;p&gt;import FigureScreenshotOne from &amp;ldquo;@/components/ui/FigureScreenshotOne.astro&amp;rdquo;
import featuredImage from &amp;ldquo;./Featured.webp&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Wait, what? Another blog post? In the same WEEK? Yeah totally doing that
now. So, this is just another devlog update but there have been some interesting
updates that we&amp;rsquo;d like to share.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;h2&gt;LDC present in the bootstrap&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;ldc-present-in-the-bootstrap&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#ldc-present-in-the-bootstrap&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Thanks to some awesome work from Peter, we now have LDC (The LLVM D Lang Compiler)
present in the stage3 bootstrap. To simplify the process we use the official
binary release of LDC to bootstrap LDC for Serpent OS.&lt;/p&gt;
&lt;p&gt;In turn, this has allowed us to get to a point where we can now build &lt;code&gt;moss&lt;/code&gt; and
&lt;code&gt;boulder&lt;/code&gt; within stage3. This is super important, as we&amp;rsquo;ll use the stage3 chroot
and &lt;code&gt;boulder&lt;/code&gt; to produce the binary packages that create stage4.&lt;/p&gt;
&lt;p&gt;Some patching has taken place to prevent using &lt;code&gt;ld.gold&lt;/code&gt; and instead use &lt;code&gt;lld&lt;/code&gt;
to integrate with our toolchain decisions.&lt;/p&gt;
&lt;FigureScreenshotOne image={featuredImage} caption=&#34;A wild LDC appears&#34;/&gt;
&lt;h2&gt;Reworking the Payload implementation&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;reworking-the-payload-implementation&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#reworking-the-payload-implementation&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Originally our prototype moss format only contained a &lt;code&gt;ContentPayload&lt;/code&gt; for files, and
a &lt;code&gt;MetaPayload&lt;/code&gt; for metadata, package information, etc. As a result, we opted for simple
structs, basic case handling and an iterable &lt;code&gt;Reader&lt;/code&gt; implementation.&lt;/p&gt;
&lt;p&gt;As the format expanded, we bolted deduplication in as a core feature. To achieve this,
we converted the &lt;code&gt;ContentPayload&lt;/code&gt; into a &amp;ldquo;megablob&amp;rdquo;, i.e. every &lt;strong&gt;unique&lt;/strong&gt; file in the
package, one after the other, all compressed in one operation. We then store the offsets
and IDs of these files within an &lt;code&gt;IndexPayload&lt;/code&gt; to allow splitting the &amp;ldquo;megablob&amp;rdquo; into
separate, unique assets. Consequently, we added a &lt;code&gt;LayoutPayload&lt;/code&gt; which describes the
final file system layout of the package, referencing the unique ID (hash) of the asset
to install.&lt;/p&gt;
&lt;p&gt;So, while the format grew into something we liked, the code supporting it became very
limiting. After many internal debates and discussions, we&amp;rsquo;re going to approach the
format from a different angle on the code front.&lt;/p&gt;
&lt;p&gt;It will no longer be necessary/possible to iterate payloads in &lt;em&gt;sequence&lt;/em&gt; within a
moss archive, instead we&amp;rsquo;ll preload the data (unparsed) and stick it aside when reading
the file, winding it to the &lt;code&gt;ContentPayload&lt;/code&gt; segment if found. After initial loading of
the file is complete, the &lt;code&gt;Reader&lt;/code&gt; API will support retrieval (and lazy unpacking ) of
a data segment. In turn this will allow code to &amp;ldquo;grab&amp;rdquo; the content, index and layout
payloads and use advanced APIs to cache assets, and apply them to disk in a single
blit operation.&lt;/p&gt;
&lt;p&gt;In short, we&amp;rsquo;ve unlocked the path to installing moss packages while preserving the
advanced features of the format. The same new APIs will permit introspection of the
archives metadata, and of course, storing these records in a stateful system database.&lt;/p&gt;
&lt;h2&gt;Thank you for the unnecessary update&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;thank-you-for-the-unnecessary-update&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#thank-you-for-the-unnecessary-update&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Oh you&amp;rsquo;re quite welcome :P Hopefully now you can see our plan, and that we&amp;rsquo;re on track
to meet our not-28th target. Sure, some code needs throwing away, but all codebases
are evolutionary. Our major hurdle has been solved (mentally) - now it&amp;rsquo;s just time
to implement it and let the good times roll.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Cleanups Complete</title>
      <link>http://localhost:1313/blog/blog/2021/02/08/cleanups-complete/</link>
      <pubDate>Mon, 08 Feb 2021 11:50:46 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2021/02/08/cleanups-complete/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2021/02/08/cleanups-complete/Featured_hu_f3b53b2b4f83efeb.webp" width="640" height="427"/>]]>
        
        &lt;p&gt;import Giphy from &amp;lsquo;@/components/ui/Giphy.astro&amp;rsquo;;&lt;/p&gt;
&lt;p&gt;Well, we&amp;rsquo;re officially back to working around the clock. After spending
some time optimising my workflow, I&amp;rsquo;ve been busy getting the entire codebase
cleaned up, so we can begin working towards an MVP.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Lots and lots of work&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;Codebase hygiene&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;codebase-hygiene&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#codebase-hygiene&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Since Friday, I&amp;rsquo;ve been working extensively on cleaning up the codebase for the
following projects:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;boulder&lt;/li&gt;
&lt;li&gt;moss&lt;/li&gt;
&lt;li&gt;moss-core&lt;/li&gt;
&lt;li&gt;moss-format&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As it now stands, 1 lint issue (a non-issue, really) exists across all 4
projects. A plethora of issues have been resolved, ranging from endian correctness
in the format to correct idiomatic D-lang integration and module naming.&lt;/p&gt;
&lt;h2&gt;Bored&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;bored&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#bored&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Granted, cleanups aren&amp;rsquo;t all that sexy. Peter has been updating many parts of
the bootstrap project, introducing systemd 247.3, LLVM 11.0.1, etc. We now have
all 3 stages building correctly again for the x86_64 target.&lt;/p&gt;
&lt;h2&gt;And then&amp;hellip;.&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;and-then&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#and-then&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Yikes, tough audience! So we&amp;rsquo;ve formed a new working TODO which will make its
way online as a public document at some point. The first stage, cleanups, is
done. Next is to restore feature development, working specifically on the
extraction and install routines. From there, much work and cadence will be
unlocked, allowing us to work towards an MVP.&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
    &lt;img src=&#34;./TODO.webp&#34; title=&#34;See, we organised stuff&#34; alt=&#34;TODO&#34;  loading=&#34;lazy&#34; /&gt;
    &lt;figcaption&gt;See, we organised stuff&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2&gt;You keep saying MVP..&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;you-keep-saying-mvp&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#you-keep-saying-mvp&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;I know, it makes me feel all &amp;hellip; cute and professional. At the moment we&amp;rsquo;re cooking up
a high level description of how an MVP demonstration could be deployed. While most of
the features are ambiguous, our current ambition is to deploy a preinstalled QCOW2
Serpent OS image as a prealpha to help validate moss/boulder/etc.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;ll be ugly. Likely slow. Probably insecure as all hell. But it&amp;rsquo;ll be &lt;strong&gt;something&lt;/strong&gt;.
It&amp;rsquo;ll allow super basic interaction with moss, and a small collection of utilities that
can be used in a terminal environment. No display whatsoever. That can come in a future
iteration :)&lt;/p&gt;
&lt;p&gt;ETA? &lt;del&gt;Definitely not by the 28th of February&lt;/del&gt;. When it&amp;rsquo;s done.&lt;/p&gt;
&lt;Giphy id=&#34;qs6ev2pm8g9dS&#34;/&gt;

      </description>
    </item>
    
    <item>
      <title>Build System Functional</title>
      <link>http://localhost:1313/blog/blog/2020/10/11/build-system-functional/</link>
      <pubDate>Sun, 11 Oct 2020 10:17:25 +0100</pubDate>
      
      <guid>http://localhost:1313/blog/blog/2020/10/11/build-system-functional/</guid>
      <description>
        
        
        
        <![CDATA[<img src="http://localhost:1313/blog/blog/2020/10/11/build-system-functional/Featured_hu_e46675b8637617c5.webp" width="640" height="360"/>]]>
        
        &lt;p&gt;import YouTube from &amp;lsquo;@/components/ui/YouTube.astro&amp;rsquo;;&lt;/p&gt;
&lt;p&gt;Wow, has it been a hectic few weeks, and it definitely shows: last time
we blogged it was about re-bootstrapping with glibc. Feels like ancient news
already! So, what&amp;rsquo;s new in the world of Serpent OS? Apart from yours truly
now being proud parent to a beautiful baby girl, work has resumed on
the development of Moss, our package manager. And it builds stuff. Awesomely.
Let&amp;rsquo;s quickly catch up with those updates and see where we&amp;rsquo;re headed next.&lt;/p&gt;
&lt;p&gt;&lt;more&gt;&lt;/more&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./Featured.webp&#34; alt=&#34;Look at all the buildiness&#34;  loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h2&gt;It lives!&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;it-lives&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#it-lives&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We&amp;rsquo;re now able to build &lt;strong&gt;the majority&lt;/strong&gt; of a moss package. Notice I&amp;rsquo;ve made
a distinction there. So, we&amp;rsquo;re able to run the build instructions, and use
all of the metadata, configuration and macros available. The only thing
we&amp;rsquo;re not actually doing is dumping the built files into a binary package.&lt;/p&gt;
&lt;YouTube title=&#39;It Lives!&#39; videoId=&#34;orhb4yTws4I&#34;/&gt;
&lt;p&gt;We&amp;rsquo;re able to do the build-system part &lt;em&gt;rather well&lt;/em&gt;, now. Right now
we support the following features in the build system:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Multiple, profile-based architecture support&lt;/li&gt;
&lt;li&gt;Automatic &lt;code&gt;-m32&lt;/code&gt; profile based cross compilation support for 32-bit libraries on 64-bit OS&lt;/li&gt;
&lt;li&gt;Basic Profile Guided Optimisation via the &lt;code&gt;workload&lt;/code&gt; key. Set a workload, optimise accordingly.&lt;/li&gt;
&lt;li&gt;LLVM Context Sensitive Profile Guided Optimisation. This is default for LLVM with the &lt;code&gt;workload&lt;/code&gt; key, and comes for free, with multiple build stages.&lt;/li&gt;
&lt;li&gt;Profile based tuning options, such as &lt;code&gt;optimize&lt;/code&gt; for speed, size, disabling hardening, etc.&lt;/li&gt;
&lt;li&gt;Trivially switch between &lt;code&gt;gnu&lt;/code&gt; and &lt;code&gt;llvm&lt;/code&gt; toolchain in &lt;code&gt;stone.yml&lt;/code&gt;, with profiles knowing the right flags to use with tuning options.&lt;/li&gt;
&lt;li&gt;Recursive macro support in build scripts, defined on per-profile level&lt;/li&gt;
&lt;li&gt;Architecture specific profiles support in stone.yml, i.e. &lt;code&gt;profiles -&amp;gt; aarch64 -&amp;gt; setup:&lt;/code&gt; to avoid if/else spaghetti.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Next on the agenda&lt;span class=&#34;hx:absolute hx:-mt-20&#34; id=&#34;next-on-the-agenda&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#next-on-the-agenda&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Now that the huge amount of scaffolding work has been done, we can actually turn the results of builds
into installable binary packages using our &lt;code&gt;moss.format.binary&lt;/code&gt; module. We&amp;rsquo;ll add some magic sauce to
have automatic subpackages + inter-package dependencies, along with the expected automatic runtime
dependencies + such. Cue some linting, et voila, build tool that&amp;rsquo;s a pleasure to work with.&lt;/p&gt;
&lt;p&gt;Once we have all those packages building, we&amp;rsquo;ll need a way to install them. Luckily some scaffolding
is in place for this already, and it won&amp;rsquo;t take much effort to support &lt;code&gt;moss install somepkg.stone&lt;/code&gt;.
Then we throw a few dozen packages in the mix, add some dependency handling, repo support, Bob&amp;rsquo;s your
uncle, and your aunt is downloading exclusive early-access images from our &lt;a href=&#34;https://opencollective.com/serpent-os&#34;target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Open Collective&lt;svg class=&#34;hx:inline hx:rtl:rotate-270 hx:align-baseline&#34; height=&#34;1em&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; stroke-width=&#34;2&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;
 &lt;path d=&#34;m9.1716 7.7574h7.0711m0 0v7.0711m0-7.0711-8.4853 8.4853&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34;/&gt;
&lt;/svg&gt;&lt;/a&gt; as soon
as they&amp;rsquo;re available. :O&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
